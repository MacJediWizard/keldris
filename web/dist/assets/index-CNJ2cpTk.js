var zh=n=>{throw TypeError(n)};var nc=(n,a,l)=>a.has(n)||zh("Cannot "+l);var N=(n,a,l)=>(nc(n,a,"read from private field"),l?l.call(n):a.get(n)),ne=(n,a,l)=>a.has(n)?zh("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(n):a.set(n,l),J=(n,a,l,c)=>(nc(n,a,"write to private field"),c?c.call(n,l):a.set(n,l),l),he=(n,a,l)=>(nc(n,a,"access private method"),l);var Xi=(n,a,l,c)=>({set _(d){J(n,a,d,l)},get _(){return N(n,a,c)}});(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function l(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(d){if(d.ep)return;d.ep=!0;const h=l(d);fetch(d.href,h)}})();var sc={exports:{}},wa={},ac={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah;function mf(){if(Ah)return me;Ah=1;var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),g=Symbol.iterator;function j(R){return R===null||typeof R!="object"?null:(R=g&&R[g]||R["@@iterator"],typeof R=="function"?R:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,k={};function L(R,D,V){this.props=R,this.context=D,this.refs=k,this.updater=V||_}L.prototype.isReactComponent={},L.prototype.setState=function(R,D){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,D,"setState")},L.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function O(){}O.prototype=L.prototype;function A(R,D,V){this.props=R,this.context=D,this.refs=k,this.updater=V||_}var E=A.prototype=new O;E.constructor=A,P(E,L.prototype),E.isPureReactComponent=!0;var z=Array.isArray,Q=Object.prototype.hasOwnProperty,B={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function se(R,D,V){var oe,de={},xe=null,Se=null;if(D!=null)for(oe in D.ref!==void 0&&(Se=D.ref),D.key!==void 0&&(xe=""+D.key),D)Q.call(D,oe)&&!W.hasOwnProperty(oe)&&(de[oe]=D[oe]);var be=arguments.length-2;if(be===1)de.children=V;else if(1<be){for(var Le=Array(be),st=0;st<be;st++)Le[st]=arguments[st+2];de.children=Le}if(R&&R.defaultProps)for(oe in be=R.defaultProps,be)de[oe]===void 0&&(de[oe]=be[oe]);return{$$typeof:n,type:R,key:xe,ref:Se,props:de,_owner:B.current}}function ve(R,D){return{$$typeof:n,type:R.type,key:D,ref:R.ref,props:R.props,_owner:R._owner}}function te(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function fe(R){var D={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(V){return D[V]})}var ce=/\/+/g;function je(R,D){return typeof R=="object"&&R!==null&&R.key!=null?fe(""+R.key):D.toString(36)}function Re(R,D,V,oe,de){var xe=typeof R;(xe==="undefined"||xe==="boolean")&&(R=null);var Se=!1;if(R===null)Se=!0;else switch(xe){case"string":case"number":Se=!0;break;case"object":switch(R.$$typeof){case n:case a:Se=!0}}if(Se)return Se=R,de=de(Se),R=oe===""?"."+je(Se,0):oe,z(de)?(V="",R!=null&&(V=R.replace(ce,"$&/")+"/"),Re(de,D,V,"",function(st){return st})):de!=null&&(te(de)&&(de=ve(de,V+(!de.key||Se&&Se.key===de.key?"":(""+de.key).replace(ce,"$&/")+"/")+R)),D.push(de)),1;if(Se=0,oe=oe===""?".":oe+":",z(R))for(var be=0;be<R.length;be++){xe=R[be];var Le=oe+je(xe,be);Se+=Re(xe,D,V,Le,de)}else if(Le=j(R),typeof Le=="function")for(R=Le.call(R),be=0;!(xe=R.next()).done;)xe=xe.value,Le=oe+je(xe,be++),Se+=Re(xe,D,V,Le,de);else if(xe==="object")throw D=String(R),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return Se}function Be(R,D,V){if(R==null)return R;var oe=[],de=0;return Re(R,oe,"","",function(xe){return D.call(V,xe,de++)}),oe}function Ke(R){if(R._status===-1){var D=R._result;D=D(),D.then(function(V){(R._status===0||R._status===-1)&&(R._status=1,R._result=V)},function(V){(R._status===0||R._status===-1)&&(R._status=2,R._result=V)}),R._status===-1&&(R._status=0,R._result=D)}if(R._status===1)return R._result.default;throw R._result}var Ee={current:null},H={transition:null},ae={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:H,ReactCurrentOwner:B};function G(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:Be,forEach:function(R,D,V){Be(R,function(){D.apply(this,arguments)},V)},count:function(R){var D=0;return Be(R,function(){D++}),D},toArray:function(R){return Be(R,function(D){return D})||[]},only:function(R){if(!te(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},me.Component=L,me.Fragment=l,me.Profiler=d,me.PureComponent=A,me.StrictMode=c,me.Suspense=f,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,me.act=G,me.cloneElement=function(R,D,V){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var oe=P({},R.props),de=R.key,xe=R.ref,Se=R._owner;if(D!=null){if(D.ref!==void 0&&(xe=D.ref,Se=B.current),D.key!==void 0&&(de=""+D.key),R.type&&R.type.defaultProps)var be=R.type.defaultProps;for(Le in D)Q.call(D,Le)&&!W.hasOwnProperty(Le)&&(oe[Le]=D[Le]===void 0&&be!==void 0?be[Le]:D[Le])}var Le=arguments.length-2;if(Le===1)oe.children=V;else if(1<Le){be=Array(Le);for(var st=0;st<Le;st++)be[st]=arguments[st+2];oe.children=be}return{$$typeof:n,type:R.type,key:de,ref:xe,props:oe,_owner:Se}},me.createContext=function(R){return R={$$typeof:m,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:h,_context:R},R.Consumer=R},me.createElement=se,me.createFactory=function(R){var D=se.bind(null,R);return D.type=R,D},me.createRef=function(){return{current:null}},me.forwardRef=function(R){return{$$typeof:x,render:R}},me.isValidElement=te,me.lazy=function(R){return{$$typeof:b,_payload:{_status:-1,_result:R},_init:Ke}},me.memo=function(R,D){return{$$typeof:w,type:R,compare:D===void 0?null:D}},me.startTransition=function(R){var D=H.transition;H.transition={};try{R()}finally{H.transition=D}},me.unstable_act=G,me.useCallback=function(R,D){return Ee.current.useCallback(R,D)},me.useContext=function(R){return Ee.current.useContext(R)},me.useDebugValue=function(){},me.useDeferredValue=function(R){return Ee.current.useDeferredValue(R)},me.useEffect=function(R,D){return Ee.current.useEffect(R,D)},me.useId=function(){return Ee.current.useId()},me.useImperativeHandle=function(R,D,V){return Ee.current.useImperativeHandle(R,D,V)},me.useInsertionEffect=function(R,D){return Ee.current.useInsertionEffect(R,D)},me.useLayoutEffect=function(R,D){return Ee.current.useLayoutEffect(R,D)},me.useMemo=function(R,D){return Ee.current.useMemo(R,D)},me.useReducer=function(R,D,V){return Ee.current.useReducer(R,D,V)},me.useRef=function(R){return Ee.current.useRef(R)},me.useState=function(R){return Ee.current.useState(R)},me.useSyncExternalStore=function(R,D,V){return Ee.current.useSyncExternalStore(R,D,V)},me.useTransition=function(){return Ee.current.useTransition()},me.version="18.3.1",me}var Oh;function Dc(){return Oh||(Oh=1,ac.exports=mf()),ac.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function ff(){if(Dh)return wa;Dh=1;var n=Dc(),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function m(x,f,w){var b,g={},j=null,_=null;w!==void 0&&(j=""+w),f.key!==void 0&&(j=""+f.key),f.ref!==void 0&&(_=f.ref);for(b in f)c.call(f,b)&&!h.hasOwnProperty(b)&&(g[b]=f[b]);if(x&&x.defaultProps)for(b in f=x.defaultProps,f)g[b]===void 0&&(g[b]=f[b]);return{$$typeof:a,type:x,key:j,ref:_,props:g,_owner:d.current}}return wa.Fragment=l,wa.jsx=m,wa.jsxs=m,wa}var Ih;function xf(){return Ih||(Ih=1,sc.exports=ff()),sc.exports}var r=xf(),y=Dc(),Zi={},ic={exports:{}},vt={},lc={exports:{}},oc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function gf(){return $h||($h=1,(function(n){function a(H,ae){var G=H.length;H.push(ae);e:for(;0<G;){var R=G-1>>>1,D=H[R];if(0<d(D,ae))H[R]=ae,H[G]=D,G=R;else break e}}function l(H){return H.length===0?null:H[0]}function c(H){if(H.length===0)return null;var ae=H[0],G=H.pop();if(G!==ae){H[0]=G;e:for(var R=0,D=H.length,V=D>>>1;R<V;){var oe=2*(R+1)-1,de=H[oe],xe=oe+1,Se=H[xe];if(0>d(de,G))xe<D&&0>d(Se,de)?(H[R]=Se,H[xe]=G,R=xe):(H[R]=de,H[oe]=G,R=oe);else if(xe<D&&0>d(Se,G))H[R]=Se,H[xe]=G,R=xe;else break e}}return ae}function d(H,ae){var G=H.sortIndex-ae.sortIndex;return G!==0?G:H.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var m=Date,x=m.now();n.unstable_now=function(){return m.now()-x}}var f=[],w=[],b=1,g=null,j=3,_=!1,P=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var ae=l(w);ae!==null;){if(ae.callback===null)c(w);else if(ae.startTime<=H)c(w),ae.sortIndex=ae.expirationTime,a(f,ae);else break;ae=l(w)}}function z(H){if(k=!1,E(H),!P)if(l(f)!==null)P=!0,Ke(Q);else{var ae=l(w);ae!==null&&Ee(z,ae.startTime-H)}}function Q(H,ae){P=!1,k&&(k=!1,O(se),se=-1),_=!0;var G=j;try{for(E(ae),g=l(f);g!==null&&(!(g.expirationTime>ae)||H&&!fe());){var R=g.callback;if(typeof R=="function"){g.callback=null,j=g.priorityLevel;var D=R(g.expirationTime<=ae);ae=n.unstable_now(),typeof D=="function"?g.callback=D:g===l(f)&&c(f),E(ae)}else c(f);g=l(f)}if(g!==null)var V=!0;else{var oe=l(w);oe!==null&&Ee(z,oe.startTime-ae),V=!1}return V}finally{g=null,j=G,_=!1}}var B=!1,W=null,se=-1,ve=5,te=-1;function fe(){return!(n.unstable_now()-te<ve)}function ce(){if(W!==null){var H=n.unstable_now();te=H;var ae=!0;try{ae=W(!0,H)}finally{ae?je():(B=!1,W=null)}}else B=!1}var je;if(typeof A=="function")je=function(){A(ce)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Be=Re.port2;Re.port1.onmessage=ce,je=function(){Be.postMessage(null)}}else je=function(){L(ce,0)};function Ke(H){W=H,B||(B=!0,je())}function Ee(H,ae){se=L(function(){H(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){P||_||(P=!0,Ke(Q))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return j},n.unstable_getFirstCallbackNode=function(){return l(f)},n.unstable_next=function(H){switch(j){case 1:case 2:case 3:var ae=3;break;default:ae=j}var G=j;j=ae;try{return H()}finally{j=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,ae){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=j;j=H;try{return ae()}finally{j=G}},n.unstable_scheduleCallback=function(H,ae,G){var R=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?R+G:R):G=R,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=G+D,H={id:b++,callback:ae,priorityLevel:H,startTime:G,expirationTime:D,sortIndex:-1},G>R?(H.sortIndex=G,a(w,H),l(f)===null&&H===l(w)&&(k?(O(se),se=-1):k=!0,Ee(z,G-R))):(H.sortIndex=D,a(f,H),P||_||(P=!0,Ke(Q))),H},n.unstable_shouldYield=fe,n.unstable_wrapCallback=function(H){var ae=j;return function(){var G=j;j=ae;try{return H.apply(this,arguments)}finally{j=G}}}})(oc)),oc}var Uh;function yf(){return Uh||(Uh=1,lc.exports=gf()),lc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh;function vf(){if(Bh)return vt;Bh=1;var n=Dc(),a=yf();function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,d={};function h(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(d[e]=t,e=0;e<t.length;e++)c.add(t[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},g={};function j(e){return f.call(g,e)?!0:f.call(b,e)?!1:w.test(e)?g[e]=!0:(b[e]=!0,!1)}function _(e,t,s,i){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P(e,t,s,i){if(t===null||typeof t>"u"||_(e,t,s,i))return!0;if(i)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,s,i,o,u,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=p}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){L[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];L[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){L[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){L[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){L[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){L[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){L[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){L[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){L[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(O,A);L[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(O,A);L[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(O,A);L[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){L[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),L.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){L[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function E(e,t,s,i){var o=L.hasOwnProperty(t)?L[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(P(t,s,o,i)&&(s=null),i||o===null?j(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):o.mustUseProperty?e[o.propertyName]=s===null?o.type===3?!1:"":s:(t=o.attributeName,i=o.attributeNamespace,s===null?e.removeAttribute(t):(o=o.type,s=o===3||o===4&&s===!0?"":""+s,i?e.setAttributeNS(i,t,s):e.setAttribute(t,s))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),B=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),fe=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),H=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,R;function D(e){if(R===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return`
`+R+e}var V=!1;function oe(e,t){if(!e||V)return"";V=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(F){var i=F}Reflect.construct(e,[],t)}else{try{t.call()}catch(F){i=F}e.call(t.prototype)}else{try{throw Error()}catch(F){i=F}e()}}catch(F){if(F&&i&&typeof F.stack=="string"){for(var o=F.stack.split(`
`),u=i.stack.split(`
`),p=o.length-1,v=u.length-1;1<=p&&0<=v&&o[p]!==u[v];)v--;for(;1<=p&&0<=v;p--,v--)if(o[p]!==u[v]){if(p!==1||v!==1)do if(p--,v--,0>v||o[p]!==u[v]){var S=`
`+o[p].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=p&&0<=v);break}}}finally{V=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?D(e):""}function de(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function xe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case B:return"Portal";case ve:return"Profiler";case se:return"StrictMode";case je:return"Suspense";case Re:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fe:return(e.displayName||"Context")+".Consumer";case te:return(e._context.displayName||"Context")+".Provider";case ce:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Be:return t=e.displayName||null,t!==null?t:xe(e.type)||"Memo";case Ke:t=e._payload,e=e._init;try{return xe(e(t))}catch{}}return null}function Se(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(t);case 8:return t===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Le(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function st(e){var t=Le(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(p){i=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sn(e){e._valueTracker||(e._valueTracker=st(e))}function Ps(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),i="";return e&&(i=Le(e)?e.checked?"true":"false":e.value),e=i,e!==s?(t.setValue(e),!0):!1}function an(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fn(e,t){var s=t.checked;return G({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Ts(e,t){var s=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;s=be(t.value!=null?t.value:s),e._wrapperState={initialChecked:i,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ms(e,t){t=t.checked,t!=null&&E(e,"checked",t,!1)}function zn(e,t){Ms(e,t);var s=be(t.value),i=t.type;if(s!=null)i==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?An(e,t.type,s):t.hasOwnProperty("defaultValue")&&An(e,t.type,be(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fs(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function An(e,t,s){(t!=="number"||an(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Nr=Array.isArray;function sr(e,t,s,i){if(e=e.options,t){t={};for(var o=0;o<s.length;o++)t["$"+s[o]]=!0;for(s=0;s<e.length;s++)o=t.hasOwnProperty("$"+e[s].value),e[s].selected!==o&&(e[s].selected=o),o&&i&&(e[s].defaultSelected=!0)}else{for(s=""+be(s),t=null,o=0;o<e.length;o++){if(e[o].value===s){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function On(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(l(91));return G({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zs(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(l(92));if(Nr(s)){if(1<s.length)throw Error(l(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:be(s)}}function As(e,t){var s=be(t.value),i=be(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),i!=null&&(e.defaultValue=""+i)}function Os(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ln(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ar(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ln(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ir,Dn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,s,i,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ir=ir||document.createElement("div"),ir.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ir.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kr(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var on={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ba=["Webkit","ms","Moz","O"];Object.keys(on).forEach(function(e){Ba.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),on[t]=on[e]})});function Ka(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||on.hasOwnProperty(e)&&on[e]?(""+t).trim():t+"px"}function qa(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var i=s.indexOf("--")===0,o=Ka(s,t[s],i);s==="float"&&(s="cssFloat"),i?e.setProperty(s,o):e[s]=o}}var bt=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ds(e,t){if(t){if(bt[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(l(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(l(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(t.style!=null&&typeof t.style!="object")throw Error(l(62))}}function fl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xl=null;function gl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yl=null,In=null,$n=null;function Xc(e){if(e=ia(e)){if(typeof yl!="function")throw Error(l(280));var t=e.stateNode;t&&(t=pi(t),yl(e.stateNode,e.type,t))}}function Zc(e){In?$n?$n.push(e):$n=[e]:In=e}function eu(){if(In){var e=In,t=$n;if($n=In=null,Xc(e),t)for(e=0;e<t.length;e++)Xc(t[e])}}function tu(e,t){return e(t)}function ru(){}var vl=!1;function nu(e,t,s){if(vl)return e(t,s);vl=!0;try{return tu(e,t,s)}finally{vl=!1,(In!==null||$n!==null)&&(ru(),eu())}}function Is(e,t){var s=e.stateNode;if(s===null)return null;var i=pi(s);if(i===null)return null;s=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,t,typeof s));return s}var jl=!1;if(x)try{var $s={};Object.defineProperty($s,"passive",{get:function(){jl=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{jl=!1}function vp(e,t,s,i,o,u,p,v,S){var F=Array.prototype.slice.call(arguments,3);try{t.apply(s,F)}catch($){this.onError($)}}var Us=!1,Qa=null,Wa=!1,wl=null,jp={onError:function(e){Us=!0,Qa=e}};function wp(e,t,s,i,o,u,p,v,S){Us=!1,Qa=null,vp.apply(jp,arguments)}function bp(e,t,s,i,o,u,p,v,S){if(wp.apply(this,arguments),Us){if(Us){var F=Qa;Us=!1,Qa=null}else throw Error(l(198));Wa||(Wa=!0,wl=F)}}function cn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function su(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function au(e){if(cn(e)!==e)throw Error(l(188))}function Np(e){var t=e.alternate;if(!t){if(t=cn(e),t===null)throw Error(l(188));return t!==e?null:e}for(var s=e,i=t;;){var o=s.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){s=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===s)return au(o),e;if(u===i)return au(o),t;u=u.sibling}throw Error(l(188))}if(s.return!==i.return)s=o,i=u;else{for(var p=!1,v=o.child;v;){if(v===s){p=!0,s=o,i=u;break}if(v===i){p=!0,i=o,s=u;break}v=v.sibling}if(!p){for(v=u.child;v;){if(v===s){p=!0,s=u,i=o;break}if(v===i){p=!0,i=u,s=o;break}v=v.sibling}if(!p)throw Error(l(189))}}if(s.alternate!==i)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:t}function iu(e){return e=Np(e),e!==null?lu(e):null}function lu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lu(e);if(t!==null)return t;e=e.sibling}return null}var ou=a.unstable_scheduleCallback,cu=a.unstable_cancelCallback,kp=a.unstable_shouldYield,Sp=a.unstable_requestPaint,qe=a.unstable_now,Cp=a.unstable_getCurrentPriorityLevel,bl=a.unstable_ImmediatePriority,uu=a.unstable_UserBlockingPriority,Ha=a.unstable_NormalPriority,_p=a.unstable_LowPriority,du=a.unstable_IdlePriority,Va=null,Gt=null;function Ep(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Va,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Pp,Rp=Math.log,Lp=Math.LN2;function Pp(e){return e>>>=0,e===0?32:31-(Rp(e)/Lp|0)|0}var Ga=64,Ja=4194304;function Bs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ya(e,t){var s=e.pendingLanes;if(s===0)return 0;var i=0,o=e.suspendedLanes,u=e.pingedLanes,p=s&268435455;if(p!==0){var v=p&~o;v!==0?i=Bs(v):(u&=p,u!==0&&(i=Bs(u)))}else p=s&~o,p!==0?i=Bs(p):u!==0&&(i=Bs(u));if(i===0)return 0;if(t!==0&&t!==i&&(t&o)===0&&(o=i&-i,u=t&-t,o>=u||o===16&&(u&4194240)!==0))return t;if((i&4)!==0&&(i|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)s=31-Dt(t),o=1<<s,i|=e[s],t&=~o;return i}function Tp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mp(e,t){for(var s=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var p=31-Dt(u),v=1<<p,S=o[p];S===-1?((v&s)===0||(v&i)!==0)&&(o[p]=Tp(v,t)):S<=t&&(e.expiredLanes|=v),u&=~v}}function Nl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hu(){var e=Ga;return Ga<<=1,(Ga&4194240)===0&&(Ga=64),e}function kl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Ks(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=s}function Fp(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<s;){var o=31-Dt(s),u=1<<o;t[o]=0,i[o]=-1,e[o]=-1,s&=~u}}function Sl(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var i=31-Dt(s),o=1<<i;o&t|e[i]&t&&(e[i]|=t),s&=~o}}var Ce=0;function pu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var mu,Cl,fu,xu,gu,_l=!1,Xa=[],Sr=null,Cr=null,_r=null,qs=new Map,Qs=new Map,Er=[],zp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(e,t){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(t.pointerId)}}function Ws(e,t,s,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:s,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=ia(t),t!==null&&Cl(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ap(e,t,s,i,o){switch(t){case"focusin":return Sr=Ws(Sr,e,t,s,i,o),!0;case"dragenter":return Cr=Ws(Cr,e,t,s,i,o),!0;case"mouseover":return _r=Ws(_r,e,t,s,i,o),!0;case"pointerover":var u=o.pointerId;return qs.set(u,Ws(qs.get(u)||null,e,t,s,i,o)),!0;case"gotpointercapture":return u=o.pointerId,Qs.set(u,Ws(Qs.get(u)||null,e,t,s,i,o)),!0}return!1}function vu(e){var t=un(e.target);if(t!==null){var s=cn(t);if(s!==null){if(t=s.tag,t===13){if(t=su(s),t!==null){e.blockedOn=t,gu(e.priority,function(){fu(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Za(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Rl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var i=new s.constructor(s.type,s);xl=i,s.target.dispatchEvent(i),xl=null}else return t=ia(s),t!==null&&Cl(t),e.blockedOn=s,!1;t.shift()}return!0}function ju(e,t,s){Za(e)&&s.delete(t)}function Op(){_l=!1,Sr!==null&&Za(Sr)&&(Sr=null),Cr!==null&&Za(Cr)&&(Cr=null),_r!==null&&Za(_r)&&(_r=null),qs.forEach(ju),Qs.forEach(ju)}function Hs(e,t){e.blockedOn===t&&(e.blockedOn=null,_l||(_l=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Op)))}function Vs(e){function t(o){return Hs(o,e)}if(0<Xa.length){Hs(Xa[0],e);for(var s=1;s<Xa.length;s++){var i=Xa[s];i.blockedOn===e&&(i.blockedOn=null)}}for(Sr!==null&&Hs(Sr,e),Cr!==null&&Hs(Cr,e),_r!==null&&Hs(_r,e),qs.forEach(t),Qs.forEach(t),s=0;s<Er.length;s++)i=Er[s],i.blockedOn===e&&(i.blockedOn=null);for(;0<Er.length&&(s=Er[0],s.blockedOn===null);)vu(s),s.blockedOn===null&&Er.shift()}var Un=z.ReactCurrentBatchConfig,ei=!0;function Dp(e,t,s,i){var o=Ce,u=Un.transition;Un.transition=null;try{Ce=1,El(e,t,s,i)}finally{Ce=o,Un.transition=u}}function Ip(e,t,s,i){var o=Ce,u=Un.transition;Un.transition=null;try{Ce=4,El(e,t,s,i)}finally{Ce=o,Un.transition=u}}function El(e,t,s,i){if(ei){var o=Rl(e,t,s,i);if(o===null)Wl(e,t,i,ti,s),yu(e,i);else if(Ap(o,e,t,s,i))i.stopPropagation();else if(yu(e,i),t&4&&-1<zp.indexOf(e)){for(;o!==null;){var u=ia(o);if(u!==null&&mu(u),u=Rl(e,t,s,i),u===null&&Wl(e,t,i,ti,s),u===o)break;o=u}o!==null&&i.stopPropagation()}else Wl(e,t,i,null,s)}}var ti=null;function Rl(e,t,s,i){if(ti=null,e=gl(i),e=un(e),e!==null)if(t=cn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=su(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ti=e,null}function wu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cp()){case bl:return 1;case uu:return 4;case Ha:case _p:return 16;case du:return 536870912;default:return 16}default:return 16}}var Rr=null,Ll=null,ri=null;function bu(){if(ri)return ri;var e,t=Ll,s=t.length,i,o="value"in Rr?Rr.value:Rr.textContent,u=o.length;for(e=0;e<s&&t[e]===o[e];e++);var p=s-e;for(i=1;i<=p&&t[s-i]===o[u-i];i++);return ri=o.slice(e,1<i?1-i:void 0)}function ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function si(){return!0}function Nu(){return!1}function Nt(e){function t(s,i,o,u,p){this._reactName=s,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(s=e[v],this[v]=s?s(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?si:Nu,this.isPropagationStopped=Nu,this}return G(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),t}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=Nt(Bn),Gs=G({},Bn,{view:0,detail:0}),$p=Nt(Gs),Tl,Ml,Js,ai=G({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Js&&(Js&&e.type==="mousemove"?(Tl=e.screenX-Js.screenX,Ml=e.screenY-Js.screenY):Ml=Tl=0,Js=e),Tl)},movementY:function(e){return"movementY"in e?e.movementY:Ml}}),ku=Nt(ai),Up=G({},ai,{dataTransfer:0}),Bp=Nt(Up),Kp=G({},Gs,{relatedTarget:0}),Fl=Nt(Kp),qp=G({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qp=Nt(qp),Wp=G({},Bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hp=Nt(Wp),Vp=G({},Bn,{data:0}),Su=Nt(Vp),Gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yp[e])?!!t[e]:!1}function zl(){return Xp}var Zp=G({},Gs,{key:function(e){if(e.key){var t=Gp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zl,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),em=Nt(Zp),tm=G({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cu=Nt(tm),rm=G({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zl}),nm=Nt(rm),sm=G({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),am=Nt(sm),im=G({},ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lm=Nt(im),om=[9,13,27,32],Al=x&&"CompositionEvent"in window,Ys=null;x&&"documentMode"in document&&(Ys=document.documentMode);var cm=x&&"TextEvent"in window&&!Ys,_u=x&&(!Al||Ys&&8<Ys&&11>=Ys),Eu=" ",Ru=!1;function Lu(e,t){switch(e){case"keyup":return om.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function um(e,t){switch(e){case"compositionend":return Pu(t);case"keypress":return t.which!==32?null:(Ru=!0,Eu);case"textInput":return e=t.data,e===Eu&&Ru?null:e;default:return null}}function dm(e,t){if(Kn)return e==="compositionend"||!Al&&Lu(e,t)?(e=bu(),ri=Ll=Rr=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _u&&t.locale!=="ko"?null:t.data;default:return null}}var hm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hm[e.type]:t==="textarea"}function Mu(e,t,s,i){Zc(i),t=ui(t,"onChange"),0<t.length&&(s=new Pl("onChange","change",null,s,i),e.push({event:s,listeners:t}))}var Xs=null,Zs=null;function pm(e){Yu(e,0)}function ii(e){var t=Vn(e);if(Ps(t))return e}function mm(e,t){if(e==="change")return t}var Fu=!1;if(x){var Ol;if(x){var Dl="oninput"in document;if(!Dl){var zu=document.createElement("div");zu.setAttribute("oninput","return;"),Dl=typeof zu.oninput=="function"}Ol=Dl}else Ol=!1;Fu=Ol&&(!document.documentMode||9<document.documentMode)}function Au(){Xs&&(Xs.detachEvent("onpropertychange",Ou),Zs=Xs=null)}function Ou(e){if(e.propertyName==="value"&&ii(Zs)){var t=[];Mu(t,Zs,e,gl(e)),nu(pm,t)}}function fm(e,t,s){e==="focusin"?(Au(),Xs=t,Zs=s,Xs.attachEvent("onpropertychange",Ou)):e==="focusout"&&Au()}function xm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(Zs)}function gm(e,t){if(e==="click")return ii(t)}function ym(e,t){if(e==="input"||e==="change")return ii(t)}function vm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:vm;function ea(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(i=0;i<s.length;i++){var o=s[i];if(!f.call(t,o)||!It(e[o],t[o]))return!1}return!0}function Du(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Iu(e,t){var s=Du(e);e=0;for(var i;s;){if(s.nodeType===3){if(i=e+s.textContent.length,e<=t&&i>=t)return{node:s,offset:t-e};e=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Du(s)}}function $u(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$u(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uu(){for(var e=window,t=an();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=an(e.document)}return t}function Il(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jm(e){var t=Uu(),s=e.focusedElem,i=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&$u(s.ownerDocument.documentElement,s)){if(i!==null&&Il(s)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=s.textContent.length,u=Math.min(i.start,o);i=i.end===void 0?u:Math.min(i.end,o),!e.extend&&u>i&&(o=i,i=u,u=o),o=Iu(s,u);var p=Iu(s,i);o&&p&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),u>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wm=x&&"documentMode"in document&&11>=document.documentMode,qn=null,$l=null,ta=null,Ul=!1;function Bu(e,t,s){var i=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ul||qn==null||qn!==an(i)||(i=qn,"selectionStart"in i&&Il(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ta&&ea(ta,i)||(ta=i,i=ui($l,"onSelect"),0<i.length&&(t=new Pl("onSelect","select",null,t,s),e.push({event:t,listeners:i}),t.target=qn)))}function li(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Qn={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionend:li("Transition","TransitionEnd")},Bl={},Ku={};x&&(Ku=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function oi(e){if(Bl[e])return Bl[e];if(!Qn[e])return e;var t=Qn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Ku)return Bl[e]=t[s];return e}var qu=oi("animationend"),Qu=oi("animationiteration"),Wu=oi("animationstart"),Hu=oi("transitionend"),Vu=new Map,Gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Vu.set(e,t),h(t,[e])}for(var Kl=0;Kl<Gu.length;Kl++){var ql=Gu[Kl],bm=ql.toLowerCase(),Nm=ql[0].toUpperCase()+ql.slice(1);Lr(bm,"on"+Nm)}Lr(qu,"onAnimationEnd"),Lr(Qu,"onAnimationIteration"),Lr(Wu,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Hu,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),km=new Set("cancel close invalid load scroll toggle".split(" ").concat(ra));function Ju(e,t,s){var i=e.type||"unknown-event";e.currentTarget=s,bp(i,t,void 0,e),e.currentTarget=null}function Yu(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var i=e[s],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var p=i.length-1;0<=p;p--){var v=i[p],S=v.instance,F=v.currentTarget;if(v=v.listener,S!==u&&o.isPropagationStopped())break e;Ju(o,v,F),u=S}else for(p=0;p<i.length;p++){if(v=i[p],S=v.instance,F=v.currentTarget,v=v.listener,S!==u&&o.isPropagationStopped())break e;Ju(o,v,F),u=S}}}if(Wa)throw e=wl,Wa=!1,wl=null,e}function Me(e,t){var s=t[Xl];s===void 0&&(s=t[Xl]=new Set);var i=e+"__bubble";s.has(i)||(Xu(t,e,2,!1),s.add(i))}function Ql(e,t,s){var i=0;t&&(i|=4),Xu(s,e,i,t)}var ci="_reactListening"+Math.random().toString(36).slice(2);function na(e){if(!e[ci]){e[ci]=!0,c.forEach(function(s){s!=="selectionchange"&&(km.has(s)||Ql(s,!1,e),Ql(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ci]||(t[ci]=!0,Ql("selectionchange",!1,t))}}function Xu(e,t,s,i){switch(wu(t)){case 1:var o=Dp;break;case 4:o=Ip;break;default:o=El}s=o.bind(null,t,s,e),o=void 0,!jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,s,{capture:!0,passive:o}):e.addEventListener(t,s,!0):o!==void 0?e.addEventListener(t,s,{passive:o}):e.addEventListener(t,s,!1)}function Wl(e,t,s,i,o){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var v=i.stateNode.containerInfo;if(v===o||v.nodeType===8&&v.parentNode===o)break;if(p===4)for(p=i.return;p!==null;){var S=p.tag;if((S===3||S===4)&&(S=p.stateNode.containerInfo,S===o||S.nodeType===8&&S.parentNode===o))return;p=p.return}for(;v!==null;){if(p=un(v),p===null)return;if(S=p.tag,S===5||S===6){i=u=p;continue e}v=v.parentNode}}i=i.return}nu(function(){var F=u,$=gl(s),U=[];e:{var I=Vu.get(e);if(I!==void 0){var Y=Pl,Z=e;switch(e){case"keypress":if(ni(s)===0)break e;case"keydown":case"keyup":Y=em;break;case"focusin":Z="focus",Y=Fl;break;case"focusout":Z="blur",Y=Fl;break;case"beforeblur":case"afterblur":Y=Fl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Bp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=nm;break;case qu:case Qu:case Wu:Y=Qp;break;case Hu:Y=am;break;case"scroll":Y=$p;break;case"wheel":Y=lm;break;case"copy":case"cut":case"paste":Y=Hp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Cu}var ee=(t&4)!==0,Qe=!ee&&e==="scroll",T=ee?I!==null?I+"Capture":null:I;ee=[];for(var C=F,M;C!==null;){M=C;var q=M.stateNode;if(M.tag===5&&q!==null&&(M=q,T!==null&&(q=Is(C,T),q!=null&&ee.push(sa(C,q,M)))),Qe)break;C=C.return}0<ee.length&&(I=new Y(I,Z,null,s,$),U.push({event:I,listeners:ee}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",I&&s!==xl&&(Z=s.relatedTarget||s.fromElement)&&(un(Z)||Z[lr]))break e;if((Y||I)&&(I=$.window===$?$:(I=$.ownerDocument)?I.defaultView||I.parentWindow:window,Y?(Z=s.relatedTarget||s.toElement,Y=F,Z=Z?un(Z):null,Z!==null&&(Qe=cn(Z),Z!==Qe||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(Y=null,Z=F),Y!==Z)){if(ee=ku,q="onMouseLeave",T="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(ee=Cu,q="onPointerLeave",T="onPointerEnter",C="pointer"),Qe=Y==null?I:Vn(Y),M=Z==null?I:Vn(Z),I=new ee(q,C+"leave",Y,s,$),I.target=Qe,I.relatedTarget=M,q=null,un($)===F&&(ee=new ee(T,C+"enter",Z,s,$),ee.target=M,ee.relatedTarget=Qe,q=ee),Qe=q,Y&&Z)t:{for(ee=Y,T=Z,C=0,M=ee;M;M=Wn(M))C++;for(M=0,q=T;q;q=Wn(q))M++;for(;0<C-M;)ee=Wn(ee),C--;for(;0<M-C;)T=Wn(T),M--;for(;C--;){if(ee===T||T!==null&&ee===T.alternate)break t;ee=Wn(ee),T=Wn(T)}ee=null}else ee=null;Y!==null&&Zu(U,I,Y,ee,!1),Z!==null&&Qe!==null&&Zu(U,Qe,Z,ee,!0)}}e:{if(I=F?Vn(F):window,Y=I.nodeName&&I.nodeName.toLowerCase(),Y==="select"||Y==="input"&&I.type==="file")var re=mm;else if(Tu(I))if(Fu)re=ym;else{re=xm;var ie=fm}else(Y=I.nodeName)&&Y.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(re=gm);if(re&&(re=re(e,F))){Mu(U,re,s,$);break e}ie&&ie(e,I,F),e==="focusout"&&(ie=I._wrapperState)&&ie.controlled&&I.type==="number"&&An(I,"number",I.value)}switch(ie=F?Vn(F):window,e){case"focusin":(Tu(ie)||ie.contentEditable==="true")&&(qn=ie,$l=F,ta=null);break;case"focusout":ta=$l=qn=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,Bu(U,s,$);break;case"selectionchange":if(wm)break;case"keydown":case"keyup":Bu(U,s,$)}var le;if(Al)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Kn?Lu(e,s)&&(ue="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ue="onCompositionStart");ue&&(_u&&s.locale!=="ko"&&(Kn||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Kn&&(le=bu()):(Rr=$,Ll="value"in Rr?Rr.value:Rr.textContent,Kn=!0)),ie=ui(F,ue),0<ie.length&&(ue=new Su(ue,e,null,s,$),U.push({event:ue,listeners:ie}),le?ue.data=le:(le=Pu(s),le!==null&&(ue.data=le)))),(le=cm?um(e,s):dm(e,s))&&(F=ui(F,"onBeforeInput"),0<F.length&&($=new Su("onBeforeInput","beforeinput",null,s,$),U.push({event:$,listeners:F}),$.data=le))}Yu(U,t)})}function sa(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ui(e,t){for(var s=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;o.tag===5&&u!==null&&(o=u,u=Is(e,s),u!=null&&i.unshift(sa(e,u,o)),u=Is(e,t),u!=null&&i.push(sa(e,u,o))),e=e.return}return i}function Wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zu(e,t,s,i,o){for(var u=t._reactName,p=[];s!==null&&s!==i;){var v=s,S=v.alternate,F=v.stateNode;if(S!==null&&S===i)break;v.tag===5&&F!==null&&(v=F,o?(S=Is(s,u),S!=null&&p.unshift(sa(s,S,v))):o||(S=Is(s,u),S!=null&&p.push(sa(s,S,v)))),s=s.return}p.length!==0&&e.push({event:t,listeners:p})}var Sm=/\r\n?/g,Cm=/\u0000|\uFFFD/g;function ed(e){return(typeof e=="string"?e:""+e).replace(Sm,`
`).replace(Cm,"")}function di(e,t,s){if(t=ed(t),ed(e)!==t&&s)throw Error(l(425))}function hi(){}var Hl=null,Vl=null;function Gl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,_m=typeof clearTimeout=="function"?clearTimeout:void 0,td=typeof Promise=="function"?Promise:void 0,Em=typeof queueMicrotask=="function"?queueMicrotask:typeof td<"u"?function(e){return td.resolve(null).then(e).catch(Rm)}:Jl;function Rm(e){setTimeout(function(){throw e})}function Yl(e,t){var s=t,i=0;do{var o=s.nextSibling;if(e.removeChild(s),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(i===0){e.removeChild(o),Vs(t);return}i--}else s!=="$"&&s!=="$?"&&s!=="$!"||i++;s=o}while(s);Vs(t)}function Pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Hn=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Hn,aa="__reactProps$"+Hn,lr="__reactContainer$"+Hn,Xl="__reactEvents$"+Hn,Lm="__reactListeners$"+Hn,Pm="__reactHandles$"+Hn;function un(e){var t=e[Jt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[lr]||s[Jt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=rd(e);e!==null;){if(s=e[Jt])return s;e=rd(e)}return t}e=s,s=e.parentNode}return null}function ia(e){return e=e[Jt]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(l(33))}function pi(e){return e[aa]||null}var Zl=[],Gn=-1;function Tr(e){return{current:e}}function Fe(e){0>Gn||(e.current=Zl[Gn],Zl[Gn]=null,Gn--)}function Pe(e,t){Gn++,Zl[Gn]=e.current,e.current=t}var Mr={},at=Tr(Mr),mt=Tr(!1),dn=Mr;function Jn(e,t){var s=e.type.contextTypes;if(!s)return Mr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},u;for(u in s)o[u]=t[u];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ft(e){return e=e.childContextTypes,e!=null}function mi(){Fe(mt),Fe(at)}function nd(e,t,s){if(at.current!==Mr)throw Error(l(168));Pe(at,t),Pe(mt,s)}function sd(e,t,s){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return s;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(l(108,Se(e)||"Unknown",o));return G({},s,i)}function fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mr,dn=at.current,Pe(at,e),Pe(mt,mt.current),!0}function ad(e,t,s){var i=e.stateNode;if(!i)throw Error(l(169));s?(e=sd(e,t,dn),i.__reactInternalMemoizedMergedChildContext=e,Fe(mt),Fe(at),Pe(at,e)):Fe(mt),Pe(mt,s)}var or=null,xi=!1,eo=!1;function id(e){or===null?or=[e]:or.push(e)}function Tm(e){xi=!0,id(e)}function Fr(){if(!eo&&or!==null){eo=!0;var e=0,t=Ce;try{var s=or;for(Ce=1;e<s.length;e++){var i=s[e];do i=i(!0);while(i!==null)}or=null,xi=!1}catch(o){throw or!==null&&(or=or.slice(e+1)),ou(bl,Fr),o}finally{Ce=t,eo=!1}}return null}var Yn=[],Xn=0,gi=null,yi=0,_t=[],Et=0,hn=null,cr=1,ur="";function pn(e,t){Yn[Xn++]=yi,Yn[Xn++]=gi,gi=e,yi=t}function ld(e,t,s){_t[Et++]=cr,_t[Et++]=ur,_t[Et++]=hn,hn=e;var i=cr;e=ur;var o=32-Dt(i)-1;i&=~(1<<o),s+=1;var u=32-Dt(t)+o;if(30<u){var p=o-o%5;u=(i&(1<<p)-1).toString(32),i>>=p,o-=p,cr=1<<32-Dt(t)+o|s<<o|i,ur=u+e}else cr=1<<u|s<<o|i,ur=e}function to(e){e.return!==null&&(pn(e,1),ld(e,1,0))}function ro(e){for(;e===gi;)gi=Yn[--Xn],Yn[Xn]=null,yi=Yn[--Xn],Yn[Xn]=null;for(;e===hn;)hn=_t[--Et],_t[Et]=null,ur=_t[--Et],_t[Et]=null,cr=_t[--Et],_t[Et]=null}var kt=null,St=null,Ae=!1,$t=null;function od(e,t){var s=Tt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function cd(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,St=Pr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=hn!==null?{id:cr,overflow:ur}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Tt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,kt=e,St=null,!0):!1;default:return!1}}function no(e){return(e.mode&1)!==0&&(e.flags&128)===0}function so(e){if(Ae){var t=St;if(t){var s=t;if(!cd(e,t)){if(no(e))throw Error(l(418));t=Pr(s.nextSibling);var i=kt;t&&cd(e,t)?od(i,s):(e.flags=e.flags&-4097|2,Ae=!1,kt=e)}}else{if(no(e))throw Error(l(418));e.flags=e.flags&-4097|2,Ae=!1,kt=e}}}function ud(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function vi(e){if(e!==kt)return!1;if(!Ae)return ud(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gl(e.type,e.memoizedProps)),t&&(t=St)){if(no(e))throw dd(),Error(l(418));for(;t;)od(e,t),t=Pr(t.nextSibling)}if(ud(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){St=Pr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}St=null}}else St=kt?Pr(e.stateNode.nextSibling):null;return!0}function dd(){for(var e=St;e;)e=Pr(e.nextSibling)}function Zn(){St=kt=null,Ae=!1}function ao(e){$t===null?$t=[e]:$t.push(e)}var Mm=z.ReactCurrentBatchConfig;function la(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(l(309));var i=s.stateNode}if(!i)throw Error(l(147,e));var o=i,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(p){var v=o.refs;p===null?delete v[u]:v[u]=p},t._stringRef=u,t)}if(typeof e!="string")throw Error(l(284));if(!s._owner)throw Error(l(290,e))}return e}function ji(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hd(e){var t=e._init;return t(e._payload)}function pd(e){function t(T,C){if(e){var M=T.deletions;M===null?(T.deletions=[C],T.flags|=16):M.push(C)}}function s(T,C){if(!e)return null;for(;C!==null;)t(T,C),C=C.sibling;return null}function i(T,C){for(T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function o(T,C){return T=Br(T,C),T.index=0,T.sibling=null,T}function u(T,C,M){return T.index=M,e?(M=T.alternate,M!==null?(M=M.index,M<C?(T.flags|=2,C):M):(T.flags|=2,C)):(T.flags|=1048576,C)}function p(T){return e&&T.alternate===null&&(T.flags|=2),T}function v(T,C,M,q){return C===null||C.tag!==6?(C=Yo(M,T.mode,q),C.return=T,C):(C=o(C,M),C.return=T,C)}function S(T,C,M,q){var re=M.type;return re===W?$(T,C,M.props.children,q,M.key):C!==null&&(C.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Ke&&hd(re)===C.type)?(q=o(C,M.props),q.ref=la(T,C,M),q.return=T,q):(q=qi(M.type,M.key,M.props,null,T.mode,q),q.ref=la(T,C,M),q.return=T,q)}function F(T,C,M,q){return C===null||C.tag!==4||C.stateNode.containerInfo!==M.containerInfo||C.stateNode.implementation!==M.implementation?(C=Xo(M,T.mode,q),C.return=T,C):(C=o(C,M.children||[]),C.return=T,C)}function $(T,C,M,q,re){return C===null||C.tag!==7?(C=wn(M,T.mode,q,re),C.return=T,C):(C=o(C,M),C.return=T,C)}function U(T,C,M){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Yo(""+C,T.mode,M),C.return=T,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Q:return M=qi(C.type,C.key,C.props,null,T.mode,M),M.ref=la(T,null,C),M.return=T,M;case B:return C=Xo(C,T.mode,M),C.return=T,C;case Ke:var q=C._init;return U(T,q(C._payload),M)}if(Nr(C)||ae(C))return C=wn(C,T.mode,M,null),C.return=T,C;ji(T,C)}return null}function I(T,C,M,q){var re=C!==null?C.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return re!==null?null:v(T,C,""+M,q);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Q:return M.key===re?S(T,C,M,q):null;case B:return M.key===re?F(T,C,M,q):null;case Ke:return re=M._init,I(T,C,re(M._payload),q)}if(Nr(M)||ae(M))return re!==null?null:$(T,C,M,q,null);ji(T,M)}return null}function Y(T,C,M,q,re){if(typeof q=="string"&&q!==""||typeof q=="number")return T=T.get(M)||null,v(C,T,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Q:return T=T.get(q.key===null?M:q.key)||null,S(C,T,q,re);case B:return T=T.get(q.key===null?M:q.key)||null,F(C,T,q,re);case Ke:var ie=q._init;return Y(T,C,M,ie(q._payload),re)}if(Nr(q)||ae(q))return T=T.get(M)||null,$(C,T,q,re,null);ji(C,q)}return null}function Z(T,C,M,q){for(var re=null,ie=null,le=C,ue=C=0,Xe=null;le!==null&&ue<M.length;ue++){le.index>ue?(Xe=le,le=null):Xe=le.sibling;var Ne=I(T,le,M[ue],q);if(Ne===null){le===null&&(le=Xe);break}e&&le&&Ne.alternate===null&&t(T,le),C=u(Ne,C,ue),ie===null?re=Ne:ie.sibling=Ne,ie=Ne,le=Xe}if(ue===M.length)return s(T,le),Ae&&pn(T,ue),re;if(le===null){for(;ue<M.length;ue++)le=U(T,M[ue],q),le!==null&&(C=u(le,C,ue),ie===null?re=le:ie.sibling=le,ie=le);return Ae&&pn(T,ue),re}for(le=i(T,le);ue<M.length;ue++)Xe=Y(le,T,ue,M[ue],q),Xe!==null&&(e&&Xe.alternate!==null&&le.delete(Xe.key===null?ue:Xe.key),C=u(Xe,C,ue),ie===null?re=Xe:ie.sibling=Xe,ie=Xe);return e&&le.forEach(function(Kr){return t(T,Kr)}),Ae&&pn(T,ue),re}function ee(T,C,M,q){var re=ae(M);if(typeof re!="function")throw Error(l(150));if(M=re.call(M),M==null)throw Error(l(151));for(var ie=re=null,le=C,ue=C=0,Xe=null,Ne=M.next();le!==null&&!Ne.done;ue++,Ne=M.next()){le.index>ue?(Xe=le,le=null):Xe=le.sibling;var Kr=I(T,le,Ne.value,q);if(Kr===null){le===null&&(le=Xe);break}e&&le&&Kr.alternate===null&&t(T,le),C=u(Kr,C,ue),ie===null?re=Kr:ie.sibling=Kr,ie=Kr,le=Xe}if(Ne.done)return s(T,le),Ae&&pn(T,ue),re;if(le===null){for(;!Ne.done;ue++,Ne=M.next())Ne=U(T,Ne.value,q),Ne!==null&&(C=u(Ne,C,ue),ie===null?re=Ne:ie.sibling=Ne,ie=Ne);return Ae&&pn(T,ue),re}for(le=i(T,le);!Ne.done;ue++,Ne=M.next())Ne=Y(le,T,ue,Ne.value,q),Ne!==null&&(e&&Ne.alternate!==null&&le.delete(Ne.key===null?ue:Ne.key),C=u(Ne,C,ue),ie===null?re=Ne:ie.sibling=Ne,ie=Ne);return e&&le.forEach(function(pf){return t(T,pf)}),Ae&&pn(T,ue),re}function Qe(T,C,M,q){if(typeof M=="object"&&M!==null&&M.type===W&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Q:e:{for(var re=M.key,ie=C;ie!==null;){if(ie.key===re){if(re=M.type,re===W){if(ie.tag===7){s(T,ie.sibling),C=o(ie,M.props.children),C.return=T,T=C;break e}}else if(ie.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Ke&&hd(re)===ie.type){s(T,ie.sibling),C=o(ie,M.props),C.ref=la(T,ie,M),C.return=T,T=C;break e}s(T,ie);break}else t(T,ie);ie=ie.sibling}M.type===W?(C=wn(M.props.children,T.mode,q,M.key),C.return=T,T=C):(q=qi(M.type,M.key,M.props,null,T.mode,q),q.ref=la(T,C,M),q.return=T,T=q)}return p(T);case B:e:{for(ie=M.key;C!==null;){if(C.key===ie)if(C.tag===4&&C.stateNode.containerInfo===M.containerInfo&&C.stateNode.implementation===M.implementation){s(T,C.sibling),C=o(C,M.children||[]),C.return=T,T=C;break e}else{s(T,C);break}else t(T,C);C=C.sibling}C=Xo(M,T.mode,q),C.return=T,T=C}return p(T);case Ke:return ie=M._init,Qe(T,C,ie(M._payload),q)}if(Nr(M))return Z(T,C,M,q);if(ae(M))return ee(T,C,M,q);ji(T,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,C!==null&&C.tag===6?(s(T,C.sibling),C=o(C,M),C.return=T,T=C):(s(T,C),C=Yo(M,T.mode,q),C.return=T,T=C),p(T)):s(T,C)}return Qe}var es=pd(!0),md=pd(!1),wi=Tr(null),bi=null,ts=null,io=null;function lo(){io=ts=bi=null}function oo(e){var t=wi.current;Fe(wi),e._currentValue=t}function co(e,t,s){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===s)break;e=e.return}}function rs(e,t){bi=e,io=ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(xt=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(io!==e)if(e={context:e,memoizedValue:t,next:null},ts===null){if(bi===null)throw Error(l(308));ts=e,bi.dependencies={lanes:0,firstContext:e}}else ts=ts.next=e;return t}var mn=null;function uo(e){mn===null?mn=[e]:mn.push(e)}function fd(e,t,s,i){var o=t.interleaved;return o===null?(s.next=s,uo(t)):(s.next=o.next,o.next=s),t.interleaved=s,dr(e,i)}function dr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var zr=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ar(e,t,s){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(we&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,dr(e,s)}return o=i.interleaved,o===null?(t.next=t,uo(i)):(t.next=o.next,o.next=t),i.interleaved=t,dr(e,s)}function Ni(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,Sl(e,s)}}function gd(e,t){var s=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,s===i)){var o=null,u=null;if(s=s.firstBaseUpdate,s!==null){do{var p={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};u===null?o=u=p:u=u.next=p,s=s.next}while(s!==null);u===null?o=u=t:u=u.next=t}else o=u=t;s={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,effects:i.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function ki(e,t,s,i){var o=e.updateQueue;zr=!1;var u=o.firstBaseUpdate,p=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var S=v,F=S.next;S.next=null,p===null?u=F:p.next=F,p=S;var $=e.alternate;$!==null&&($=$.updateQueue,v=$.lastBaseUpdate,v!==p&&(v===null?$.firstBaseUpdate=F:v.next=F,$.lastBaseUpdate=S))}if(u!==null){var U=o.baseState;p=0,$=F=S=null,v=u;do{var I=v.lane,Y=v.eventTime;if((i&I)===I){$!==null&&($=$.next={eventTime:Y,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var Z=e,ee=v;switch(I=t,Y=s,ee.tag){case 1:if(Z=ee.payload,typeof Z=="function"){U=Z.call(Y,U,I);break e}U=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ee.payload,I=typeof Z=="function"?Z.call(Y,U,I):Z,I==null)break e;U=G({},U,I);break e;case 2:zr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,I=o.effects,I===null?o.effects=[v]:I.push(v))}else Y={eventTime:Y,lane:I,tag:v.tag,payload:v.payload,callback:v.callback,next:null},$===null?(F=$=Y,S=U):$=$.next=Y,p|=I;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;I=v,v=I.next,I.next=null,o.lastBaseUpdate=I,o.shared.pending=null}}while(!0);if($===null&&(S=U),o.baseState=S,o.firstBaseUpdate=F,o.lastBaseUpdate=$,t=o.shared.interleaved,t!==null){o=t;do p|=o.lane,o=o.next;while(o!==t)}else u===null&&(o.shared.lanes=0);gn|=p,e.lanes=p,e.memoizedState=U}}function yd(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=s,typeof o!="function")throw Error(l(191,o));o.call(i)}}}var oa={},Yt=Tr(oa),ca=Tr(oa),ua=Tr(oa);function fn(e){if(e===oa)throw Error(l(174));return e}function po(e,t){switch(Pe(ua,t),Pe(ca,e),Pe(Yt,oa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ar(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ar(t,e)}Fe(Yt),Pe(Yt,t)}function ns(){Fe(Yt),Fe(ca),Fe(ua)}function vd(e){fn(ua.current);var t=fn(Yt.current),s=ar(t,e.type);t!==s&&(Pe(ca,e),Pe(Yt,s))}function mo(e){ca.current===e&&(Fe(Yt),Fe(ca))}var Oe=Tr(0);function Si(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fo=[];function xo(){for(var e=0;e<fo.length;e++)fo[e]._workInProgressVersionPrimary=null;fo.length=0}var Ci=z.ReactCurrentDispatcher,go=z.ReactCurrentBatchConfig,xn=0,De=null,He=null,Je=null,_i=!1,da=!1,ha=0,Fm=0;function it(){throw Error(l(321))}function yo(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!It(e[s],t[s]))return!1;return!0}function vo(e,t,s,i,o,u){if(xn=u,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ci.current=e===null||e.memoizedState===null?Dm:Im,e=s(i,o),da){u=0;do{if(da=!1,ha=0,25<=u)throw Error(l(301));u+=1,Je=He=null,t.updateQueue=null,Ci.current=$m,e=s(i,o)}while(da)}if(Ci.current=Li,t=He!==null&&He.next!==null,xn=0,Je=He=De=null,_i=!1,t)throw Error(l(300));return e}function jo(){var e=ha!==0;return ha=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?De.memoizedState=Je=e:Je=Je.next=e,Je}function Lt(){if(He===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Je===null?De.memoizedState:Je.next;if(t!==null)Je=t,He=e;else{if(e===null)throw Error(l(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Je===null?De.memoizedState=Je=e:Je=Je.next=e}return Je}function pa(e,t){return typeof t=="function"?t(e):t}function wo(e){var t=Lt(),s=t.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var i=He,o=i.baseQueue,u=s.pending;if(u!==null){if(o!==null){var p=o.next;o.next=u.next,u.next=p}i.baseQueue=o=u,s.pending=null}if(o!==null){u=o.next,i=i.baseState;var v=p=null,S=null,F=u;do{var $=F.lane;if((xn&$)===$)S!==null&&(S=S.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),i=F.hasEagerState?F.eagerState:e(i,F.action);else{var U={lane:$,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};S===null?(v=S=U,p=i):S=S.next=U,De.lanes|=$,gn|=$}F=F.next}while(F!==null&&F!==u);S===null?p=i:S.next=v,It(i,t.memoizedState)||(xt=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=S,s.lastRenderedState=i}if(e=s.interleaved,e!==null){o=e;do u=o.lane,De.lanes|=u,gn|=u,o=o.next;while(o!==e)}else o===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function bo(e){var t=Lt(),s=t.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var i=s.dispatch,o=s.pending,u=t.memoizedState;if(o!==null){s.pending=null;var p=o=o.next;do u=e(u,p.action),p=p.next;while(p!==o);It(u,t.memoizedState)||(xt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),s.lastRenderedState=u}return[u,i]}function jd(){}function wd(e,t){var s=De,i=Lt(),o=t(),u=!It(i.memoizedState,o);if(u&&(i.memoizedState=o,xt=!0),i=i.queue,No(kd.bind(null,s,i,e),[e]),i.getSnapshot!==t||u||Je!==null&&Je.memoizedState.tag&1){if(s.flags|=2048,ma(9,Nd.bind(null,s,i,o,t),void 0,null),Ye===null)throw Error(l(349));(xn&30)!==0||bd(s,t,o)}return o}function bd(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Nd(e,t,s,i){t.value=s,t.getSnapshot=i,Sd(t)&&Cd(e)}function kd(e,t,s){return s(function(){Sd(t)&&Cd(e)})}function Sd(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!It(e,s)}catch{return!0}}function Cd(e){var t=dr(e,1);t!==null&&qt(t,e,1,-1)}function _d(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t.queue=e,e=e.dispatch=Om.bind(null,De,e),[t.memoizedState,e]}function ma(e,t,s,i){return e={tag:e,create:t,destroy:s,deps:i,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(i=s.next,s.next=e,e.next=i,t.lastEffect=e)),e}function Ed(){return Lt().memoizedState}function Ei(e,t,s,i){var o=Xt();De.flags|=e,o.memoizedState=ma(1|t,s,void 0,i===void 0?null:i)}function Ri(e,t,s,i){var o=Lt();i=i===void 0?null:i;var u=void 0;if(He!==null){var p=He.memoizedState;if(u=p.destroy,i!==null&&yo(i,p.deps)){o.memoizedState=ma(t,s,u,i);return}}De.flags|=e,o.memoizedState=ma(1|t,s,u,i)}function Rd(e,t){return Ei(8390656,8,e,t)}function No(e,t){return Ri(2048,8,e,t)}function Ld(e,t){return Ri(4,2,e,t)}function Pd(e,t){return Ri(4,4,e,t)}function Td(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Md(e,t,s){return s=s!=null?s.concat([e]):null,Ri(4,4,Td.bind(null,t,e),s)}function ko(){}function Fd(e,t){var s=Lt();t=t===void 0?null:t;var i=s.memoizedState;return i!==null&&t!==null&&yo(t,i[1])?i[0]:(s.memoizedState=[e,t],e)}function zd(e,t){var s=Lt();t=t===void 0?null:t;var i=s.memoizedState;return i!==null&&t!==null&&yo(t,i[1])?i[0]:(e=e(),s.memoizedState=[e,t],e)}function Ad(e,t,s){return(xn&21)===0?(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=s):(It(s,t)||(s=hu(),De.lanes|=s,gn|=s,e.baseState=!0),t)}function zm(e,t){var s=Ce;Ce=s!==0&&4>s?s:4,e(!0);var i=go.transition;go.transition={};try{e(!1),t()}finally{Ce=s,go.transition=i}}function Od(){return Lt().memoizedState}function Am(e,t,s){var i=$r(e);if(s={lane:i,action:s,hasEagerState:!1,eagerState:null,next:null},Dd(e))Id(t,s);else if(s=fd(e,t,s,i),s!==null){var o=ut();qt(s,e,i,o),$d(s,t,i)}}function Om(e,t,s){var i=$r(e),o={lane:i,action:s,hasEagerState:!1,eagerState:null,next:null};if(Dd(e))Id(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,v=u(p,s);if(o.hasEagerState=!0,o.eagerState=v,It(v,p)){var S=t.interleaved;S===null?(o.next=o,uo(t)):(o.next=S.next,S.next=o),t.interleaved=o;return}}catch{}finally{}s=fd(e,t,o,i),s!==null&&(o=ut(),qt(s,e,i,o),$d(s,t,i))}}function Dd(e){var t=e.alternate;return e===De||t!==null&&t===De}function Id(e,t){da=_i=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function $d(e,t,s){if((s&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,Sl(e,s)}}var Li={readContext:Rt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},Dm={readContext:Rt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Rd,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ei(4194308,4,Td.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ei(4,2,e,t)},useMemo:function(e,t){var s=Xt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var i=Xt();return t=s!==void 0?s(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Am.bind(null,De,e),[i.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:_d,useDebugValue:ko,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=_d(!1),t=e[0];return e=zm.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var i=De,o=Xt();if(Ae){if(s===void 0)throw Error(l(407));s=s()}else{if(s=t(),Ye===null)throw Error(l(349));(xn&30)!==0||bd(i,t,s)}o.memoizedState=s;var u={value:s,getSnapshot:t};return o.queue=u,Rd(kd.bind(null,i,u,e),[e]),i.flags|=2048,ma(9,Nd.bind(null,i,u,s,t),void 0,null),s},useId:function(){var e=Xt(),t=Ye.identifierPrefix;if(Ae){var s=ur,i=cr;s=(i&~(1<<32-Dt(i)-1)).toString(32)+s,t=":"+t+"R"+s,s=ha++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Fm++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Im={readContext:Rt,useCallback:Fd,useContext:Rt,useEffect:No,useImperativeHandle:Md,useInsertionEffect:Ld,useLayoutEffect:Pd,useMemo:zd,useReducer:wo,useRef:Ed,useState:function(){return wo(pa)},useDebugValue:ko,useDeferredValue:function(e){var t=Lt();return Ad(t,He.memoizedState,e)},useTransition:function(){var e=wo(pa)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:jd,useSyncExternalStore:wd,useId:Od,unstable_isNewReconciler:!1},$m={readContext:Rt,useCallback:Fd,useContext:Rt,useEffect:No,useImperativeHandle:Md,useInsertionEffect:Ld,useLayoutEffect:Pd,useMemo:zd,useReducer:bo,useRef:Ed,useState:function(){return bo(pa)},useDebugValue:ko,useDeferredValue:function(e){var t=Lt();return He===null?t.memoizedState=e:Ad(t,He.memoizedState,e)},useTransition:function(){var e=bo(pa)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:jd,useSyncExternalStore:wd,useId:Od,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=G({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function So(e,t,s,i){t=e.memoizedState,s=s(i,t),s=s==null?t:G({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Pi={isMounted:function(e){return(e=e._reactInternals)?cn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var i=ut(),o=$r(e),u=hr(i,o);u.payload=t,s!=null&&(u.callback=s),t=Ar(e,u,o),t!==null&&(qt(t,e,o,i),Ni(t,e,o))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var i=ut(),o=$r(e),u=hr(i,o);u.tag=1,u.payload=t,s!=null&&(u.callback=s),t=Ar(e,u,o),t!==null&&(qt(t,e,o,i),Ni(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ut(),i=$r(e),o=hr(s,i);o.tag=2,t!=null&&(o.callback=t),t=Ar(e,o,i),t!==null&&(qt(t,e,i,s),Ni(t,e,i))}};function Ud(e,t,s,i,o,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,p):t.prototype&&t.prototype.isPureReactComponent?!ea(s,i)||!ea(o,u):!0}function Bd(e,t,s){var i=!1,o=Mr,u=t.contextType;return typeof u=="object"&&u!==null?u=Rt(u):(o=ft(t)?dn:at.current,i=t.contextTypes,u=(i=i!=null)?Jn(e,o):Mr),t=new t(s,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pi,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=u),t}function Kd(e,t,s,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,i),t.state!==e&&Pi.enqueueReplaceState(t,t.state,null)}function Co(e,t,s,i){var o=e.stateNode;o.props=s,o.state=e.memoizedState,o.refs={},ho(e);var u=t.contextType;typeof u=="object"&&u!==null?o.context=Rt(u):(u=ft(t)?dn:at.current,o.context=Jn(e,u)),o.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(So(e,t,u,s),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Pi.enqueueReplaceState(o,o.state,null),ki(e,s,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ss(e,t){try{var s="",i=t;do s+=de(i),i=i.return;while(i);var o=s}catch(u){o=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:o,digest:null}}function _o(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Eo(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Um=typeof WeakMap=="function"?WeakMap:Map;function qd(e,t,s){s=hr(-1,s),s.tag=3,s.payload={element:null};var i=t.value;return s.callback=function(){Di||(Di=!0,Ko=i),Eo(e,t)},s}function Qd(e,t,s){s=hr(-1,s),s.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;s.payload=function(){return i(o)},s.callback=function(){Eo(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(s.callback=function(){Eo(e,t),typeof i!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),s}function Wd(e,t,s){var i=e.pingCache;if(i===null){i=e.pingCache=new Um;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(s)||(o.add(s),e=tf.bind(null,e,t,s),t.then(e,e))}function Hd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vd(e,t,s,i,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=hr(-1,1),t.tag=2,Ar(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Bm=z.ReactCurrentOwner,xt=!1;function ct(e,t,s,i){t.child=e===null?md(t,null,s,i):es(t,e.child,s,i)}function Gd(e,t,s,i,o){s=s.render;var u=t.ref;return rs(t,o),i=vo(e,t,s,i,u,o),s=jo(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,pr(e,t,o)):(Ae&&s&&to(t),t.flags|=1,ct(e,t,i,o),t.child)}function Jd(e,t,s,i,o){if(e===null){var u=s.type;return typeof u=="function"&&!Jo(u)&&u.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=u,Yd(e,t,u,i,o)):(e=qi(s.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&o)===0){var p=u.memoizedProps;if(s=s.compare,s=s!==null?s:ea,s(p,i)&&e.ref===t.ref)return pr(e,t,o)}return t.flags|=1,e=Br(u,i),e.ref=t.ref,e.return=t,t.child=e}function Yd(e,t,s,i,o){if(e!==null){var u=e.memoizedProps;if(ea(u,i)&&e.ref===t.ref)if(xt=!1,t.pendingProps=i=u,(e.lanes&o)!==0)(e.flags&131072)!==0&&(xt=!0);else return t.lanes=e.lanes,pr(e,t,o)}return Ro(e,t,s,i,o)}function Xd(e,t,s){var i=t.pendingProps,o=i.children,u=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(is,Ct),Ct|=s;else{if((s&1073741824)===0)return e=u!==null?u.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(is,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=u!==null?u.baseLanes:s,Pe(is,Ct),Ct|=i}else u!==null?(i=u.baseLanes|s,t.memoizedState=null):i=s,Pe(is,Ct),Ct|=i;return ct(e,t,o,s),t.child}function Zd(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Ro(e,t,s,i,o){var u=ft(s)?dn:at.current;return u=Jn(t,u),rs(t,o),s=vo(e,t,s,i,u,o),i=jo(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,pr(e,t,o)):(Ae&&i&&to(t),t.flags|=1,ct(e,t,s,o),t.child)}function eh(e,t,s,i,o){if(ft(s)){var u=!0;fi(t)}else u=!1;if(rs(t,o),t.stateNode===null)Mi(e,t),Bd(t,s,i),Co(t,s,i,o),i=!0;else if(e===null){var p=t.stateNode,v=t.memoizedProps;p.props=v;var S=p.context,F=s.contextType;typeof F=="object"&&F!==null?F=Rt(F):(F=ft(s)?dn:at.current,F=Jn(t,F));var $=s.getDerivedStateFromProps,U=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function";U||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==i||S!==F)&&Kd(t,p,i,F),zr=!1;var I=t.memoizedState;p.state=I,ki(t,i,p,o),S=t.memoizedState,v!==i||I!==S||mt.current||zr?(typeof $=="function"&&(So(t,s,$,i),S=t.memoizedState),(v=zr||Ud(t,s,v,i,I,S,F))?(U||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=S),p.props=i,p.state=S,p.context=F,i=v):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,xd(e,t),v=t.memoizedProps,F=t.type===t.elementType?v:Ut(t.type,v),p.props=F,U=t.pendingProps,I=p.context,S=s.contextType,typeof S=="object"&&S!==null?S=Rt(S):(S=ft(s)?dn:at.current,S=Jn(t,S));var Y=s.getDerivedStateFromProps;($=typeof Y=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==U||I!==S)&&Kd(t,p,i,S),zr=!1,I=t.memoizedState,p.state=I,ki(t,i,p,o);var Z=t.memoizedState;v!==U||I!==Z||mt.current||zr?(typeof Y=="function"&&(So(t,s,Y,i),Z=t.memoizedState),(F=zr||Ud(t,s,F,i,I,Z,S)||!1)?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,Z,S),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,Z,S)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=Z),p.props=i,p.state=Z,p.context=S,i=F):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),i=!1)}return Lo(e,t,s,i,u,o)}function Lo(e,t,s,i,o,u){Zd(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return o&&ad(t,s,!1),pr(e,t,u);i=t.stateNode,Bm.current=t;var v=p&&typeof s.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=es(t,e.child,null,u),t.child=es(t,null,v,u)):ct(e,t,v,u),t.memoizedState=i.state,o&&ad(t,s,!0),t.child}function th(e){var t=e.stateNode;t.pendingContext?nd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nd(e,t.context,!1),po(e,t.containerInfo)}function rh(e,t,s,i,o){return Zn(),ao(o),t.flags|=256,ct(e,t,s,i),t.child}var Po={dehydrated:null,treeContext:null,retryLane:0};function To(e){return{baseLanes:e,cachePool:null,transitions:null}}function nh(e,t,s){var i=t.pendingProps,o=Oe.current,u=!1,p=(t.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(o&2)!==0),v?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Pe(Oe,o&1),e===null)return so(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=i.children,e=i.fallback,u?(i=t.mode,u=t.child,p={mode:"hidden",children:p},(i&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=p):u=Qi(p,i,0,null),e=wn(e,i,s,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=To(s),t.memoizedState=Po,e):Mo(t,p));if(o=e.memoizedState,o!==null&&(v=o.dehydrated,v!==null))return Km(e,t,p,i,v,o,s);if(u){u=i.fallback,p=t.mode,o=e.child,v=o.sibling;var S={mode:"hidden",children:i.children};return(p&1)===0&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=S,t.deletions=null):(i=Br(o,S),i.subtreeFlags=o.subtreeFlags&14680064),v!==null?u=Br(v,u):(u=wn(u,p,s,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,p=e.child.memoizedState,p=p===null?To(s):{baseLanes:p.baseLanes|s,cachePool:null,transitions:p.transitions},u.memoizedState=p,u.childLanes=e.childLanes&~s,t.memoizedState=Po,i}return u=e.child,e=u.sibling,i=Br(u,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=s),i.return=t,i.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=i,t.memoizedState=null,i}function Mo(e,t){return t=Qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ti(e,t,s,i){return i!==null&&ao(i),es(t,e.child,null,s),e=Mo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Km(e,t,s,i,o,u,p){if(s)return t.flags&256?(t.flags&=-257,i=_o(Error(l(422))),Ti(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Qi({mode:"visible",children:i.children},o,0,null),u=wn(u,o,p,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,(t.mode&1)!==0&&es(t,e.child,null,p),t.child.memoizedState=To(p),t.memoizedState=Po,u);if((t.mode&1)===0)return Ti(e,t,p,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var v=i.dgst;return i=v,u=Error(l(419)),i=_o(u,i,void 0),Ti(e,t,p,i)}if(v=(p&e.childLanes)!==0,xt||v){if(i=Ye,i!==null){switch(p&-p){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(i.suspendedLanes|p))!==0?0:o,o!==0&&o!==u.retryLane&&(u.retryLane=o,dr(e,o),qt(i,e,o,-1))}return Go(),i=_o(Error(l(421))),Ti(e,t,p,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=rf.bind(null,e),o._reactRetry=t,null):(e=u.treeContext,St=Pr(o.nextSibling),kt=t,Ae=!0,$t=null,e!==null&&(_t[Et++]=cr,_t[Et++]=ur,_t[Et++]=hn,cr=e.id,ur=e.overflow,hn=t),t=Mo(t,i.children),t.flags|=4096,t)}function sh(e,t,s){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),co(e.return,t,s)}function Fo(e,t,s,i,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:s,tailMode:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=s,u.tailMode=o)}function ah(e,t,s){var i=t.pendingProps,o=i.revealOrder,u=i.tail;if(ct(e,t,i.children,s),i=Oe.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sh(e,s,t);else if(e.tag===19)sh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Pe(Oe,i),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(s=t.child,o=null;s!==null;)e=s.alternate,e!==null&&Si(e)===null&&(o=s),s=s.sibling;s=o,s===null?(o=t.child,t.child=null):(o=s.sibling,s.sibling=null),Fo(t,!1,o,s,u);break;case"backwards":for(s=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Si(e)===null){t.child=o;break}e=o.sibling,o.sibling=s,s=o,o=e}Fo(t,!0,s,null,u);break;case"together":Fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pr(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),gn|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,s=Br(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Br(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function qm(e,t,s){switch(t.tag){case 3:th(t),Zn();break;case 5:vd(t);break;case 1:ft(t.type)&&fi(t);break;case 4:po(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;Pe(wi,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Pe(Oe,Oe.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?nh(e,t,s):(Pe(Oe,Oe.current&1),e=pr(e,t,s),e!==null?e.sibling:null);Pe(Oe,Oe.current&1);break;case 19:if(i=(s&t.childLanes)!==0,(e.flags&128)!==0){if(i)return ah(e,t,s);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Pe(Oe,Oe.current),i)break;return null;case 22:case 23:return t.lanes=0,Xd(e,t,s)}return pr(e,t,s)}var ih,zo,lh,oh;ih=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},zo=function(){},lh=function(e,t,s,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,fn(Yt.current);var u=null;switch(s){case"input":o=Fn(e,o),i=Fn(e,i),u=[];break;case"select":o=G({},o,{value:void 0}),i=G({},i,{value:void 0}),u=[];break;case"textarea":o=On(e,o),i=On(e,i),u=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=hi)}Ds(s,i);var p;s=null;for(F in o)if(!i.hasOwnProperty(F)&&o.hasOwnProperty(F)&&o[F]!=null)if(F==="style"){var v=o[F];for(p in v)v.hasOwnProperty(p)&&(s||(s={}),s[p]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(d.hasOwnProperty(F)?u||(u=[]):(u=u||[]).push(F,null));for(F in i){var S=i[F];if(v=o!=null?o[F]:void 0,i.hasOwnProperty(F)&&S!==v&&(S!=null||v!=null))if(F==="style")if(v){for(p in v)!v.hasOwnProperty(p)||S&&S.hasOwnProperty(p)||(s||(s={}),s[p]="");for(p in S)S.hasOwnProperty(p)&&v[p]!==S[p]&&(s||(s={}),s[p]=S[p])}else s||(u||(u=[]),u.push(F,s)),s=S;else F==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,v=v?v.__html:void 0,S!=null&&v!==S&&(u=u||[]).push(F,S)):F==="children"?typeof S!="string"&&typeof S!="number"||(u=u||[]).push(F,""+S):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(d.hasOwnProperty(F)?(S!=null&&F==="onScroll"&&Me("scroll",e),u||v===S||(u=[])):(u=u||[]).push(F,S))}s&&(u=u||[]).push("style",s);var F=u;(t.updateQueue=F)&&(t.flags|=4)}},oh=function(e,t,s,i){s!==i&&(t.flags|=4)};function fa(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,i=0;if(t)for(var o=e.child;o!==null;)s|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)s|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=s,t}function Qm(e,t,s){var i=t.pendingProps;switch(ro(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return ft(t.type)&&mi(),lt(t),null;case 3:return i=t.stateNode,ns(),Fe(mt),Fe(at),xo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(vi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$t!==null&&(Wo($t),$t=null))),zo(e,t),lt(t),null;case 5:mo(t);var o=fn(ua.current);if(s=t.type,e!==null&&t.stateNode!=null)lh(e,t,s,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(l(166));return lt(t),null}if(e=fn(Yt.current),vi(t)){i=t.stateNode,s=t.type;var u=t.memoizedProps;switch(i[Jt]=t,i[aa]=u,e=(t.mode&1)!==0,s){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(o=0;o<ra.length;o++)Me(ra[o],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Ts(i,u),Me("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!u.multiple},Me("invalid",i);break;case"textarea":zs(i,u),Me("invalid",i)}Ds(s,u),o=null;for(var p in u)if(u.hasOwnProperty(p)){var v=u[p];p==="children"?typeof v=="string"?i.textContent!==v&&(u.suppressHydrationWarning!==!0&&di(i.textContent,v,e),o=["children",v]):typeof v=="number"&&i.textContent!==""+v&&(u.suppressHydrationWarning!==!0&&di(i.textContent,v,e),o=["children",""+v]):d.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&Me("scroll",i)}switch(s){case"input":sn(i),Fs(i,u,!0);break;case"textarea":sn(i),Os(i);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(i.onclick=hi)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ln(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(s,{is:i.is}):(e=p.createElement(s),s==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,s),e[Jt]=t,e[aa]=i,ih(e,t,!1,!1),t.stateNode=e;e:{switch(p=fl(s,i),s){case"dialog":Me("cancel",e),Me("close",e),o=i;break;case"iframe":case"object":case"embed":Me("load",e),o=i;break;case"video":case"audio":for(o=0;o<ra.length;o++)Me(ra[o],e);o=i;break;case"source":Me("error",e),o=i;break;case"img":case"image":case"link":Me("error",e),Me("load",e),o=i;break;case"details":Me("toggle",e),o=i;break;case"input":Ts(e,i),o=Fn(e,i),Me("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=G({},i,{value:void 0}),Me("invalid",e);break;case"textarea":zs(e,i),o=On(e,i),Me("invalid",e);break;default:o=i}Ds(s,o),v=o;for(u in v)if(v.hasOwnProperty(u)){var S=v[u];u==="style"?qa(e,S):u==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Dn(e,S)):u==="children"?typeof S=="string"?(s!=="textarea"||S!=="")&&kr(e,S):typeof S=="number"&&kr(e,""+S):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(d.hasOwnProperty(u)?S!=null&&u==="onScroll"&&Me("scroll",e):S!=null&&E(e,u,S,p))}switch(s){case"input":sn(e),Fs(e,i,!1);break;case"textarea":sn(e),Os(e);break;case"option":i.value!=null&&e.setAttribute("value",""+be(i.value));break;case"select":e.multiple=!!i.multiple,u=i.value,u!=null?sr(e,!!i.multiple,u,!1):i.defaultValue!=null&&sr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=hi)}switch(s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)oh(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(s=fn(ua.current),fn(Yt.current),vi(t)){if(i=t.stateNode,s=t.memoizedProps,i[Jt]=t,(u=i.nodeValue!==s)&&(e=kt,e!==null))switch(e.tag){case 3:di(i.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&di(i.nodeValue,s,(e.mode&1)!==0)}u&&(t.flags|=4)}else i=(s.nodeType===9?s:s.ownerDocument).createTextNode(i),i[Jt]=t,t.stateNode=i}return lt(t),null;case 13:if(Fe(Oe),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&St!==null&&(t.mode&1)!==0&&(t.flags&128)===0)dd(),Zn(),t.flags|=98560,u=!1;else if(u=vi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[Jt]=t}else Zn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),u=!1}else $t!==null&&(Wo($t),$t=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Oe.current&1)!==0?Ve===0&&(Ve=3):Go())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return ns(),zo(e,t),e===null&&na(t.stateNode.containerInfo),lt(t),null;case 10:return oo(t.type._context),lt(t),null;case 17:return ft(t.type)&&mi(),lt(t),null;case 19:if(Fe(Oe),u=t.memoizedState,u===null)return lt(t),null;if(i=(t.flags&128)!==0,p=u.rendering,p===null)if(i)fa(u,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Si(e),p!==null){for(t.flags|=128,fa(u,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=s,s=t.child;s!==null;)u=s,e=i,u.flags&=14680066,p=u.alternate,p===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,e=p.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Pe(Oe,Oe.current&1|2),t.child}e=e.sibling}u.tail!==null&&qe()>ls&&(t.flags|=128,i=!0,fa(u,!1),t.lanes=4194304)}else{if(!i)if(e=Si(p),e!==null){if(t.flags|=128,i=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),fa(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ae)return lt(t),null}else 2*qe()-u.renderingStartTime>ls&&s!==1073741824&&(t.flags|=128,i=!0,fa(u,!1),t.lanes=4194304);u.isBackwards?(p.sibling=t.child,t.child=p):(s=u.last,s!==null?s.sibling=p:t.child=p,u.last=p)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=qe(),t.sibling=null,s=Oe.current,Pe(Oe,i?s&1|2:s&1),t):(lt(t),null);case 22:case 23:return Vo(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(Ct&1073741824)!==0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(l(156,t.tag))}function Wm(e,t){switch(ro(t),t.tag){case 1:return ft(t.type)&&mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ns(),Fe(mt),Fe(at),xo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return mo(t),null;case 13:if(Fe(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(Oe),null;case 4:return ns(),null;case 10:return oo(t.type._context),null;case 22:case 23:return Vo(),null;case 24:return null;default:return null}}var Fi=!1,ot=!1,Hm=typeof WeakSet=="function"?WeakSet:Set,X=null;function as(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(i){$e(e,t,i)}else s.current=null}function Ao(e,t,s){try{s()}catch(i){$e(e,t,i)}}var ch=!1;function Vm(e,t){if(Hl=ei,e=Uu(),Il(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var i=s.getSelection&&s.getSelection();if(i&&i.rangeCount!==0){s=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var p=0,v=-1,S=-1,F=0,$=0,U=e,I=null;t:for(;;){for(var Y;U!==s||o!==0&&U.nodeType!==3||(v=p+o),U!==u||i!==0&&U.nodeType!==3||(S=p+i),U.nodeType===3&&(p+=U.nodeValue.length),(Y=U.firstChild)!==null;)I=U,U=Y;for(;;){if(U===e)break t;if(I===s&&++F===o&&(v=p),I===u&&++$===i&&(S=p),(Y=U.nextSibling)!==null)break;U=I,I=U.parentNode}U=Y}s=v===-1||S===-1?null:{start:v,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(Vl={focusedElem:e,selectionRange:s},ei=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var Z=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var ee=Z.memoizedProps,Qe=Z.memoizedState,T=t.stateNode,C=T.getSnapshotBeforeUpdate(t.elementType===t.type?ee:Ut(t.type,ee),Qe);T.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(q){$e(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return Z=ch,ch=!1,Z}function xa(e,t,s){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var u=o.destroy;o.destroy=void 0,u!==void 0&&Ao(t,s,u)}o=o.next}while(o!==i)}}function zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var i=s.create;s.destroy=i()}s=s.next}while(s!==t)}}function Oo(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function uh(e){var t=e.alternate;t!==null&&(e.alternate=null,uh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[aa],delete t[Xl],delete t[Lm],delete t[Pm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dh(e){return e.tag===5||e.tag===3||e.tag===4}function hh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Do(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=hi));else if(i!==4&&(e=e.child,e!==null))for(Do(e,t,s),e=e.sibling;e!==null;)Do(e,t,s),e=e.sibling}function Io(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Io(e,t,s),e=e.sibling;e!==null;)Io(e,t,s),e=e.sibling}var et=null,Bt=!1;function Or(e,t,s){for(s=s.child;s!==null;)ph(e,t,s),s=s.sibling}function ph(e,t,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Va,s)}catch{}switch(s.tag){case 5:ot||as(s,t);case 6:var i=et,o=Bt;et=null,Or(e,t,s),et=i,Bt=o,et!==null&&(Bt?(e=et,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):et.removeChild(s.stateNode));break;case 18:et!==null&&(Bt?(e=et,s=s.stateNode,e.nodeType===8?Yl(e.parentNode,s):e.nodeType===1&&Yl(e,s),Vs(e)):Yl(et,s.stateNode));break;case 4:i=et,o=Bt,et=s.stateNode.containerInfo,Bt=!0,Or(e,t,s),et=i,Bt=o;break;case 0:case 11:case 14:case 15:if(!ot&&(i=s.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var u=o,p=u.destroy;u=u.tag,p!==void 0&&((u&2)!==0||(u&4)!==0)&&Ao(s,t,p),o=o.next}while(o!==i)}Or(e,t,s);break;case 1:if(!ot&&(as(s,t),i=s.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=s.memoizedProps,i.state=s.memoizedState,i.componentWillUnmount()}catch(v){$e(s,t,v)}Or(e,t,s);break;case 21:Or(e,t,s);break;case 22:s.mode&1?(ot=(i=ot)||s.memoizedState!==null,Or(e,t,s),ot=i):Or(e,t,s);break;default:Or(e,t,s)}}function mh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Hm),t.forEach(function(i){var o=nf.bind(null,e,i);s.has(i)||(s.add(i),i.then(o,o))})}}function Kt(e,t){var s=t.deletions;if(s!==null)for(var i=0;i<s.length;i++){var o=s[i];try{var u=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 5:et=v.stateNode,Bt=!1;break e;case 3:et=v.stateNode.containerInfo,Bt=!0;break e;case 4:et=v.stateNode.containerInfo,Bt=!0;break e}v=v.return}if(et===null)throw Error(l(160));ph(u,p,o),et=null,Bt=!1;var S=o.alternate;S!==null&&(S.return=null),o.return=null}catch(F){$e(o,t,F)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fh(t,e),t=t.sibling}function fh(e,t){var s=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kt(t,e),Zt(e),i&4){try{xa(3,e,e.return),zi(3,e)}catch(ee){$e(e,e.return,ee)}try{xa(5,e,e.return)}catch(ee){$e(e,e.return,ee)}}break;case 1:Kt(t,e),Zt(e),i&512&&s!==null&&as(s,s.return);break;case 5:if(Kt(t,e),Zt(e),i&512&&s!==null&&as(s,s.return),e.flags&32){var o=e.stateNode;try{kr(o,"")}catch(ee){$e(e,e.return,ee)}}if(i&4&&(o=e.stateNode,o!=null)){var u=e.memoizedProps,p=s!==null?s.memoizedProps:u,v=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{v==="input"&&u.type==="radio"&&u.name!=null&&Ms(o,u),fl(v,p);var F=fl(v,u);for(p=0;p<S.length;p+=2){var $=S[p],U=S[p+1];$==="style"?qa(o,U):$==="dangerouslySetInnerHTML"?Dn(o,U):$==="children"?kr(o,U):E(o,$,U,F)}switch(v){case"input":zn(o,u);break;case"textarea":As(o,u);break;case"select":var I=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!u.multiple;var Y=u.value;Y!=null?sr(o,!!u.multiple,Y,!1):I!==!!u.multiple&&(u.defaultValue!=null?sr(o,!!u.multiple,u.defaultValue,!0):sr(o,!!u.multiple,u.multiple?[]:"",!1))}o[aa]=u}catch(ee){$e(e,e.return,ee)}}break;case 6:if(Kt(t,e),Zt(e),i&4){if(e.stateNode===null)throw Error(l(162));o=e.stateNode,u=e.memoizedProps;try{o.nodeValue=u}catch(ee){$e(e,e.return,ee)}}break;case 3:if(Kt(t,e),Zt(e),i&4&&s!==null&&s.memoizedState.isDehydrated)try{Vs(t.containerInfo)}catch(ee){$e(e,e.return,ee)}break;case 4:Kt(t,e),Zt(e);break;case 13:Kt(t,e),Zt(e),o=e.child,o.flags&8192&&(u=o.memoizedState!==null,o.stateNode.isHidden=u,!u||o.alternate!==null&&o.alternate.memoizedState!==null||(Bo=qe())),i&4&&mh(e);break;case 22:if($=s!==null&&s.memoizedState!==null,e.mode&1?(ot=(F=ot)||$,Kt(t,e),ot=F):Kt(t,e),Zt(e),i&8192){if(F=e.memoizedState!==null,(e.stateNode.isHidden=F)&&!$&&(e.mode&1)!==0)for(X=e,$=e.child;$!==null;){for(U=X=$;X!==null;){switch(I=X,Y=I.child,I.tag){case 0:case 11:case 14:case 15:xa(4,I,I.return);break;case 1:as(I,I.return);var Z=I.stateNode;if(typeof Z.componentWillUnmount=="function"){i=I,s=I.return;try{t=i,Z.props=t.memoizedProps,Z.state=t.memoizedState,Z.componentWillUnmount()}catch(ee){$e(i,s,ee)}}break;case 5:as(I,I.return);break;case 22:if(I.memoizedState!==null){yh(U);continue}}Y!==null?(Y.return=I,X=Y):yh(U)}$=$.sibling}e:for($=null,U=e;;){if(U.tag===5){if($===null){$=U;try{o=U.stateNode,F?(u=o.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(v=U.stateNode,S=U.memoizedProps.style,p=S!=null&&S.hasOwnProperty("display")?S.display:null,v.style.display=Ka("display",p))}catch(ee){$e(e,e.return,ee)}}}else if(U.tag===6){if($===null)try{U.stateNode.nodeValue=F?"":U.memoizedProps}catch(ee){$e(e,e.return,ee)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===e)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===e)break e;for(;U.sibling===null;){if(U.return===null||U.return===e)break e;$===U&&($=null),U=U.return}$===U&&($=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Kt(t,e),Zt(e),i&4&&mh(e);break;case 21:break;default:Kt(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(dh(s)){var i=s;break e}s=s.return}throw Error(l(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(kr(o,""),i.flags&=-33);var u=hh(e);Io(e,u,o);break;case 3:case 4:var p=i.stateNode.containerInfo,v=hh(e);Do(e,v,p);break;default:throw Error(l(161))}}catch(S){$e(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gm(e,t,s){X=e,xh(e)}function xh(e,t,s){for(var i=(e.mode&1)!==0;X!==null;){var o=X,u=o.child;if(o.tag===22&&i){var p=o.memoizedState!==null||Fi;if(!p){var v=o.alternate,S=v!==null&&v.memoizedState!==null||ot;v=Fi;var F=ot;if(Fi=p,(ot=S)&&!F)for(X=o;X!==null;)p=X,S=p.child,p.tag===22&&p.memoizedState!==null?vh(o):S!==null?(S.return=p,X=S):vh(o);for(;u!==null;)X=u,xh(u),u=u.sibling;X=o,Fi=v,ot=F}gh(e)}else(o.subtreeFlags&8772)!==0&&u!==null?(u.return=o,X=u):gh(e)}}function gh(e){for(;X!==null;){var t=X;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ot||zi(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!ot)if(s===null)i.componentDidMount();else{var o=t.elementType===t.type?s.memoizedProps:Ut(t.type,s.memoizedProps);i.componentDidUpdate(o,s.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&yd(t,u,i);break;case 3:var p=t.updateQueue;if(p!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}yd(t,p,s)}break;case 5:var v=t.stateNode;if(s===null&&t.flags&4){s=v;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&s.focus();break;case"img":S.src&&(s.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var F=t.alternate;if(F!==null){var $=F.memoizedState;if($!==null){var U=$.dehydrated;U!==null&&Vs(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}ot||t.flags&512&&Oo(t)}catch(I){$e(t,t.return,I)}}if(t===e){X=null;break}if(s=t.sibling,s!==null){s.return=t.return,X=s;break}X=t.return}}function yh(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var s=t.sibling;if(s!==null){s.return=t.return,X=s;break}X=t.return}}function vh(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{zi(4,t)}catch(S){$e(t,s,S)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(S){$e(t,o,S)}}var u=t.return;try{Oo(t)}catch(S){$e(t,u,S)}break;case 5:var p=t.return;try{Oo(t)}catch(S){$e(t,p,S)}}}catch(S){$e(t,t.return,S)}if(t===e){X=null;break}var v=t.sibling;if(v!==null){v.return=t.return,X=v;break}X=t.return}}var Jm=Math.ceil,Ai=z.ReactCurrentDispatcher,$o=z.ReactCurrentOwner,Pt=z.ReactCurrentBatchConfig,we=0,Ye=null,We=null,tt=0,Ct=0,is=Tr(0),Ve=0,ga=null,gn=0,Oi=0,Uo=0,ya=null,gt=null,Bo=0,ls=1/0,mr=null,Di=!1,Ko=null,Dr=null,Ii=!1,Ir=null,$i=0,va=0,qo=null,Ui=-1,Bi=0;function ut(){return(we&6)!==0?qe():Ui!==-1?Ui:Ui=qe()}function $r(e){return(e.mode&1)===0?1:(we&2)!==0&&tt!==0?tt&-tt:Mm.transition!==null?(Bi===0&&(Bi=hu()),Bi):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:wu(e.type)),e)}function qt(e,t,s,i){if(50<va)throw va=0,qo=null,Error(l(185));Ks(e,s,i),((we&2)===0||e!==Ye)&&(e===Ye&&((we&2)===0&&(Oi|=s),Ve===4&&Ur(e,tt)),yt(e,i),s===1&&we===0&&(t.mode&1)===0&&(ls=qe()+500,xi&&Fr()))}function yt(e,t){var s=e.callbackNode;Mp(e,t);var i=Ya(e,e===Ye?tt:0);if(i===0)s!==null&&cu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(s!=null&&cu(s),t===1)e.tag===0?Tm(wh.bind(null,e)):id(wh.bind(null,e)),Em(function(){(we&6)===0&&Fr()}),s=null;else{switch(pu(i)){case 1:s=bl;break;case 4:s=uu;break;case 16:s=Ha;break;case 536870912:s=du;break;default:s=Ha}s=Rh(s,jh.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function jh(e,t){if(Ui=-1,Bi=0,(we&6)!==0)throw Error(l(327));var s=e.callbackNode;if(os()&&e.callbackNode!==s)return null;var i=Ya(e,e===Ye?tt:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=Ki(e,i);else{t=i;var o=we;we|=2;var u=Nh();(Ye!==e||tt!==t)&&(mr=null,ls=qe()+500,vn(e,t));do try{Zm();break}catch(v){bh(e,v)}while(!0);lo(),Ai.current=u,we=o,We!==null?t=0:(Ye=null,tt=0,t=Ve)}if(t!==0){if(t===2&&(o=Nl(e),o!==0&&(i=o,t=Qo(e,o))),t===1)throw s=ga,vn(e,0),Ur(e,i),yt(e,qe()),s;if(t===6)Ur(e,i);else{if(o=e.current.alternate,(i&30)===0&&!Ym(o)&&(t=Ki(e,i),t===2&&(u=Nl(e),u!==0&&(i=u,t=Qo(e,u))),t===1))throw s=ga,vn(e,0),Ur(e,i),yt(e,qe()),s;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(l(345));case 2:jn(e,gt,mr);break;case 3:if(Ur(e,i),(i&130023424)===i&&(t=Bo+500-qe(),10<t)){if(Ya(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){ut(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Jl(jn.bind(null,e,gt,mr),t);break}jn(e,gt,mr);break;case 4:if(Ur(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var p=31-Dt(i);u=1<<p,p=t[p],p>o&&(o=p),i&=~u}if(i=o,i=qe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Jm(i/1960))-i,10<i){e.timeoutHandle=Jl(jn.bind(null,e,gt,mr),i);break}jn(e,gt,mr);break;case 5:jn(e,gt,mr);break;default:throw Error(l(329))}}}return yt(e,qe()),e.callbackNode===s?jh.bind(null,e):null}function Qo(e,t){var s=ya;return e.current.memoizedState.isDehydrated&&(vn(e,t).flags|=256),e=Ki(e,t),e!==2&&(t=gt,gt=s,t!==null&&Wo(t)),e}function Wo(e){gt===null?gt=e:gt.push.apply(gt,e)}function Ym(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var i=0;i<s.length;i++){var o=s[i],u=o.getSnapshot;o=o.value;try{if(!It(u(),o))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ur(e,t){for(t&=~Uo,t&=~Oi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Dt(t),i=1<<s;e[s]=-1,t&=~i}}function wh(e){if((we&6)!==0)throw Error(l(327));os();var t=Ya(e,0);if((t&1)===0)return yt(e,qe()),null;var s=Ki(e,t);if(e.tag!==0&&s===2){var i=Nl(e);i!==0&&(t=i,s=Qo(e,i))}if(s===1)throw s=ga,vn(e,0),Ur(e,t),yt(e,qe()),s;if(s===6)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,gt,mr),yt(e,qe()),null}function Ho(e,t){var s=we;we|=1;try{return e(t)}finally{we=s,we===0&&(ls=qe()+500,xi&&Fr())}}function yn(e){Ir!==null&&Ir.tag===0&&(we&6)===0&&os();var t=we;we|=1;var s=Pt.transition,i=Ce;try{if(Pt.transition=null,Ce=1,e)return e()}finally{Ce=i,Pt.transition=s,we=t,(we&6)===0&&Fr()}}function Vo(){Ct=is.current,Fe(is)}function vn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,_m(s)),We!==null)for(s=We.return;s!==null;){var i=s;switch(ro(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&mi();break;case 3:ns(),Fe(mt),Fe(at),xo();break;case 5:mo(i);break;case 4:ns();break;case 13:Fe(Oe);break;case 19:Fe(Oe);break;case 10:oo(i.type._context);break;case 22:case 23:Vo()}s=s.return}if(Ye=e,We=e=Br(e.current,null),tt=Ct=t,Ve=0,ga=null,Uo=Oi=gn=0,gt=ya=null,mn!==null){for(t=0;t<mn.length;t++)if(s=mn[t],i=s.interleaved,i!==null){s.interleaved=null;var o=i.next,u=s.pending;if(u!==null){var p=u.next;u.next=o,i.next=p}s.pending=i}mn=null}return e}function bh(e,t){do{var s=We;try{if(lo(),Ci.current=Li,_i){for(var i=De.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}_i=!1}if(xn=0,Je=He=De=null,da=!1,ha=0,$o.current=null,s===null||s.return===null){Ve=1,ga=t,We=null;break}e:{var u=e,p=s.return,v=s,S=t;if(t=tt,v.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var F=S,$=v,U=$.tag;if(($.mode&1)===0&&(U===0||U===11||U===15)){var I=$.alternate;I?($.updateQueue=I.updateQueue,$.memoizedState=I.memoizedState,$.lanes=I.lanes):($.updateQueue=null,$.memoizedState=null)}var Y=Hd(p);if(Y!==null){Y.flags&=-257,Vd(Y,p,v,u,t),Y.mode&1&&Wd(u,F,t),t=Y,S=F;var Z=t.updateQueue;if(Z===null){var ee=new Set;ee.add(S),t.updateQueue=ee}else Z.add(S);break e}else{if((t&1)===0){Wd(u,F,t),Go();break e}S=Error(l(426))}}else if(Ae&&v.mode&1){var Qe=Hd(p);if(Qe!==null){(Qe.flags&65536)===0&&(Qe.flags|=256),Vd(Qe,p,v,u,t),ao(ss(S,v));break e}}u=S=ss(S,v),Ve!==4&&(Ve=2),ya===null?ya=[u]:ya.push(u),u=p;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var T=qd(u,S,t);gd(u,T);break e;case 1:v=S;var C=u.type,M=u.stateNode;if((u.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Dr===null||!Dr.has(M)))){u.flags|=65536,t&=-t,u.lanes|=t;var q=Qd(u,v,t);gd(u,q);break e}}u=u.return}while(u!==null)}Sh(s)}catch(re){t=re,We===s&&s!==null&&(We=s=s.return);continue}break}while(!0)}function Nh(){var e=Ai.current;return Ai.current=Li,e===null?Li:e}function Go(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Ye===null||(gn&268435455)===0&&(Oi&268435455)===0||Ur(Ye,tt)}function Ki(e,t){var s=we;we|=2;var i=Nh();(Ye!==e||tt!==t)&&(mr=null,vn(e,t));do try{Xm();break}catch(o){bh(e,o)}while(!0);if(lo(),we=s,Ai.current=i,We!==null)throw Error(l(261));return Ye=null,tt=0,Ve}function Xm(){for(;We!==null;)kh(We)}function Zm(){for(;We!==null&&!kp();)kh(We)}function kh(e){var t=Eh(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?Sh(e):We=t,$o.current=null}function Sh(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=Qm(s,t,Ct),s!==null){We=s;return}}else{if(s=Wm(s,t),s!==null){s.flags&=32767,We=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,We=null;return}}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Ve===0&&(Ve=5)}function jn(e,t,s){var i=Ce,o=Pt.transition;try{Pt.transition=null,Ce=1,ef(e,t,s,i)}finally{Pt.transition=o,Ce=i}return null}function ef(e,t,s,i){do os();while(Ir!==null);if((we&6)!==0)throw Error(l(327));s=e.finishedWork;var o=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var u=s.lanes|s.childLanes;if(Fp(e,u),e===Ye&&(We=Ye=null,tt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Ii||(Ii=!0,Rh(Ha,function(){return os(),null})),u=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||u){u=Pt.transition,Pt.transition=null;var p=Ce;Ce=1;var v=we;we|=4,$o.current=null,Vm(e,s),fh(s,e),jm(Vl),ei=!!Hl,Vl=Hl=null,e.current=s,Gm(s),Sp(),we=v,Ce=p,Pt.transition=u}else e.current=s;if(Ii&&(Ii=!1,Ir=e,$i=o),u=e.pendingLanes,u===0&&(Dr=null),Ep(s.stateNode),yt(e,qe()),t!==null)for(i=e.onRecoverableError,s=0;s<t.length;s++)o=t[s],i(o.value,{componentStack:o.stack,digest:o.digest});if(Di)throw Di=!1,e=Ko,Ko=null,e;return($i&1)!==0&&e.tag!==0&&os(),u=e.pendingLanes,(u&1)!==0?e===qo?va++:(va=0,qo=e):va=0,Fr(),null}function os(){if(Ir!==null){var e=pu($i),t=Pt.transition,s=Ce;try{if(Pt.transition=null,Ce=16>e?16:e,Ir===null)var i=!1;else{if(e=Ir,Ir=null,$i=0,(we&6)!==0)throw Error(l(331));var o=we;for(we|=4,X=e.current;X!==null;){var u=X,p=u.child;if((X.flags&16)!==0){var v=u.deletions;if(v!==null){for(var S=0;S<v.length;S++){var F=v[S];for(X=F;X!==null;){var $=X;switch($.tag){case 0:case 11:case 15:xa(8,$,u)}var U=$.child;if(U!==null)U.return=$,X=U;else for(;X!==null;){$=X;var I=$.sibling,Y=$.return;if(uh($),$===F){X=null;break}if(I!==null){I.return=Y,X=I;break}X=Y}}}var Z=u.alternate;if(Z!==null){var ee=Z.child;if(ee!==null){Z.child=null;do{var Qe=ee.sibling;ee.sibling=null,ee=Qe}while(ee!==null)}}X=u}}if((u.subtreeFlags&2064)!==0&&p!==null)p.return=u,X=p;else e:for(;X!==null;){if(u=X,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:xa(9,u,u.return)}var T=u.sibling;if(T!==null){T.return=u.return,X=T;break e}X=u.return}}var C=e.current;for(X=C;X!==null;){p=X;var M=p.child;if((p.subtreeFlags&2064)!==0&&M!==null)M.return=p,X=M;else e:for(p=C;X!==null;){if(v=X,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:zi(9,v)}}catch(re){$e(v,v.return,re)}if(v===p){X=null;break e}var q=v.sibling;if(q!==null){q.return=v.return,X=q;break e}X=v.return}}if(we=o,Fr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Va,e)}catch{}i=!0}return i}finally{Ce=s,Pt.transition=t}}return!1}function Ch(e,t,s){t=ss(s,t),t=qd(e,t,1),e=Ar(e,t,1),t=ut(),e!==null&&(Ks(e,1,t),yt(e,t))}function $e(e,t,s){if(e.tag===3)Ch(e,e,s);else for(;t!==null;){if(t.tag===3){Ch(t,e,s);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Dr===null||!Dr.has(i))){e=ss(s,e),e=Qd(t,e,1),t=Ar(t,e,1),e=ut(),t!==null&&(Ks(t,1,e),yt(t,e));break}}t=t.return}}function tf(e,t,s){var i=e.pingCache;i!==null&&i.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&s,Ye===e&&(tt&s)===s&&(Ve===4||Ve===3&&(tt&130023424)===tt&&500>qe()-Bo?vn(e,0):Uo|=s),yt(e,t)}function _h(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ja,Ja<<=1,(Ja&130023424)===0&&(Ja=4194304)));var s=ut();e=dr(e,t),e!==null&&(Ks(e,t,s),yt(e,s))}function rf(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),_h(e,s)}function nf(e,t){var s=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(s=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(l(314))}i!==null&&i.delete(t),_h(e,s)}var Eh;Eh=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)xt=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return xt=!1,qm(e,t,s);xt=(e.flags&131072)!==0}else xt=!1,Ae&&(t.flags&1048576)!==0&&ld(t,yi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Mi(e,t),e=t.pendingProps;var o=Jn(t,at.current);rs(t,s),o=vo(null,t,i,e,o,s);var u=jo();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(i)?(u=!0,fi(t)):u=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ho(t),o.updater=Pi,t.stateNode=o,o._reactInternals=t,Co(t,i,e,s),t=Lo(null,t,i,!0,u,s)):(t.tag=0,Ae&&u&&to(t),ct(null,t,o,s),t=t.child),t;case 16:i=t.elementType;e:{switch(Mi(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=af(i),e=Ut(i,e),o){case 0:t=Ro(null,t,i,e,s);break e;case 1:t=eh(null,t,i,e,s);break e;case 11:t=Gd(null,t,i,e,s);break e;case 14:t=Jd(null,t,i,Ut(i.type,e),s);break e}throw Error(l(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Ut(i,o),Ro(e,t,i,o,s);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Ut(i,o),eh(e,t,i,o,s);case 3:e:{if(th(t),e===null)throw Error(l(387));i=t.pendingProps,u=t.memoizedState,o=u.element,xd(e,t),ki(t,i,null,s);var p=t.memoizedState;if(i=p.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){o=ss(Error(l(423)),t),t=rh(e,t,i,s,o);break e}else if(i!==o){o=ss(Error(l(424)),t),t=rh(e,t,i,s,o);break e}else for(St=Pr(t.stateNode.containerInfo.firstChild),kt=t,Ae=!0,$t=null,s=md(t,null,i,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Zn(),i===o){t=pr(e,t,s);break e}ct(e,t,i,s)}t=t.child}return t;case 5:return vd(t),e===null&&so(t),i=t.type,o=t.pendingProps,u=e!==null?e.memoizedProps:null,p=o.children,Gl(i,o)?p=null:u!==null&&Gl(i,u)&&(t.flags|=32),Zd(e,t),ct(e,t,p,s),t.child;case 6:return e===null&&so(t),null;case 13:return nh(e,t,s);case 4:return po(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=es(t,null,i,s):ct(e,t,i,s),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Ut(i,o),Gd(e,t,i,o,s);case 7:return ct(e,t,t.pendingProps,s),t.child;case 8:return ct(e,t,t.pendingProps.children,s),t.child;case 12:return ct(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,u=t.memoizedProps,p=o.value,Pe(wi,i._currentValue),i._currentValue=p,u!==null)if(It(u.value,p)){if(u.children===o.children&&!mt.current){t=pr(e,t,s);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var v=u.dependencies;if(v!==null){p=u.child;for(var S=v.firstContext;S!==null;){if(S.context===i){if(u.tag===1){S=hr(-1,s&-s),S.tag=2;var F=u.updateQueue;if(F!==null){F=F.shared;var $=F.pending;$===null?S.next=S:(S.next=$.next,$.next=S),F.pending=S}}u.lanes|=s,S=u.alternate,S!==null&&(S.lanes|=s),co(u.return,s,t),v.lanes|=s;break}S=S.next}}else if(u.tag===10)p=u.type===t.type?null:u.child;else if(u.tag===18){if(p=u.return,p===null)throw Error(l(341));p.lanes|=s,v=p.alternate,v!==null&&(v.lanes|=s),co(p,s,t),p=u.sibling}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===t){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}ct(e,t,o.children,s),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,rs(t,s),o=Rt(o),i=i(o),t.flags|=1,ct(e,t,i,s),t.child;case 14:return i=t.type,o=Ut(i,t.pendingProps),o=Ut(i.type,o),Jd(e,t,i,o,s);case 15:return Yd(e,t,t.type,t.pendingProps,s);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Ut(i,o),Mi(e,t),t.tag=1,ft(i)?(e=!0,fi(t)):e=!1,rs(t,s),Bd(t,i,o),Co(t,i,o,s),Lo(null,t,i,!0,e,s);case 19:return ah(e,t,s);case 22:return Xd(e,t,s)}throw Error(l(156,t.tag))};function Rh(e,t){return ou(e,t)}function sf(e,t,s,i){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,s,i){return new sf(e,t,s,i)}function Jo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function af(e){if(typeof e=="function")return Jo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ce)return 11;if(e===Be)return 14}return 2}function Br(e,t){var s=e.alternate;return s===null?(s=Tt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function qi(e,t,s,i,o,u){var p=2;if(i=e,typeof e=="function")Jo(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case W:return wn(s.children,o,u,t);case se:p=8,o|=8;break;case ve:return e=Tt(12,s,t,o|2),e.elementType=ve,e.lanes=u,e;case je:return e=Tt(13,s,t,o),e.elementType=je,e.lanes=u,e;case Re:return e=Tt(19,s,t,o),e.elementType=Re,e.lanes=u,e;case Ee:return Qi(s,o,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:p=10;break e;case fe:p=9;break e;case ce:p=11;break e;case Be:p=14;break e;case Ke:p=16,i=null;break e}throw Error(l(130,e==null?e:typeof e,""))}return t=Tt(p,s,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function wn(e,t,s,i){return e=Tt(7,e,i,t),e.lanes=s,e}function Qi(e,t,s,i){return e=Tt(22,e,i,t),e.elementType=Ee,e.lanes=s,e.stateNode={isHidden:!1},e}function Yo(e,t,s){return e=Tt(6,e,null,t),e.lanes=s,e}function Xo(e,t,s){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lf(e,t,s,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Zo(e,t,s,i,o,u,p,v,S){return e=new lf(e,t,s,v,S),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Tt(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:i,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ho(u),e}function of(e,t,s){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:i==null?null:""+i,children:e,containerInfo:t,implementation:s}}function Lh(e){if(!e)return Mr;e=e._reactInternals;e:{if(cn(e)!==e||e.tag!==1)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(l(171))}if(e.tag===1){var s=e.type;if(ft(s))return sd(e,s,t)}return t}function Ph(e,t,s,i,o,u,p,v,S){return e=Zo(s,i,!0,e,o,u,p,v,S),e.context=Lh(null),s=e.current,i=ut(),o=$r(s),u=hr(i,o),u.callback=t??null,Ar(s,u,o),e.current.lanes=o,Ks(e,o,i),yt(e,i),e}function Wi(e,t,s,i){var o=t.current,u=ut(),p=$r(o);return s=Lh(s),t.context===null?t.context=s:t.pendingContext=s,t=hr(u,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Ar(o,t,p),e!==null&&(qt(e,o,p,u),Ni(e,o,p)),p}function Hi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Th(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function ec(e,t){Th(e,t),(e=e.alternate)&&Th(e,t)}function cf(){return null}var Mh=typeof reportError=="function"?reportError:function(e){console.error(e)};function tc(e){this._internalRoot=e}Vi.prototype.render=tc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));Wi(e,t,null,null)},Vi.prototype.unmount=tc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yn(function(){Wi(null,e,null,null)}),t[lr]=null}};function Vi(e){this._internalRoot=e}Vi.prototype.unstable_scheduleHydration=function(e){if(e){var t=xu();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Er.length&&t!==0&&t<Er[s].priority;s++);Er.splice(s,0,e),s===0&&vu(e)}};function rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fh(){}function uf(e,t,s,i,o){if(o){if(typeof i=="function"){var u=i;i=function(){var F=Hi(p);u.call(F)}}var p=Ph(t,i,e,0,null,!1,!1,"",Fh);return e._reactRootContainer=p,e[lr]=p.current,na(e.nodeType===8?e.parentNode:e),yn(),p}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var v=i;i=function(){var F=Hi(S);v.call(F)}}var S=Zo(e,0,!1,null,null,!1,!1,"",Fh);return e._reactRootContainer=S,e[lr]=S.current,na(e.nodeType===8?e.parentNode:e),yn(function(){Wi(t,S,s,i)}),S}function Ji(e,t,s,i,o){var u=s._reactRootContainer;if(u){var p=u;if(typeof o=="function"){var v=o;o=function(){var S=Hi(p);v.call(S)}}Wi(t,p,e,o)}else p=uf(s,t,e,o,i);return Hi(p)}mu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Bs(t.pendingLanes);s!==0&&(Sl(t,s|1),yt(t,qe()),(we&6)===0&&(ls=qe()+500,Fr()))}break;case 13:yn(function(){var i=dr(e,1);if(i!==null){var o=ut();qt(i,e,1,o)}}),ec(e,1)}},Cl=function(e){if(e.tag===13){var t=dr(e,134217728);if(t!==null){var s=ut();qt(t,e,134217728,s)}ec(e,134217728)}},fu=function(e){if(e.tag===13){var t=$r(e),s=dr(e,t);if(s!==null){var i=ut();qt(s,e,t,i)}ec(e,t)}},xu=function(){return Ce},gu=function(e,t){var s=Ce;try{return Ce=e,t()}finally{Ce=s}},yl=function(e,t,s){switch(t){case"input":if(zn(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var i=s[t];if(i!==e&&i.form===e.form){var o=pi(i);if(!o)throw Error(l(90));Ps(i),zn(i,o)}}}break;case"textarea":As(e,s);break;case"select":t=s.value,t!=null&&sr(e,!!s.multiple,t,!1)}},tu=Ho,ru=yn;var df={usingClientEntryPoint:!1,Events:[ia,Vn,pi,Zc,eu,Ho]},ja={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hf={bundleType:ja.bundleType,version:ja.version,rendererPackageName:ja.rendererPackageName,rendererConfig:ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iu(e),e===null?null:e.stateNode},findFiberByHostInstance:ja.findFiberByHostInstance||cf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yi.isDisabled&&Yi.supportsFiber)try{Va=Yi.inject(hf),Gt=Yi}catch{}}return vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=df,vt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rc(t))throw Error(l(200));return of(e,t,null,s)},vt.createRoot=function(e,t){if(!rc(e))throw Error(l(299));var s=!1,i="",o=Mh;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Zo(e,1,!1,null,null,s,!1,i,o),e[lr]=t.current,na(e.nodeType===8?e.parentNode:e),new tc(t)},vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=iu(t),e=e===null?null:e.stateNode,e},vt.flushSync=function(e){return yn(e)},vt.hydrate=function(e,t,s){if(!Gi(t))throw Error(l(200));return Ji(null,e,t,!0,s)},vt.hydrateRoot=function(e,t,s){if(!rc(e))throw Error(l(405));var i=s!=null&&s.hydratedSources||null,o=!1,u="",p=Mh;if(s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),t=Ph(t,null,e,1,s??null,o,!1,u,p),e[lr]=t.current,na(e),i)for(e=0;e<i.length;e++)s=i[e],o=s._getVersion,o=o(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,o]:t.mutableSourceEagerHydrationData.push(s,o);return new Vi(t)},vt.render=function(e,t,s){if(!Gi(t))throw Error(l(200));return Ji(null,e,t,!1,s)},vt.unmountComponentAtNode=function(e){if(!Gi(e))throw Error(l(40));return e._reactRootContainer?(yn(function(){Ji(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1},vt.unstable_batchedUpdates=Ho,vt.unstable_renderSubtreeIntoContainer=function(e,t,s,i){if(!Gi(s))throw Error(l(200));if(e==null||e._reactInternals===void 0)throw Error(l(38));return Ji(e,t,s,!1,i)},vt.version="18.3.1-next-f1338f8080-20240426",vt}var Kh;function jf(){if(Kh)return ic.exports;Kh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),ic.exports=vf(),ic.exports}var qh;function wf(){if(qh)return Zi;qh=1;var n=jf();return Zi.createRoot=n.createRoot,Zi.hydrateRoot=n.hydrateRoot,Zi}var bf=wf(),Ns=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nf={setTimeout:(n,a)=>setTimeout(n,a),clearTimeout:n=>clearTimeout(n),setInterval:(n,a)=>setInterval(n,a),clearInterval:n=>clearInterval(n)},Qr,Oc,g0,kf=(g0=class{constructor(){ne(this,Qr,Nf);ne(this,Oc,!1)}setTimeoutProvider(n){J(this,Qr,n)}setTimeout(n,a){return N(this,Qr).setTimeout(n,a)}clearTimeout(n){N(this,Qr).clearTimeout(n)}setInterval(n,a){return N(this,Qr).setInterval(n,a)}clearInterval(n){N(this,Qr).clearInterval(n)}},Qr=new WeakMap,Oc=new WeakMap,g0),bn=new kf;function Sf(n){setTimeout(n,0)}var Tn=typeof window>"u"||"Deno"in globalThis;function pt(){}function Cf(n,a){return typeof n=="function"?n(a):n}function vc(n){return typeof n=="number"&&n>=0&&n!==1/0}function E0(n,a){return Math.max(n+(a||0)-Date.now(),0)}function en(n,a){return typeof n=="function"?n(a):n}function Ft(n,a){return typeof n=="function"?n(a):n}function Qh(n,a){const{type:l="all",exact:c,fetchStatus:d,predicate:h,queryKey:m,stale:x}=n;if(m){if(c){if(a.queryHash!==Ic(m,a.options))return!1}else if(!_a(a.queryKey,m))return!1}if(l!=="all"){const f=a.isActive();if(l==="active"&&!f||l==="inactive"&&f)return!1}return!(typeof x=="boolean"&&a.isStale()!==x||d&&d!==a.state.fetchStatus||h&&!h(a))}function Wh(n,a){const{exact:l,status:c,predicate:d,mutationKey:h}=n;if(h){if(!a.options.mutationKey)return!1;if(l){if(Mn(a.options.mutationKey)!==Mn(h))return!1}else if(!_a(a.options.mutationKey,h))return!1}return!(c&&a.state.status!==c||d&&!d(a))}function Ic(n,a){return((a==null?void 0:a.queryKeyHashFn)||Mn)(n)}function Mn(n){return JSON.stringify(n,(a,l)=>jc(l)?Object.keys(l).sort().reduce((c,d)=>(c[d]=l[d],c),{}):l)}function _a(n,a){return n===a?!0:typeof n!=typeof a?!1:n&&a&&typeof n=="object"&&typeof a=="object"?Object.keys(a).every(l=>_a(n[l],a[l])):!1}var _f=Object.prototype.hasOwnProperty;function R0(n,a,l=0){if(n===a)return n;if(l>500)return a;const c=Hh(n)&&Hh(a);if(!c&&!(jc(n)&&jc(a)))return a;const h=(c?n:Object.keys(n)).length,m=c?a:Object.keys(a),x=m.length,f=c?new Array(x):{};let w=0;for(let b=0;b<x;b++){const g=c?b:m[b],j=n[g],_=a[g];if(j===_){f[g]=j,(c?b<h:_f.call(n,g))&&w++;continue}if(j===null||_===null||typeof j!="object"||typeof _!="object"){f[g]=_;continue}const P=R0(j,_,l+1);f[g]=P,P===j&&w++}return h===x&&w===h?n:f}function ll(n,a){if(!a||Object.keys(n).length!==Object.keys(a).length)return!1;for(const l in n)if(n[l]!==a[l])return!1;return!0}function Hh(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function jc(n){if(!Vh(n))return!1;const a=n.constructor;if(a===void 0)return!0;const l=a.prototype;return!(!Vh(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Vh(n){return Object.prototype.toString.call(n)==="[object Object]"}function Ef(n){return new Promise(a=>{bn.setTimeout(a,n)})}function wc(n,a,l){return typeof l.structuralSharing=="function"?l.structuralSharing(n,a):l.structuralSharing!==!1?R0(n,a):a}function Rf(n,a,l=0){const c=[...n,a];return l&&c.length>l?c.slice(1):c}function Lf(n,a,l=0){const c=[a,...n];return l&&c.length>l?c.slice(0,-1):c}var $c=Symbol();function L0(n,a){return!n.queryFn&&(a!=null&&a.initialPromise)?()=>a.initialPromise:!n.queryFn||n.queryFn===$c?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Uc(n,a){return typeof n=="function"?n(...a):!!n}function Pf(n,a,l){let c=!1,d;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(d??(d=a()),c||(c=!0,d.aborted?l():d.addEventListener("abort",l,{once:!0})),d)}),n}var Nn,Wr,ds,y0,Tf=(y0=class extends Ns{constructor(){super();ne(this,Nn);ne(this,Wr);ne(this,ds);J(this,ds,a=>{if(!Tn&&window.addEventListener){const l=()=>a();return window.addEventListener("visibilitychange",l,!1),()=>{window.removeEventListener("visibilitychange",l)}}})}onSubscribe(){N(this,Wr)||this.setEventListener(N(this,ds))}onUnsubscribe(){var a;this.hasListeners()||((a=N(this,Wr))==null||a.call(this),J(this,Wr,void 0))}setEventListener(a){var l;J(this,ds,a),(l=N(this,Wr))==null||l.call(this),J(this,Wr,a(c=>{typeof c=="boolean"?this.setFocused(c):this.onFocus()}))}setFocused(a){N(this,Nn)!==a&&(J(this,Nn,a),this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(l=>{l(a)})}isFocused(){var a;return typeof N(this,Nn)=="boolean"?N(this,Nn):((a=globalThis.document)==null?void 0:a.visibilityState)!=="hidden"}},Nn=new WeakMap,Wr=new WeakMap,ds=new WeakMap,y0),Bc=new Tf;function bc(){let n,a;const l=new Promise((d,h)=>{n=d,a=h});l.status="pending",l.catch(()=>{});function c(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{c({status:"fulfilled",value:d}),n(d)},l.reject=d=>{c({status:"rejected",reason:d}),a(d)},l}var Mf=Sf;function Ff(){let n=[],a=0,l=x=>{x()},c=x=>{x()},d=Mf;const h=x=>{a?n.push(x):d(()=>{l(x)})},m=()=>{const x=n;n=[],x.length&&d(()=>{c(()=>{x.forEach(f=>{l(f)})})})};return{batch:x=>{let f;a++;try{f=x()}finally{a--,a||m()}return f},batchCalls:x=>(...f)=>{h(()=>{x(...f)})},schedule:h,setNotifyFunction:x=>{l=x},setBatchNotifyFunction:x=>{c=x},setScheduler:x=>{d=x}}}var Ge=Ff(),hs,Hr,ps,v0,zf=(v0=class extends Ns{constructor(){super();ne(this,hs,!0);ne(this,Hr);ne(this,ps);J(this,ps,a=>{if(!Tn&&window.addEventListener){const l=()=>a(!0),c=()=>a(!1);return window.addEventListener("online",l,!1),window.addEventListener("offline",c,!1),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",c)}}})}onSubscribe(){N(this,Hr)||this.setEventListener(N(this,ps))}onUnsubscribe(){var a;this.hasListeners()||((a=N(this,Hr))==null||a.call(this),J(this,Hr,void 0))}setEventListener(a){var l;J(this,ps,a),(l=N(this,Hr))==null||l.call(this),J(this,Hr,a(this.setOnline.bind(this)))}setOnline(a){N(this,hs)!==a&&(J(this,hs,a),this.listeners.forEach(c=>{c(a)}))}isOnline(){return N(this,hs)}},hs=new WeakMap,Hr=new WeakMap,ps=new WeakMap,v0),ol=new zf;function Af(n){return Math.min(1e3*2**n,3e4)}function P0(n){return(n??"online")==="online"?ol.isOnline():!0}var Nc=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function T0(n){let a=!1,l=0,c;const d=bc(),h=()=>d.status!=="pending",m=k=>{var L;if(!h()){const O=new Nc(k);j(O),(L=n.onCancel)==null||L.call(n,O)}},x=()=>{a=!0},f=()=>{a=!1},w=()=>Bc.isFocused()&&(n.networkMode==="always"||ol.isOnline())&&n.canRun(),b=()=>P0(n.networkMode)&&n.canRun(),g=k=>{h()||(c==null||c(),d.resolve(k))},j=k=>{h()||(c==null||c(),d.reject(k))},_=()=>new Promise(k=>{var L;c=O=>{(h()||w())&&k(O)},(L=n.onPause)==null||L.call(n)}).then(()=>{var k;c=void 0,h()||(k=n.onContinue)==null||k.call(n)}),P=()=>{if(h())return;let k;const L=l===0?n.initialPromise:void 0;try{k=L??n.fn()}catch(O){k=Promise.reject(O)}Promise.resolve(k).then(g).catch(O=>{var B;if(h())return;const A=n.retry??(Tn?0:3),E=n.retryDelay??Af,z=typeof E=="function"?E(l,O):E,Q=A===!0||typeof A=="number"&&l<A||typeof A=="function"&&A(l,O);if(a||!Q){j(O);return}l++,(B=n.onFail)==null||B.call(n,l,O),Ef(z).then(()=>w()?void 0:_()).then(()=>{a?j(O):P()})})};return{promise:d,status:()=>d.status,cancel:m,continue:()=>(c==null||c(),d),cancelRetry:x,continueRetry:f,canStart:b,start:()=>(b()?P():_().then(P),d)}}var kn,j0,M0=(j0=class{constructor(){ne(this,kn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vc(this.gcTime)&&J(this,kn,bn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Tn?1/0:300*1e3))}clearGcTimeout(){N(this,kn)&&(bn.clearTimeout(N(this,kn)),J(this,kn,void 0))}},kn=new WeakMap,j0),Sn,ms,Mt,Cn,Ze,Ta,_n,Qt,fr,w0,Of=(w0=class extends M0{constructor(a){super();ne(this,Qt);ne(this,Sn);ne(this,ms);ne(this,Mt);ne(this,Cn);ne(this,Ze);ne(this,Ta);ne(this,_n);J(this,_n,!1),J(this,Ta,a.defaultOptions),this.setOptions(a.options),this.observers=[],J(this,Cn,a.client),J(this,Mt,N(this,Cn).getQueryCache()),this.queryKey=a.queryKey,this.queryHash=a.queryHash,J(this,Sn,Jh(this.options)),this.state=a.state??N(this,Sn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var a;return(a=N(this,Ze))==null?void 0:a.promise}setOptions(a){if(this.options={...N(this,Ta),...a},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const l=Jh(this.options);l.data!==void 0&&(this.setState(Gh(l.data,l.dataUpdatedAt)),J(this,Sn,l))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Mt).remove(this)}setData(a,l){const c=wc(this.state.data,a,this.options);return he(this,Qt,fr).call(this,{data:c,type:"success",dataUpdatedAt:l==null?void 0:l.updatedAt,manual:l==null?void 0:l.manual}),c}setState(a,l){he(this,Qt,fr).call(this,{type:"setState",state:a,setStateOptions:l})}cancel(a){var c,d;const l=(c=N(this,Ze))==null?void 0:c.promise;return(d=N(this,Ze))==null||d.cancel(a),l?l.then(pt).catch(pt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Sn))}isActive(){return this.observers.some(a=>Ft(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$c||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>en(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!E0(this.state.dataUpdatedAt,a)}onFocus(){var l;const a=this.observers.find(c=>c.shouldFetchOnWindowFocus());a==null||a.refetch({cancelRefetch:!1}),(l=N(this,Ze))==null||l.continue()}onOnline(){var l;const a=this.observers.find(c=>c.shouldFetchOnReconnect());a==null||a.refetch({cancelRefetch:!1}),(l=N(this,Ze))==null||l.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),N(this,Mt).notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(l=>l!==a),this.observers.length||(N(this,Ze)&&(N(this,_n)?N(this,Ze).cancel({revert:!0}):N(this,Ze).cancelRetry()),this.scheduleGc()),N(this,Mt).notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||he(this,Qt,fr).call(this,{type:"invalidate"})}async fetch(a,l){var f,w,b,g,j,_,P,k,L,O,A,E;if(this.state.fetchStatus!=="idle"&&((f=N(this,Ze))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(l!=null&&l.cancelRefetch))this.cancel({silent:!0});else if(N(this,Ze))return N(this,Ze).continueRetry(),N(this,Ze).promise}if(a&&this.setOptions(a),!this.options.queryFn){const z=this.observers.find(Q=>Q.options.queryFn);z&&this.setOptions(z.options)}const c=new AbortController,d=z=>{Object.defineProperty(z,"signal",{enumerable:!0,get:()=>(J(this,_n,!0),c.signal)})},h=()=>{const z=L0(this.options,l),B=(()=>{const W={client:N(this,Cn),queryKey:this.queryKey,meta:this.meta};return d(W),W})();return J(this,_n,!1),this.options.persister?this.options.persister(z,B,this):z(B)},x=(()=>{const z={fetchOptions:l,options:this.options,queryKey:this.queryKey,client:N(this,Cn),state:this.state,fetchFn:h};return d(z),z})();(w=this.options.behavior)==null||w.onFetch(x,this),J(this,ms,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((b=x.fetchOptions)==null?void 0:b.meta))&&he(this,Qt,fr).call(this,{type:"fetch",meta:(g=x.fetchOptions)==null?void 0:g.meta}),J(this,Ze,T0({initialPromise:l==null?void 0:l.initialPromise,fn:x.fetchFn,onCancel:z=>{z instanceof Nc&&z.revert&&this.setState({...N(this,ms),fetchStatus:"idle"}),c.abort()},onFail:(z,Q)=>{he(this,Qt,fr).call(this,{type:"failed",failureCount:z,error:Q})},onPause:()=>{he(this,Qt,fr).call(this,{type:"pause"})},onContinue:()=>{he(this,Qt,fr).call(this,{type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay,networkMode:x.options.networkMode,canRun:()=>!0}));try{const z=await N(this,Ze).start();if(z===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(z),(_=(j=N(this,Mt).config).onSuccess)==null||_.call(j,z,this),(k=(P=N(this,Mt).config).onSettled)==null||k.call(P,z,this.state.error,this),z}catch(z){if(z instanceof Nc){if(z.silent)return N(this,Ze).promise;if(z.revert){if(this.state.data===void 0)throw z;return this.state.data}}throw he(this,Qt,fr).call(this,{type:"error",error:z}),(O=(L=N(this,Mt).config).onError)==null||O.call(L,z,this),(E=(A=N(this,Mt).config).onSettled)==null||E.call(A,this.state.data,z,this),z}finally{this.scheduleGc()}}},Sn=new WeakMap,ms=new WeakMap,Mt=new WeakMap,Cn=new WeakMap,Ze=new WeakMap,Ta=new WeakMap,_n=new WeakMap,Qt=new WeakSet,fr=function(a){const l=c=>{switch(a.type){case"failed":return{...c,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...c,fetchStatus:"paused"};case"continue":return{...c,fetchStatus:"fetching"};case"fetch":return{...c,...F0(c.data,this.options),fetchMeta:a.meta??null};case"success":const d={...c,...Gh(a.data,a.dataUpdatedAt),dataUpdateCount:c.dataUpdateCount+1,...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return J(this,ms,a.manual?d:void 0),d;case"error":const h=a.error;return{...c,error:h,errorUpdateCount:c.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:c.fetchFailureCount+1,fetchFailureReason:h,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...c,isInvalidated:!0};case"setState":return{...c,...a.state}}};this.state=l(this.state),Ge.batch(()=>{this.observers.forEach(c=>{c.onQueryUpdate()}),N(this,Mt).notify({query:this,type:"updated",action:a})})},w0);function F0(n,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:P0(a.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Gh(n,a){return{data:n,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Jh(n){const a=typeof n.initialData=="function"?n.initialData():n.initialData,l=a!==void 0,c=l?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:l?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}var jt,ye,Ma,dt,En,fs,xr,Vr,Fa,xs,gs,Rn,Ln,Gr,ys,ke,Ca,kc,Sc,Cc,_c,Ec,Rc,Lc,z0,b0,Df=(b0=class extends Ns{constructor(a,l){super();ne(this,ke);ne(this,jt);ne(this,ye);ne(this,Ma);ne(this,dt);ne(this,En);ne(this,fs);ne(this,xr);ne(this,Vr);ne(this,Fa);ne(this,xs);ne(this,gs);ne(this,Rn);ne(this,Ln);ne(this,Gr);ne(this,ys,new Set);this.options=l,J(this,jt,a),J(this,Vr,null),J(this,xr,bc()),this.bindMethods(),this.setOptions(l)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,ye).addObserver(this),Yh(N(this,ye),this.options)?he(this,ke,Ca).call(this):this.updateResult(),he(this,ke,_c).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Pc(N(this,ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Pc(N(this,ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,he(this,ke,Ec).call(this),he(this,ke,Rc).call(this),N(this,ye).removeObserver(this)}setOptions(a){const l=this.options,c=N(this,ye);if(this.options=N(this,jt).defaultQueryOptions(a),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ft(this.options.enabled,N(this,ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");he(this,ke,Lc).call(this),N(this,ye).setOptions(this.options),l._defaulted&&!ll(this.options,l)&&N(this,jt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,ye),observer:this});const d=this.hasListeners();d&&Xh(N(this,ye),c,this.options,l)&&he(this,ke,Ca).call(this),this.updateResult(),d&&(N(this,ye)!==c||Ft(this.options.enabled,N(this,ye))!==Ft(l.enabled,N(this,ye))||en(this.options.staleTime,N(this,ye))!==en(l.staleTime,N(this,ye)))&&he(this,ke,kc).call(this);const h=he(this,ke,Sc).call(this);d&&(N(this,ye)!==c||Ft(this.options.enabled,N(this,ye))!==Ft(l.enabled,N(this,ye))||h!==N(this,Gr))&&he(this,ke,Cc).call(this,h)}getOptimisticResult(a){const l=N(this,jt).getQueryCache().build(N(this,jt),a),c=this.createResult(l,a);return $f(this,c)&&(J(this,dt,c),J(this,fs,this.options),J(this,En,N(this,ye).state)),c}getCurrentResult(){return N(this,dt)}trackResult(a,l){return new Proxy(a,{get:(c,d)=>(this.trackProp(d),l==null||l(d),d==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&N(this,xr).status==="pending"&&N(this,xr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(c,d))})}trackProp(a){N(this,ys).add(a)}getCurrentQuery(){return N(this,ye)}refetch({...a}={}){return this.fetch({...a})}fetchOptimistic(a){const l=N(this,jt).defaultQueryOptions(a),c=N(this,jt).getQueryCache().build(N(this,jt),l);return c.fetch().then(()=>this.createResult(c,l))}fetch(a){return he(this,ke,Ca).call(this,{...a,cancelRefetch:a.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,dt)))}createResult(a,l){var ve;const c=N(this,ye),d=this.options,h=N(this,dt),m=N(this,En),x=N(this,fs),w=a!==c?a.state:N(this,Ma),{state:b}=a;let g={...b},j=!1,_;if(l._optimisticResults){const te=this.hasListeners(),fe=!te&&Yh(a,l),ce=te&&Xh(a,c,l,d);(fe||ce)&&(g={...g,...F0(b.data,a.options)}),l._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:P,errorUpdatedAt:k,status:L}=g;_=g.data;let O=!1;if(l.placeholderData!==void 0&&_===void 0&&L==="pending"){let te;h!=null&&h.isPlaceholderData&&l.placeholderData===(x==null?void 0:x.placeholderData)?(te=h.data,O=!0):te=typeof l.placeholderData=="function"?l.placeholderData((ve=N(this,gs))==null?void 0:ve.state.data,N(this,gs)):l.placeholderData,te!==void 0&&(L="success",_=wc(h==null?void 0:h.data,te,l),j=!0)}if(l.select&&_!==void 0&&!O)if(h&&_===(m==null?void 0:m.data)&&l.select===N(this,Fa))_=N(this,xs);else try{J(this,Fa,l.select),_=l.select(_),_=wc(h==null?void 0:h.data,_,l),J(this,xs,_),J(this,Vr,null)}catch(te){J(this,Vr,te)}N(this,Vr)&&(P=N(this,Vr),_=N(this,xs),k=Date.now(),L="error");const A=g.fetchStatus==="fetching",E=L==="pending",z=L==="error",Q=E&&A,B=_!==void 0,se={status:L,fetchStatus:g.fetchStatus,isPending:E,isSuccess:L==="success",isError:z,isInitialLoading:Q,isLoading:Q,data:_,dataUpdatedAt:g.dataUpdatedAt,error:P,errorUpdatedAt:k,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>w.dataUpdateCount||g.errorUpdateCount>w.errorUpdateCount,isFetching:A,isRefetching:A&&!E,isLoadingError:z&&!B,isPaused:g.fetchStatus==="paused",isPlaceholderData:j,isRefetchError:z&&B,isStale:Kc(a,l),refetch:this.refetch,promise:N(this,xr),isEnabled:Ft(l.enabled,a)!==!1};if(this.options.experimental_prefetchInRender){const te=se.data!==void 0,fe=se.status==="error"&&!te,ce=Be=>{fe?Be.reject(se.error):te&&Be.resolve(se.data)},je=()=>{const Be=J(this,xr,se.promise=bc());ce(Be)},Re=N(this,xr);switch(Re.status){case"pending":a.queryHash===c.queryHash&&ce(Re);break;case"fulfilled":(fe||se.data!==Re.value)&&je();break;case"rejected":(!fe||se.error!==Re.reason)&&je();break}}return se}updateResult(){const a=N(this,dt),l=this.createResult(N(this,ye),this.options);if(J(this,En,N(this,ye).state),J(this,fs,this.options),N(this,En).data!==void 0&&J(this,gs,N(this,ye)),ll(l,a))return;J(this,dt,l);const c=()=>{if(!a)return!0;const{notifyOnChangeProps:d}=this.options,h=typeof d=="function"?d():d;if(h==="all"||!h&&!N(this,ys).size)return!0;const m=new Set(h??N(this,ys));return this.options.throwOnError&&m.add("error"),Object.keys(N(this,dt)).some(x=>{const f=x;return N(this,dt)[f]!==a[f]&&m.has(f)})};he(this,ke,z0).call(this,{listeners:c()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&he(this,ke,_c).call(this)}},jt=new WeakMap,ye=new WeakMap,Ma=new WeakMap,dt=new WeakMap,En=new WeakMap,fs=new WeakMap,xr=new WeakMap,Vr=new WeakMap,Fa=new WeakMap,xs=new WeakMap,gs=new WeakMap,Rn=new WeakMap,Ln=new WeakMap,Gr=new WeakMap,ys=new WeakMap,ke=new WeakSet,Ca=function(a){he(this,ke,Lc).call(this);let l=N(this,ye).fetch(this.options,a);return a!=null&&a.throwOnError||(l=l.catch(pt)),l},kc=function(){he(this,ke,Ec).call(this);const a=en(this.options.staleTime,N(this,ye));if(Tn||N(this,dt).isStale||!vc(a))return;const c=E0(N(this,dt).dataUpdatedAt,a)+1;J(this,Rn,bn.setTimeout(()=>{N(this,dt).isStale||this.updateResult()},c))},Sc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,ye)):this.options.refetchInterval)??!1},Cc=function(a){he(this,ke,Rc).call(this),J(this,Gr,a),!(Tn||Ft(this.options.enabled,N(this,ye))===!1||!vc(N(this,Gr))||N(this,Gr)===0)&&J(this,Ln,bn.setInterval(()=>{(this.options.refetchIntervalInBackground||Bc.isFocused())&&he(this,ke,Ca).call(this)},N(this,Gr)))},_c=function(){he(this,ke,kc).call(this),he(this,ke,Cc).call(this,he(this,ke,Sc).call(this))},Ec=function(){N(this,Rn)&&(bn.clearTimeout(N(this,Rn)),J(this,Rn,void 0))},Rc=function(){N(this,Ln)&&(bn.clearInterval(N(this,Ln)),J(this,Ln,void 0))},Lc=function(){const a=N(this,jt).getQueryCache().build(N(this,jt),this.options);if(a===N(this,ye))return;const l=N(this,ye);J(this,ye,a),J(this,Ma,a.state),this.hasListeners()&&(l==null||l.removeObserver(this),a.addObserver(this))},z0=function(a){Ge.batch(()=>{a.listeners&&this.listeners.forEach(l=>{l(N(this,dt))}),N(this,jt).getQueryCache().notify({query:N(this,ye),type:"observerResultsUpdated"})})},b0);function If(n,a){return Ft(a.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&a.retryOnMount===!1)}function Yh(n,a){return If(n,a)||n.state.data!==void 0&&Pc(n,a,a.refetchOnMount)}function Pc(n,a,l){if(Ft(a.enabled,n)!==!1&&en(a.staleTime,n)!=="static"){const c=typeof l=="function"?l(n):l;return c==="always"||c!==!1&&Kc(n,a)}return!1}function Xh(n,a,l,c){return(n!==a||Ft(c.enabled,n)===!1)&&(!l.suspense||n.state.status!=="error")&&Kc(n,l)}function Kc(n,a){return Ft(a.enabled,n)!==!1&&n.isStaleByTime(en(a.staleTime,n))}function $f(n,a){return!ll(n.getCurrentResult(),a)}function Zh(n){return{onFetch:(a,l)=>{var b,g,j,_,P;const c=a.options,d=(j=(g=(b=a.fetchOptions)==null?void 0:b.meta)==null?void 0:g.fetchMore)==null?void 0:j.direction,h=((_=a.state.data)==null?void 0:_.pages)||[],m=((P=a.state.data)==null?void 0:P.pageParams)||[];let x={pages:[],pageParams:[]},f=0;const w=async()=>{let k=!1;const L=E=>{Pf(E,()=>a.signal,()=>k=!0)},O=L0(a.options,a.fetchOptions),A=async(E,z,Q)=>{if(k)return Promise.reject();if(z==null&&E.pages.length)return Promise.resolve(E);const W=(()=>{const fe={client:a.client,queryKey:a.queryKey,pageParam:z,direction:Q?"backward":"forward",meta:a.options.meta};return L(fe),fe})(),se=await O(W),{maxPages:ve}=a.options,te=Q?Lf:Rf;return{pages:te(E.pages,se,ve),pageParams:te(E.pageParams,z,ve)}};if(d&&h.length){const E=d==="backward",z=E?Uf:e0,Q={pages:h,pageParams:m},B=z(c,Q);x=await A(Q,B,E)}else{const E=n??h.length;do{const z=f===0?m[0]??c.initialPageParam:e0(c,x);if(f>0&&z==null)break;x=await A(x,z),f++}while(f<E)}return x};a.options.persister?a.fetchFn=()=>{var k,L;return(L=(k=a.options).persister)==null?void 0:L.call(k,w,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},l)}:a.fetchFn=w}}}function e0(n,{pages:a,pageParams:l}){const c=a.length-1;return a.length>0?n.getNextPageParam(a[c],a,l[c],l):void 0}function Uf(n,{pages:a,pageParams:l}){var c;return a.length>0?(c=n.getPreviousPageParam)==null?void 0:c.call(n,a[0],a,l[0],l):void 0}var za,er,ht,Pn,tr,qr,N0,Bf=(N0=class extends M0{constructor(a){super();ne(this,tr);ne(this,za);ne(this,er);ne(this,ht);ne(this,Pn);J(this,za,a.client),this.mutationId=a.mutationId,J(this,ht,a.mutationCache),J(this,er,[]),this.state=a.state||A0(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){N(this,er).includes(a)||(N(this,er).push(a),this.clearGcTimeout(),N(this,ht).notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){J(this,er,N(this,er).filter(l=>l!==a)),this.scheduleGc(),N(this,ht).notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){N(this,er).length||(this.state.status==="pending"?this.scheduleGc():N(this,ht).remove(this))}continue(){var a;return((a=N(this,Pn))==null?void 0:a.continue())??this.execute(this.state.variables)}async execute(a){var m,x,f,w,b,g,j,_,P,k,L,O,A,E,z,Q,B,W,se,ve;const l=()=>{he(this,tr,qr).call(this,{type:"continue"})},c={client:N(this,za),meta:this.options.meta,mutationKey:this.options.mutationKey};J(this,Pn,T0({fn:()=>this.options.mutationFn?this.options.mutationFn(a,c):Promise.reject(new Error("No mutationFn found")),onFail:(te,fe)=>{he(this,tr,qr).call(this,{type:"failed",failureCount:te,error:fe})},onPause:()=>{he(this,tr,qr).call(this,{type:"pause"})},onContinue:l,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,ht).canRun(this)}));const d=this.state.status==="pending",h=!N(this,Pn).canStart();try{if(d)l();else{he(this,tr,qr).call(this,{type:"pending",variables:a,isPaused:h}),await((x=(m=N(this,ht).config).onMutate)==null?void 0:x.call(m,a,this,c));const fe=await((w=(f=this.options).onMutate)==null?void 0:w.call(f,a,c));fe!==this.state.context&&he(this,tr,qr).call(this,{type:"pending",context:fe,variables:a,isPaused:h})}const te=await N(this,Pn).start();return await((g=(b=N(this,ht).config).onSuccess)==null?void 0:g.call(b,te,a,this.state.context,this,c)),await((_=(j=this.options).onSuccess)==null?void 0:_.call(j,te,a,this.state.context,c)),await((k=(P=N(this,ht).config).onSettled)==null?void 0:k.call(P,te,null,this.state.variables,this.state.context,this,c)),await((O=(L=this.options).onSettled)==null?void 0:O.call(L,te,null,a,this.state.context,c)),he(this,tr,qr).call(this,{type:"success",data:te}),te}catch(te){try{await((E=(A=N(this,ht).config).onError)==null?void 0:E.call(A,te,a,this.state.context,this,c))}catch(fe){Promise.reject(fe)}try{await((Q=(z=this.options).onError)==null?void 0:Q.call(z,te,a,this.state.context,c))}catch(fe){Promise.reject(fe)}try{await((W=(B=N(this,ht).config).onSettled)==null?void 0:W.call(B,void 0,te,this.state.variables,this.state.context,this,c))}catch(fe){Promise.reject(fe)}try{await((ve=(se=this.options).onSettled)==null?void 0:ve.call(se,void 0,te,a,this.state.context,c))}catch(fe){Promise.reject(fe)}throw he(this,tr,qr).call(this,{type:"error",error:te}),te}finally{N(this,ht).runNext(this)}}},za=new WeakMap,er=new WeakMap,ht=new WeakMap,Pn=new WeakMap,tr=new WeakSet,qr=function(a){const l=c=>{switch(a.type){case"failed":return{...c,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...c,isPaused:!0};case"continue":return{...c,isPaused:!1};case"pending":return{...c,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...c,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...c,data:void 0,error:a.error,failureCount:c.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=l(this.state),Ge.batch(()=>{N(this,er).forEach(c=>{c.onMutationUpdate(a)}),N(this,ht).notify({mutation:this,type:"updated",action:a})})},N0);function A0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gr,Wt,Aa,k0,Kf=(k0=class extends Ns{constructor(a={}){super();ne(this,gr);ne(this,Wt);ne(this,Aa);this.config=a,J(this,gr,new Set),J(this,Wt,new Map),J(this,Aa,0)}build(a,l,c){const d=new Bf({client:a,mutationCache:this,mutationId:++Xi(this,Aa)._,options:a.defaultMutationOptions(l),state:c});return this.add(d),d}add(a){N(this,gr).add(a);const l=el(a);if(typeof l=="string"){const c=N(this,Wt).get(l);c?c.push(a):N(this,Wt).set(l,[a])}this.notify({type:"added",mutation:a})}remove(a){if(N(this,gr).delete(a)){const l=el(a);if(typeof l=="string"){const c=N(this,Wt).get(l);if(c)if(c.length>1){const d=c.indexOf(a);d!==-1&&c.splice(d,1)}else c[0]===a&&N(this,Wt).delete(l)}}this.notify({type:"removed",mutation:a})}canRun(a){const l=el(a);if(typeof l=="string"){const c=N(this,Wt).get(l),d=c==null?void 0:c.find(h=>h.state.status==="pending");return!d||d===a}else return!0}runNext(a){var c;const l=el(a);if(typeof l=="string"){const d=(c=N(this,Wt).get(l))==null?void 0:c.find(h=>h!==a&&h.state.isPaused);return(d==null?void 0:d.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ge.batch(()=>{N(this,gr).forEach(a=>{this.notify({type:"removed",mutation:a})}),N(this,gr).clear(),N(this,Wt).clear()})}getAll(){return Array.from(N(this,gr))}find(a){const l={exact:!0,...a};return this.getAll().find(c=>Wh(l,c))}findAll(a={}){return this.getAll().filter(l=>Wh(a,l))}notify(a){Ge.batch(()=>{this.listeners.forEach(l=>{l(a)})})}resumePausedMutations(){const a=this.getAll().filter(l=>l.state.isPaused);return Ge.batch(()=>Promise.all(a.map(l=>l.continue().catch(pt))))}},gr=new WeakMap,Wt=new WeakMap,Aa=new WeakMap,k0);function el(n){var a;return(a=n.options.scope)==null?void 0:a.id}var yr,Jr,wt,vr,wr,sl,Tc,S0,qf=(S0=class extends Ns{constructor(l,c){super();ne(this,wr);ne(this,yr);ne(this,Jr);ne(this,wt);ne(this,vr);J(this,yr,l),this.setOptions(c),this.bindMethods(),he(this,wr,sl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(l){var d;const c=this.options;this.options=N(this,yr).defaultMutationOptions(l),ll(this.options,c)||N(this,yr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,wt),observer:this}),c!=null&&c.mutationKey&&this.options.mutationKey&&Mn(c.mutationKey)!==Mn(this.options.mutationKey)?this.reset():((d=N(this,wt))==null?void 0:d.state.status)==="pending"&&N(this,wt).setOptions(this.options)}onUnsubscribe(){var l;this.hasListeners()||(l=N(this,wt))==null||l.removeObserver(this)}onMutationUpdate(l){he(this,wr,sl).call(this),he(this,wr,Tc).call(this,l)}getCurrentResult(){return N(this,Jr)}reset(){var l;(l=N(this,wt))==null||l.removeObserver(this),J(this,wt,void 0),he(this,wr,sl).call(this),he(this,wr,Tc).call(this)}mutate(l,c){var d;return J(this,vr,c),(d=N(this,wt))==null||d.removeObserver(this),J(this,wt,N(this,yr).getMutationCache().build(N(this,yr),this.options)),N(this,wt).addObserver(this),N(this,wt).execute(l)}},yr=new WeakMap,Jr=new WeakMap,wt=new WeakMap,vr=new WeakMap,wr=new WeakSet,sl=function(){var c;const l=((c=N(this,wt))==null?void 0:c.state)??A0();J(this,Jr,{...l,isPending:l.status==="pending",isSuccess:l.status==="success",isError:l.status==="error",isIdle:l.status==="idle",mutate:this.mutate,reset:this.reset})},Tc=function(l){Ge.batch(()=>{var c,d,h,m,x,f,w,b;if(N(this,vr)&&this.hasListeners()){const g=N(this,Jr).variables,j=N(this,Jr).context,_={client:N(this,yr),meta:this.options.meta,mutationKey:this.options.mutationKey};if((l==null?void 0:l.type)==="success"){try{(d=(c=N(this,vr)).onSuccess)==null||d.call(c,l.data,g,j,_)}catch(P){Promise.reject(P)}try{(m=(h=N(this,vr)).onSettled)==null||m.call(h,l.data,null,g,j,_)}catch(P){Promise.reject(P)}}else if((l==null?void 0:l.type)==="error"){try{(f=(x=N(this,vr)).onError)==null||f.call(x,l.error,g,j,_)}catch(P){Promise.reject(P)}try{(b=(w=N(this,vr)).onSettled)==null||b.call(w,void 0,l.error,g,j,_)}catch(P){Promise.reject(P)}}}this.listeners.forEach(g=>{g(N(this,Jr))})})},S0),rr,C0,Qf=(C0=class extends Ns{constructor(a={}){super();ne(this,rr);this.config=a,J(this,rr,new Map)}build(a,l,c){const d=l.queryKey,h=l.queryHash??Ic(d,l);let m=this.get(h);return m||(m=new Of({client:a,queryKey:d,queryHash:h,options:a.defaultQueryOptions(l),state:c,defaultOptions:a.getQueryDefaults(d)}),this.add(m)),m}add(a){N(this,rr).has(a.queryHash)||(N(this,rr).set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const l=N(this,rr).get(a.queryHash);l&&(a.destroy(),l===a&&N(this,rr).delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){Ge.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return N(this,rr).get(a)}getAll(){return[...N(this,rr).values()]}find(a){const l={exact:!0,...a};return this.getAll().find(c=>Qh(l,c))}findAll(a={}){const l=this.getAll();return Object.keys(a).length>0?l.filter(c=>Qh(a,c)):l}notify(a){Ge.batch(()=>{this.listeners.forEach(l=>{l(a)})})}onFocus(){Ge.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){Ge.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},rr=new WeakMap,C0),Ue,Yr,Xr,vs,js,Zr,ws,bs,_0,Wf=(_0=class{constructor(n={}){ne(this,Ue);ne(this,Yr);ne(this,Xr);ne(this,vs);ne(this,js);ne(this,Zr);ne(this,ws);ne(this,bs);J(this,Ue,n.queryCache||new Qf),J(this,Yr,n.mutationCache||new Kf),J(this,Xr,n.defaultOptions||{}),J(this,vs,new Map),J(this,js,new Map),J(this,Zr,0)}mount(){Xi(this,Zr)._++,N(this,Zr)===1&&(J(this,ws,Bc.subscribe(async n=>{n&&(await this.resumePausedMutations(),N(this,Ue).onFocus())})),J(this,bs,ol.subscribe(async n=>{n&&(await this.resumePausedMutations(),N(this,Ue).onOnline())})))}unmount(){var n,a;Xi(this,Zr)._--,N(this,Zr)===0&&((n=N(this,ws))==null||n.call(this),J(this,ws,void 0),(a=N(this,bs))==null||a.call(this),J(this,bs,void 0))}isFetching(n){return N(this,Ue).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return N(this,Yr).findAll({...n,status:"pending"}).length}getQueryData(n){var l;const a=this.defaultQueryOptions({queryKey:n});return(l=N(this,Ue).get(a.queryHash))==null?void 0:l.state.data}ensureQueryData(n){const a=this.defaultQueryOptions(n),l=N(this,Ue).build(this,a),c=l.state.data;return c===void 0?this.fetchQuery(n):(n.revalidateIfStale&&l.isStaleByTime(en(a.staleTime,l))&&this.prefetchQuery(a),Promise.resolve(c))}getQueriesData(n){return N(this,Ue).findAll(n).map(({queryKey:a,state:l})=>{const c=l.data;return[a,c]})}setQueryData(n,a,l){const c=this.defaultQueryOptions({queryKey:n}),d=N(this,Ue).get(c.queryHash),h=d==null?void 0:d.state.data,m=Cf(a,h);if(m!==void 0)return N(this,Ue).build(this,c).setData(m,{...l,manual:!0})}setQueriesData(n,a,l){return Ge.batch(()=>N(this,Ue).findAll(n).map(({queryKey:c})=>[c,this.setQueryData(c,a,l)]))}getQueryState(n){var l;const a=this.defaultQueryOptions({queryKey:n});return(l=N(this,Ue).get(a.queryHash))==null?void 0:l.state}removeQueries(n){const a=N(this,Ue);Ge.batch(()=>{a.findAll(n).forEach(l=>{a.remove(l)})})}resetQueries(n,a){const l=N(this,Ue);return Ge.batch(()=>(l.findAll(n).forEach(c=>{c.reset()}),this.refetchQueries({type:"active",...n},a)))}cancelQueries(n,a={}){const l={revert:!0,...a},c=Ge.batch(()=>N(this,Ue).findAll(n).map(d=>d.cancel(l)));return Promise.all(c).then(pt).catch(pt)}invalidateQueries(n,a={}){return Ge.batch(()=>(N(this,Ue).findAll(n).forEach(l=>{l.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},a)))}refetchQueries(n,a={}){const l={...a,cancelRefetch:a.cancelRefetch??!0},c=Ge.batch(()=>N(this,Ue).findAll(n).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let h=d.fetch(void 0,l);return l.throwOnError||(h=h.catch(pt)),d.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(c).then(pt)}fetchQuery(n){const a=this.defaultQueryOptions(n);a.retry===void 0&&(a.retry=!1);const l=N(this,Ue).build(this,a);return l.isStaleByTime(en(a.staleTime,l))?l.fetch(a):Promise.resolve(l.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(pt).catch(pt)}fetchInfiniteQuery(n){return n.behavior=Zh(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(pt).catch(pt)}ensureInfiniteQueryData(n){return n.behavior=Zh(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return ol.isOnline()?N(this,Yr).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Ue)}getMutationCache(){return N(this,Yr)}getDefaultOptions(){return N(this,Xr)}setDefaultOptions(n){J(this,Xr,n)}setQueryDefaults(n,a){N(this,vs).set(Mn(n),{queryKey:n,defaultOptions:a})}getQueryDefaults(n){const a=[...N(this,vs).values()],l={};return a.forEach(c=>{_a(n,c.queryKey)&&Object.assign(l,c.defaultOptions)}),l}setMutationDefaults(n,a){N(this,js).set(Mn(n),{mutationKey:n,defaultOptions:a})}getMutationDefaults(n){const a=[...N(this,js).values()],l={};return a.forEach(c=>{_a(n,c.mutationKey)&&Object.assign(l,c.defaultOptions)}),l}defaultQueryOptions(n){if(n._defaulted)return n;const a={...N(this,Xr).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return a.queryHash||(a.queryHash=Ic(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===$c&&(a.enabled=!1),a}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...N(this,Xr).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){N(this,Ue).clear(),N(this,Yr).clear()}},Ue=new WeakMap,Yr=new WeakMap,Xr=new WeakMap,vs=new WeakMap,js=new WeakMap,Zr=new WeakMap,ws=new WeakMap,bs=new WeakMap,_0),O0=y.createContext(void 0),ge=n=>{const a=y.useContext(O0);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},Hf=({client:n,children:a})=>(y.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),r.jsx(O0.Provider,{value:n,children:a})),D0=y.createContext(!1),Vf=()=>y.useContext(D0);D0.Provider;function Gf(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Jf=y.createContext(Gf()),Yf=()=>y.useContext(Jf),Xf=(n,a,l)=>{const c=l!=null&&l.state.error&&typeof n.throwOnError=="function"?Uc(n.throwOnError,[l.state.error,l]):n.throwOnError;(n.suspense||n.experimental_prefetchInRender||c)&&(a.isReset()||(n.retryOnMount=!1))},Zf=n=>{y.useEffect(()=>{n.clearReset()},[n])},ex=({result:n,errorResetBoundary:a,throwOnError:l,query:c,suspense:d})=>n.isError&&!a.isReset()&&!n.isFetching&&c&&(d&&n.data===void 0||Uc(l,[n.error,c])),tx=n=>{if(n.suspense){const l=d=>d==="static"?d:Math.max(d??1e3,1e3),c=n.staleTime;n.staleTime=typeof c=="function"?(...d)=>l(c(...d)):l(c),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},rx=(n,a)=>n.isLoading&&n.isFetching&&!a,nx=(n,a)=>(n==null?void 0:n.suspense)&&a.isPending,t0=(n,a,l)=>a.fetchOptimistic(n).catch(()=>{l.clearReset()});function sx(n,a,l){var j,_,P,k;const c=Vf(),d=Yf(),h=ge(),m=h.defaultQueryOptions(n);(_=(j=h.getDefaultOptions().queries)==null?void 0:j._experimental_beforeQuery)==null||_.call(j,m);const x=h.getQueryCache().get(m.queryHash);m._optimisticResults=c?"isRestoring":"optimistic",tx(m),Xf(m,d,x),Zf(d);const f=!h.getQueryCache().get(m.queryHash),[w]=y.useState(()=>new a(h,m)),b=w.getOptimisticResult(m),g=!c&&n.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(L=>{const O=g?w.subscribe(Ge.batchCalls(L)):pt;return w.updateResult(),O},[w,g]),()=>w.getCurrentResult(),()=>w.getCurrentResult()),y.useEffect(()=>{w.setOptions(m)},[m,w]),nx(m,b))throw t0(m,w,d);if(ex({result:b,errorResetBoundary:d,throwOnError:m.throwOnError,query:x,suspense:m.suspense}))throw b.error;if((k=(P=h.getDefaultOptions().queries)==null?void 0:P._experimental_afterQuery)==null||k.call(P,m,b),m.experimental_prefetchInRender&&!Tn&&rx(b,c)){const L=f?t0(m,w,d):x==null?void 0:x.promise;L==null||L.catch(pt).finally(()=>{w.updateResult()})}return m.notifyOnChangeProps?b:w.trackResult(b)}function _e(n,a){return sx(n,Df)}function pe(n,a){const l=ge(),[c]=y.useState(()=>new qf(l,n));y.useEffect(()=>{c.setOptions(n)},[c,n]);const d=y.useSyncExternalStore(y.useCallback(m=>c.subscribe(Ge.batchCalls(m)),[c]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h=y.useCallback((m,x)=>{c.mutate(m,x).catch(pt)},[c]);if(d.error&&Uc(c.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:h,mutateAsync:d.mutate}}/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r0="popstate";function ax(n={}){function a(c,d){let{pathname:h,search:m,hash:x}=c.location;return Mc("",{pathname:h,search:m,hash:x},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function l(c,d){return typeof d=="string"?d:Ea(d)}return lx(a,l,null,n)}function Ie(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function Ht(n,a){if(!n){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function ix(){return Math.random().toString(36).substring(2,10)}function n0(n,a){return{usr:n.state,key:n.key,idx:a}}function Mc(n,a,l=null,c){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof a=="string"?ks(a):a,state:l,key:a&&a.key||c||ix()}}function Ea({pathname:n="/",search:a="",hash:l=""}){return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function ks(n){let a={};if(n){let l=n.indexOf("#");l>=0&&(a.hash=n.substring(l),n=n.substring(0,l));let c=n.indexOf("?");c>=0&&(a.search=n.substring(c),n=n.substring(0,c)),n&&(a.pathname=n)}return a}function lx(n,a,l,c={}){let{window:d=document.defaultView,v5Compat:h=!1}=c,m=d.history,x="POP",f=null,w=b();w==null&&(w=0,m.replaceState({...m.state,idx:w},""));function b(){return(m.state||{idx:null}).idx}function g(){x="POP";let L=b(),O=L==null?null:L-w;w=L,f&&f({action:x,location:k.location,delta:O})}function j(L,O){x="PUSH";let A=Mc(k.location,L,O);w=b()+1;let E=n0(A,w),z=k.createHref(A);try{m.pushState(E,"",z)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;d.location.assign(z)}h&&f&&f({action:x,location:k.location,delta:1})}function _(L,O){x="REPLACE";let A=Mc(k.location,L,O);w=b();let E=n0(A,w),z=k.createHref(A);m.replaceState(E,"",z),h&&f&&f({action:x,location:k.location,delta:0})}function P(L){return ox(L)}let k={get action(){return x},get location(){return n(d,m)},listen(L){if(f)throw new Error("A history only accepts one active listener");return d.addEventListener(r0,g),f=L,()=>{d.removeEventListener(r0,g),f=null}},createHref(L){return a(d,L)},createURL:P,encodeLocation(L){let O=P(L);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:j,replace:_,go(L){return m.go(L)}};return k}function ox(n,a=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(l,"No window.location.(origin|href) available to create URL");let c=typeof n=="string"?n:Ea(n);return c=c.replace(/ $/,"%20"),!a&&c.startsWith("//")&&(c=l+c),new URL(c,l)}function I0(n,a,l="/"){return cx(n,a,l,!1)}function cx(n,a,l,c){let d=typeof a=="string"?ks(a):a,h=br(d.pathname||"/",l);if(h==null)return null;let m=$0(n);ux(m);let x=null;for(let f=0;x==null&&f<m.length;++f){let w=wx(h);x=vx(m[f],w,c)}return x}function $0(n,a=[],l=[],c="",d=!1){let h=(m,x,f=d,w)=>{let b={relativePath:w===void 0?m.path||"":w,caseSensitive:m.caseSensitive===!0,childrenIndex:x,route:m};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(c)&&f)return;Ie(b.relativePath.startsWith(c),`Absolute route path "${b.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(c.length)}let g=jr([c,b.relativePath]),j=l.concat(b);m.children&&m.children.length>0&&(Ie(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),$0(m.children,a,j,g,f)),!(m.path==null&&!m.index)&&a.push({path:g,score:gx(g,m.index),routesMeta:j})};return n.forEach((m,x)=>{var f;if(m.path===""||!((f=m.path)!=null&&f.includes("?")))h(m,x);else for(let w of U0(m.path))h(m,x,!0,w)}),a}function U0(n){let a=n.split("/");if(a.length===0)return[];let[l,...c]=a,d=l.endsWith("?"),h=l.replace(/\?$/,"");if(c.length===0)return d?[h,""]:[h];let m=U0(c.join("/")),x=[];return x.push(...m.map(f=>f===""?h:[h,f].join("/"))),d&&x.push(...m),x.map(f=>n.startsWith("/")&&f===""?"/":f)}function ux(n){n.sort((a,l)=>a.score!==l.score?l.score-a.score:yx(a.routesMeta.map(c=>c.childrenIndex),l.routesMeta.map(c=>c.childrenIndex)))}var dx=/^:[\w-]+$/,hx=3,px=2,mx=1,fx=10,xx=-2,s0=n=>n==="*";function gx(n,a){let l=n.split("/"),c=l.length;return l.some(s0)&&(c+=xx),a&&(c+=px),l.filter(d=>!s0(d)).reduce((d,h)=>d+(dx.test(h)?hx:h===""?mx:fx),c)}function yx(n,a){return n.length===a.length&&n.slice(0,-1).every((c,d)=>c===a[d])?n[n.length-1]-a[a.length-1]:0}function vx(n,a,l=!1){let{routesMeta:c}=n,d={},h="/",m=[];for(let x=0;x<c.length;++x){let f=c[x],w=x===c.length-1,b=h==="/"?a:a.slice(h.length)||"/",g=cl({path:f.relativePath,caseSensitive:f.caseSensitive,end:w},b),j=f.route;if(!g&&w&&l&&!c[c.length-1].route.index&&(g=cl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},b)),!g)return null;Object.assign(d,g.params),m.push({params:d,pathname:jr([h,g.pathname]),pathnameBase:Sx(jr([h,g.pathnameBase])),route:j}),g.pathnameBase!=="/"&&(h=jr([h,g.pathnameBase]))}return m}function cl(n,a){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[l,c]=jx(n.path,n.caseSensitive,n.end),d=a.match(l);if(!d)return null;let h=d[0],m=h.replace(/(.)\/+$/,"$1"),x=d.slice(1);return{params:c.reduce((w,{paramName:b,isOptional:g},j)=>{if(b==="*"){let P=x[j]||"";m=h.slice(0,h.length-P.length).replace(/(.)\/+$/,"$1")}const _=x[j];return g&&!_?w[b]=void 0:w[b]=(_||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:m,pattern:n}}function jx(n,a=!1,l=!0){Ht(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let c=[],d="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,x,f)=>(c.push({paramName:x,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(c.push({paramName:"*"}),d+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?d+="\\/*$":n!==""&&n!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,a?void 0:"i"),c]}function wx(n){try{return n.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ht(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),n}}function br(n,a){if(a==="/")return n;if(!n.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,c=n.charAt(l);return c&&c!=="/"?null:n.slice(l)||"/"}var B0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bx=n=>B0.test(n);function Nx(n,a="/"){let{pathname:l,search:c="",hash:d=""}=typeof n=="string"?ks(n):n,h;if(l)if(bx(l))h=l;else{if(l.includes("//")){let m=l;l=l.replace(/\/\/+/g,"/"),Ht(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${l}`)}l.startsWith("/")?h=a0(l.substring(1),"/"):h=a0(l,a)}else h=a;return{pathname:h,search:Cx(c),hash:_x(d)}}function a0(n,a){let l=a.replace(/\/+$/,"").split("/");return n.split("/").forEach(d=>{d===".."?l.length>1&&l.pop():d!=="."&&l.push(d)}),l.length>1?l.join("/"):"/"}function cc(n,a,l,c){return`Cannot include a '${n}' character in a manually specified \`to.${a}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kx(n){return n.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function K0(n){let a=kx(n);return a.map((l,c)=>c===a.length-1?l.pathname:l.pathnameBase)}function q0(n,a,l,c=!1){let d;typeof n=="string"?d=ks(n):(d={...n},Ie(!d.pathname||!d.pathname.includes("?"),cc("?","pathname","search",d)),Ie(!d.pathname||!d.pathname.includes("#"),cc("#","pathname","hash",d)),Ie(!d.search||!d.search.includes("#"),cc("#","search","hash",d)));let h=n===""||d.pathname==="",m=h?"/":d.pathname,x;if(m==null)x=l;else{let g=a.length-1;if(!c&&m.startsWith("..")){let j=m.split("/");for(;j[0]==="..";)j.shift(),g-=1;d.pathname=j.join("/")}x=g>=0?a[g]:"/"}let f=Nx(d,x),w=m&&m!=="/"&&m.endsWith("/"),b=(h||m===".")&&l.endsWith("/");return!f.pathname.endsWith("/")&&(w||b)&&(f.pathname+="/"),f}var jr=n=>n.join("/").replace(/\/\/+/g,"/"),Sx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Cx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_x=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Ex=class{constructor(n,a,l,c=!1){this.status=n,this.statusText=a||"",this.internal=c,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function Rx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Lx(n){return n.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function W0(n,a){let l=n;if(typeof l!="string"||!B0.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let c=l,d=!1;if(Q0)try{let h=new URL(window.location.href),m=l.startsWith("//")?new URL(h.protocol+l):new URL(l),x=br(m.pathname,a);m.origin===h.origin&&x!=null?l=x+m.search+m.hash:d=!0}catch{Ht(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:c,isExternal:d,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var H0=["POST","PUT","PATCH","DELETE"];new Set(H0);var Px=["GET",...H0];new Set(Px);var Ss=y.createContext(null);Ss.displayName="DataRouter";var dl=y.createContext(null);dl.displayName="DataRouterState";var Tx=y.createContext(!1),V0=y.createContext({isTransitioning:!1});V0.displayName="ViewTransition";var Mx=y.createContext(new Map);Mx.displayName="Fetchers";var Fx=y.createContext(null);Fx.displayName="Await";var At=y.createContext(null);At.displayName="Navigation";var Oa=y.createContext(null);Oa.displayName="Location";var Vt=y.createContext({outlet:null,matches:[],isDataRoute:!1});Vt.displayName="Route";var qc=y.createContext(null);qc.displayName="RouteError";var G0="REACT_ROUTER_ERROR",zx="REDIRECT",Ax="ROUTE_ERROR_RESPONSE";function Ox(n){if(n.startsWith(`${G0}:${zx}:{`))try{let a=JSON.parse(n.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function Dx(n){if(n.startsWith(`${G0}:${Ax}:{`))try{let a=JSON.parse(n.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Ex(a.status,a.statusText,a.data)}catch{}}function Ix(n,{relative:a}={}){Ie(Da(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:c}=y.useContext(At),{hash:d,pathname:h,search:m}=Ia(n,{relative:a}),x=h;return l!=="/"&&(x=h==="/"?l:jr([l,h])),c.createHref({pathname:x,search:m,hash:d})}function Da(){return y.useContext(Oa)!=null}function tn(){return Ie(Da(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Oa).location}var J0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y0(n){y.useContext(At).static||y.useLayoutEffect(n)}function Qc(){let{isDataRoute:n}=y.useContext(Vt);return n?tg():$x()}function $x(){Ie(Da(),"useNavigate() may be used only in the context of a <Router> component.");let n=y.useContext(Ss),{basename:a,navigator:l}=y.useContext(At),{matches:c}=y.useContext(Vt),{pathname:d}=tn(),h=JSON.stringify(K0(c)),m=y.useRef(!1);return Y0(()=>{m.current=!0}),y.useCallback((f,w={})=>{if(Ht(m.current,J0),!m.current)return;if(typeof f=="number"){l.go(f);return}let b=q0(f,JSON.parse(h),d,w.relative==="path");n==null&&a!=="/"&&(b.pathname=b.pathname==="/"?a:jr([a,b.pathname])),(w.replace?l.replace:l.push)(b,w.state,w)},[a,l,h,d,n])}var Ux=y.createContext(null);function Bx(n){let a=y.useContext(Vt).outlet;return y.useMemo(()=>a&&y.createElement(Ux.Provider,{value:n},a),[a,n])}function Kx(){let{matches:n}=y.useContext(Vt),a=n[n.length-1];return a?a.params:{}}function Ia(n,{relative:a}={}){let{matches:l}=y.useContext(Vt),{pathname:c}=tn(),d=JSON.stringify(K0(l));return y.useMemo(()=>q0(n,JSON.parse(d),c,a==="path"),[n,d,c,a])}function qx(n,a){return X0(n,a)}function X0(n,a,l,c,d){var A;Ie(Da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=y.useContext(At),{matches:m}=y.useContext(Vt),x=m[m.length-1],f=x?x.params:{},w=x?x.pathname:"/",b=x?x.pathnameBase:"/",g=x&&x.route;{let E=g&&g.path||"";ep(w,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let j=tn(),_;if(a){let E=typeof a=="string"?ks(a):a;Ie(b==="/"||((A=E.pathname)==null?void 0:A.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${E.pathname}" was given in the \`location\` prop.`),_=E}else _=j;let P=_.pathname||"/",k=P;if(b!=="/"){let E=b.replace(/^\//,"").split("/");k="/"+P.replace(/^\//,"").split("/").slice(E.length).join("/")}let L=I0(n,{pathname:k});Ht(g||L!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ht(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Gx(L&&L.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:jr([b,h.encodeLocation?h.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?b:jr([b,h.encodeLocation?h.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),m,l,c,d);return a&&O?y.createElement(Oa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},O):O}function Qx(){let n=eg(),a=Rx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),l=n instanceof Error?n.stack:null,c="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:c},h={padding:"2px 4px",backgroundColor:c},m=null;return console.error("Error handled by React Router default ErrorBoundary:",n),m=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:h},"ErrorBoundary")," or"," ",y.createElement("code",{style:h},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},a),l?y.createElement("pre",{style:d},l):null,m)}var Wx=y.createElement(Qx,null),Z0=class extends y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){this.props.onError?this.props.onError(n,a):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const l=Dx(n.digest);l&&(n=l)}let a=n!==void 0?y.createElement(Vt.Provider,{value:this.props.routeContext},y.createElement(qc.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?y.createElement(Hx,{error:n},a):a}};Z0.contextType=Tx;var uc=new WeakMap;function Hx({children:n,error:a}){let{basename:l}=y.useContext(At);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let c=Ox(a.digest);if(c){let d=uc.get(a);if(d)throw d;let h=W0(c.location,l);if(Q0&&!uc.get(a))if(h.isExternal||c.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const m=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:c.replace}));throw uc.set(a,m),m}return y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return n}function Vx({routeContext:n,match:a,children:l}){let c=y.useContext(Ss);return c&&c.static&&c.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=a.route.id),y.createElement(Vt.Provider,{value:n},l)}function Gx(n,a=[],l=null,c=null,d=null){if(n==null){if(!l)return null;if(l.errors)n=l.matches;else if(a.length===0&&!l.initialized&&l.matches.length>0)n=l.matches;else return null}let h=n,m=l==null?void 0:l.errors;if(m!=null){let b=h.findIndex(g=>g.route.id&&(m==null?void 0:m[g.route.id])!==void 0);Ie(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),h=h.slice(0,Math.min(h.length,b+1))}let x=!1,f=-1;if(l)for(let b=0;b<h.length;b++){let g=h[b];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=b),g.route.id){let{loaderData:j,errors:_}=l,P=g.route.loader&&!j.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||P){x=!0,f>=0?h=h.slice(0,f+1):h=[h[0]];break}}}let w=l&&c?(b,g)=>{var j,_;c(b,{location:l.location,params:((_=(j=l.matches)==null?void 0:j[0])==null?void 0:_.params)??{},unstable_pattern:Lx(l.matches),errorInfo:g})}:void 0;return h.reduceRight((b,g,j)=>{let _,P=!1,k=null,L=null;l&&(_=m&&g.route.id?m[g.route.id]:void 0,k=g.route.errorElement||Wx,x&&(f<0&&j===0?(ep("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,L=null):f===j&&(P=!0,L=g.route.hydrateFallbackElement||null)));let O=a.concat(h.slice(0,j+1)),A=()=>{let E;return _?E=k:P?E=L:g.route.Component?E=y.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=b,y.createElement(Vx,{match:g,routeContext:{outlet:b,matches:O,isDataRoute:l!=null},children:E})};return l&&(g.route.ErrorBoundary||g.route.errorElement||j===0)?y.createElement(Z0,{location:l.location,revalidation:l.revalidation,component:k,error:_,children:A(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:w}):A()},null)}function Wc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jx(n){let a=y.useContext(Ss);return Ie(a,Wc(n)),a}function Yx(n){let a=y.useContext(dl);return Ie(a,Wc(n)),a}function Xx(n){let a=y.useContext(Vt);return Ie(a,Wc(n)),a}function Hc(n){let a=Xx(n),l=a.matches[a.matches.length-1];return Ie(l.route.id,`${n} can only be used on routes that contain a unique "id"`),l.route.id}function Zx(){return Hc("useRouteId")}function eg(){var c;let n=y.useContext(qc),a=Yx("useRouteError"),l=Hc("useRouteError");return n!==void 0?n:(c=a.errors)==null?void 0:c[l]}function tg(){let{router:n}=Jx("useNavigate"),a=Hc("useNavigate"),l=y.useRef(!1);return Y0(()=>{l.current=!0}),y.useCallback(async(d,h={})=>{Ht(l.current,J0),l.current&&(typeof d=="number"?await n.navigate(d):await n.navigate(d,{fromRouteId:a,...h}))},[n,a])}var i0={};function ep(n,a,l){!a&&!i0[n]&&(i0[n]=!0,Ht(!1,l))}y.memo(rg);function rg({routes:n,future:a,state:l,onError:c}){return X0(n,void 0,l,c,a)}function ng(n){return Bx(n.context)}function rt(n){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sg({basename:n="/",children:a=null,location:l,navigationType:c="POP",navigator:d,static:h=!1,unstable_useTransitions:m}){Ie(!Da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=n.replace(/^\/*/,"/"),f=y.useMemo(()=>({basename:x,navigator:d,static:h,unstable_useTransitions:m,future:{}}),[x,d,h,m]);typeof l=="string"&&(l=ks(l));let{pathname:w="/",search:b="",hash:g="",state:j=null,key:_="default"}=l,P=y.useMemo(()=>{let k=br(w,x);return k==null?null:{location:{pathname:k,search:b,hash:g,state:j,key:_},navigationType:c}},[x,w,b,g,j,_,c]);return Ht(P!=null,`<Router basename="${x}"> is not able to match the URL "${w}${b}${g}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:y.createElement(At.Provider,{value:f},y.createElement(Oa.Provider,{children:a,value:P}))}function ag({children:n,location:a}){return qx(Fc(n),a)}function Fc(n,a=[]){let l=[];return y.Children.forEach(n,(c,d)=>{if(!y.isValidElement(c))return;let h=[...a,d];if(c.type===y.Fragment){l.push.apply(l,Fc(c.props.children,h));return}Ie(c.type===rt,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!c.props.index||!c.props.children,"An index route cannot have child routes.");let m={id:c.props.id||h.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(m.children=Fc(c.props.children,h)),l.push(m)}),l}var al="get",il="application/x-www-form-urlencoded";function hl(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function ig(n){return hl(n)&&n.tagName.toLowerCase()==="button"}function lg(n){return hl(n)&&n.tagName.toLowerCase()==="form"}function og(n){return hl(n)&&n.tagName.toLowerCase()==="input"}function cg(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ug(n,a){return n.button===0&&(!a||a==="_self")&&!cg(n)}var tl=null;function dg(){if(tl===null)try{new FormData(document.createElement("form"),0),tl=!1}catch{tl=!0}return tl}var hg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dc(n){return n!=null&&!hg.has(n)?(Ht(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${il}"`),null):n}function pg(n,a){let l,c,d,h,m;if(lg(n)){let x=n.getAttribute("action");c=x?br(x,a):null,l=n.getAttribute("method")||al,d=dc(n.getAttribute("enctype"))||il,h=new FormData(n)}else if(ig(n)||og(n)&&(n.type==="submit"||n.type==="image")){let x=n.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||x.getAttribute("action");if(c=f?br(f,a):null,l=n.getAttribute("formmethod")||x.getAttribute("method")||al,d=dc(n.getAttribute("formenctype"))||dc(x.getAttribute("enctype"))||il,h=new FormData(x,n),!dg()){let{name:w,type:b,value:g}=n;if(b==="image"){let j=w?`${w}.`:"";h.append(`${j}x`,"0"),h.append(`${j}y`,"0")}else w&&h.append(w,g)}}else{if(hl(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=al,c=null,d=il,m=n}return h&&d==="text/plain"&&(m=h,h=void 0),{action:c,method:l.toLowerCase(),encType:d,formData:h,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vc(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function mg(n,a,l,c){let d=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return l?d.pathname.endsWith("/")?d.pathname=`${d.pathname}_.${c}`:d.pathname=`${d.pathname}.${c}`:d.pathname==="/"?d.pathname=`_root.${c}`:a&&br(d.pathname,a)==="/"?d.pathname=`${a.replace(/\/$/,"")}/_root.${c}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${c}`,d}async function fg(n,a){if(n.id in a)return a[n.id];try{let l=await import(n.module);return a[n.id]=l,l}catch(l){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xg(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gg(n,a,l){let c=await Promise.all(n.map(async d=>{let h=a.routes[d.route.id];if(h){let m=await fg(h,l);return m.links?m.links():[]}return[]}));return wg(c.flat(1).filter(xg).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function l0(n,a,l,c,d,h){let m=(f,w)=>l[w]?f.route.id!==l[w].route.id:!0,x=(f,w)=>{var b;return l[w].pathname!==f.pathname||((b=l[w].route.path)==null?void 0:b.endsWith("*"))&&l[w].params["*"]!==f.params["*"]};return h==="assets"?a.filter((f,w)=>m(f,w)||x(f,w)):h==="data"?a.filter((f,w)=>{var g;let b=c.routes[f.route.id];if(!b||!b.hasLoader)return!1;if(m(f,w)||x(f,w))return!0;if(f.route.shouldRevalidate){let j=f.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:((g=l[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function yg(n,a,{includeHydrateFallback:l}={}){return vg(n.map(c=>{let d=a.routes[c.route.id];if(!d)return[];let h=[d.module];return d.clientActionModule&&(h=h.concat(d.clientActionModule)),d.clientLoaderModule&&(h=h.concat(d.clientLoaderModule)),l&&d.hydrateFallbackModule&&(h=h.concat(d.hydrateFallbackModule)),d.imports&&(h=h.concat(d.imports)),h}).flat(1))}function vg(n){return[...new Set(n)]}function jg(n){let a={},l=Object.keys(n).sort();for(let c of l)a[c]=n[c];return a}function wg(n,a){let l=new Set;return new Set(a),n.reduce((c,d)=>{let h=JSON.stringify(jg(d));return l.has(h)||(l.add(h),c.push({key:h,link:d})),c},[])}function tp(){let n=y.useContext(Ss);return Vc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function bg(){let n=y.useContext(dl);return Vc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gc=y.createContext(void 0);Gc.displayName="FrameworkContext";function rp(){let n=y.useContext(Gc);return Vc(n,"You must render this element inside a <HydratedRouter> element"),n}function Ng(n,a){let l=y.useContext(Gc),[c,d]=y.useState(!1),[h,m]=y.useState(!1),{onFocus:x,onBlur:f,onMouseEnter:w,onMouseLeave:b,onTouchStart:g}=a,j=y.useRef(null);y.useEffect(()=>{if(n==="render"&&m(!0),n==="viewport"){let k=O=>{O.forEach(A=>{m(A.isIntersecting)})},L=new IntersectionObserver(k,{threshold:.5});return j.current&&L.observe(j.current),()=>{L.disconnect()}}},[n]),y.useEffect(()=>{if(c){let k=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(k)}}},[c]);let _=()=>{d(!0)},P=()=>{d(!1),m(!1)};return l?n!=="intent"?[h,j,{}]:[h,j,{onFocus:ba(x,_),onBlur:ba(f,P),onMouseEnter:ba(w,_),onMouseLeave:ba(b,P),onTouchStart:ba(g,_)}]:[!1,j,{}]}function ba(n,a){return l=>{n&&n(l),l.defaultPrevented||a(l)}}function kg({page:n,...a}){let{router:l}=tp(),c=y.useMemo(()=>I0(l.routes,n,l.basename),[l.routes,n,l.basename]);return c?y.createElement(Cg,{page:n,matches:c,...a}):null}function Sg(n){let{manifest:a,routeModules:l}=rp(),[c,d]=y.useState([]);return y.useEffect(()=>{let h=!1;return gg(n,a,l).then(m=>{h||d(m)}),()=>{h=!0}},[n,a,l]),c}function Cg({page:n,matches:a,...l}){let c=tn(),{future:d,manifest:h,routeModules:m}=rp(),{basename:x}=tp(),{loaderData:f,matches:w}=bg(),b=y.useMemo(()=>l0(n,a,w,h,c,"data"),[n,a,w,h,c]),g=y.useMemo(()=>l0(n,a,w,h,c,"assets"),[n,a,w,h,c]),j=y.useMemo(()=>{if(n===c.pathname+c.search+c.hash)return[];let k=new Set,L=!1;if(a.forEach(A=>{var z;let E=h.routes[A.route.id];!E||!E.hasLoader||(!b.some(Q=>Q.route.id===A.route.id)&&A.route.id in f&&((z=m[A.route.id])!=null&&z.shouldRevalidate)||E.hasClientLoader?L=!0:k.add(A.route.id))}),k.size===0)return[];let O=mg(n,x,d.unstable_trailingSlashAwareDataRequests,"data");return L&&k.size>0&&O.searchParams.set("_routes",a.filter(A=>k.has(A.route.id)).map(A=>A.route.id).join(",")),[O.pathname+O.search]},[x,d.unstable_trailingSlashAwareDataRequests,f,c,h,b,a,n,m]),_=y.useMemo(()=>yg(g,h),[g,h]),P=Sg(g);return y.createElement(y.Fragment,null,j.map(k=>y.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...l})),_.map(k=>y.createElement("link",{key:k,rel:"modulepreload",href:k,...l})),P.map(({key:k,link:L})=>y.createElement("link",{key:k,nonce:l.nonce,...L})))}function _g(...n){return a=>{n.forEach(l=>{typeof l=="function"?l(a):l!=null&&(l.current=a)})}}var Eg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Eg&&(window.__reactRouterVersion="7.12.0")}catch{}function Rg({basename:n,children:a,unstable_useTransitions:l,window:c}){let d=y.useRef();d.current==null&&(d.current=ax({window:c,v5Compat:!0}));let h=d.current,[m,x]=y.useState({action:h.action,location:h.location}),f=y.useCallback(w=>{l===!1?x(w):y.startTransition(()=>x(w))},[l]);return y.useLayoutEffect(()=>h.listen(f),[h,f]),y.createElement(sg,{basename:n,children:a,location:m.location,navigationType:m.action,navigator:h,unstable_useTransitions:l})}var np=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zt=y.forwardRef(function({onClick:a,discover:l="render",prefetch:c="none",relative:d,reloadDocument:h,replace:m,state:x,target:f,to:w,preventScrollReset:b,viewTransition:g,unstable_defaultShouldRevalidate:j,..._},P){let{basename:k,unstable_useTransitions:L}=y.useContext(At),O=typeof w=="string"&&np.test(w),A=W0(w,k);w=A.to;let E=Ix(w,{relative:d}),[z,Q,B]=Ng(c,_),W=Mg(w,{replace:m,state:x,target:f,preventScrollReset:b,relative:d,viewTransition:g,unstable_defaultShouldRevalidate:j,unstable_useTransitions:L});function se(te){a&&a(te),te.defaultPrevented||W(te)}let ve=y.createElement("a",{..._,...B,href:A.absoluteURL||E,onClick:A.isExternal||h?a:se,ref:_g(P,Q),target:f,"data-discover":!O&&l==="render"?"true":void 0});return z&&!O?y.createElement(y.Fragment,null,ve,y.createElement(kg,{page:E})):ve});zt.displayName="Link";var Lg=y.forwardRef(function({"aria-current":a="page",caseSensitive:l=!1,className:c="",end:d=!1,style:h,to:m,viewTransition:x,children:f,...w},b){let g=Ia(m,{relative:w.relative}),j=tn(),_=y.useContext(dl),{navigator:P,basename:k}=y.useContext(At),L=_!=null&&Dg(g)&&x===!0,O=P.encodeLocation?P.encodeLocation(g).pathname:g.pathname,A=j.pathname,E=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;l||(A=A.toLowerCase(),E=E?E.toLowerCase():null,O=O.toLowerCase()),E&&k&&(E=br(E,k)||E);const z=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Q=A===O||!d&&A.startsWith(O)&&A.charAt(z)==="/",B=E!=null&&(E===O||!d&&E.startsWith(O)&&E.charAt(O.length)==="/"),W={isActive:Q,isPending:B,isTransitioning:L},se=Q?a:void 0,ve;typeof c=="function"?ve=c(W):ve=[c,Q?"active":null,B?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let te=typeof h=="function"?h(W):h;return y.createElement(zt,{...w,"aria-current":se,className:ve,ref:b,style:te,to:m,viewTransition:x},typeof f=="function"?f(W):f)});Lg.displayName="NavLink";var Pg=y.forwardRef(({discover:n="render",fetcherKey:a,navigate:l,reloadDocument:c,replace:d,state:h,method:m=al,action:x,onSubmit:f,relative:w,preventScrollReset:b,viewTransition:g,unstable_defaultShouldRevalidate:j,..._},P)=>{let{unstable_useTransitions:k}=y.useContext(At),L=Ag(),O=Og(x,{relative:w}),A=m.toLowerCase()==="get"?"get":"post",E=typeof x=="string"&&np.test(x),z=Q=>{if(f&&f(Q),Q.defaultPrevented)return;Q.preventDefault();let B=Q.nativeEvent.submitter,W=(B==null?void 0:B.getAttribute("formmethod"))||m,se=()=>L(B||Q.currentTarget,{fetcherKey:a,method:W,navigate:l,replace:d,state:h,relative:w,preventScrollReset:b,viewTransition:g,unstable_defaultShouldRevalidate:j});k&&l!==!1?y.startTransition(()=>se()):se()};return y.createElement("form",{ref:P,method:A,action:O,onSubmit:c?f:z,..._,"data-discover":!E&&n==="render"?"true":void 0})});Pg.displayName="Form";function Tg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sp(n){let a=y.useContext(Ss);return Ie(a,Tg(n)),a}function Mg(n,{target:a,replace:l,state:c,preventScrollReset:d,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:x,unstable_useTransitions:f}={}){let w=Qc(),b=tn(),g=Ia(n,{relative:h});return y.useCallback(j=>{if(ug(j,a)){j.preventDefault();let _=l!==void 0?l:Ea(b)===Ea(g),P=()=>w(n,{replace:_,state:c,preventScrollReset:d,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:x});f?y.startTransition(()=>P()):P()}},[b,w,g,l,c,a,n,d,h,m,x,f])}var Fg=0,zg=()=>`__${String(++Fg)}__`;function Ag(){let{router:n}=sp("useSubmit"),{basename:a}=y.useContext(At),l=Zx(),c=n.fetch,d=n.navigate;return y.useCallback(async(h,m={})=>{let{action:x,method:f,encType:w,formData:b,body:g}=pg(h,a);if(m.navigate===!1){let j=m.fetcherKey||zg();await c(j,l,m.action||x,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:b,body:g,formMethod:m.method||f,formEncType:m.encType||w,flushSync:m.flushSync})}else await d(m.action||x,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:b,body:g,formMethod:m.method||f,formEncType:m.encType||w,replace:m.replace,state:m.state,fromRouteId:l,flushSync:m.flushSync,viewTransition:m.viewTransition})},[c,d,a,l])}function Og(n,{relative:a}={}){let{basename:l}=y.useContext(At),c=y.useContext(Vt);Ie(c,"useFormAction must be used inside a RouteContext");let[d]=c.matches.slice(-1),h={...Ia(n||".",{relative:a})},m=tn();if(n==null){h.search=m.search;let x=new URLSearchParams(h.search),f=x.getAll("index");if(f.some(b=>b==="")){x.delete("index"),f.filter(g=>g).forEach(g=>x.append("index",g));let b=x.toString();h.search=b?`?${b}`:""}}return(!n||n===".")&&d.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(h.pathname=h.pathname==="/"?l:jr([l,h.pathname])),Ea(h)}function Dg(n,{relative:a}={}){let l=y.useContext(V0);Ie(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=sp("useViewTransitionState"),d=Ia(n,{relative:a});if(!l.isTransitioning)return!1;let h=br(l.currentLocation.pathname,c)||l.currentLocation.pathname,m=br(l.nextLocation.pathname,c)||l.nextLocation.pathname;return cl(d.pathname,m)!=null||cl(d.pathname,h)!=null}const zc="/api/v1";class ul extends Error{constructor(a,l){super(l),this.status=a,this.name="ApiError"}}async function ap(n){if(n.status===401)throw window.location.href="/auth/login",new ul(401,"Unauthorized");if(!n.ok){const a=await n.json().catch(()=>({error:"Unknown error"}));throw new ul(n.status,a.error)}return n.json()}async function K(n,a={}){const l=await fetch(`${zc}${n}`,{...a,credentials:"include",headers:{"Content-Type":"application/json",...a.headers}});return ap(l)}async function o0(n,a={}){const l=await fetch(n,{...a,credentials:"include",headers:{"Content-Type":"application/json",...a.headers}});return ap(l)}const Ac={me:async()=>o0("/auth/me"),logout:async()=>o0("/auth/logout",{method:"POST"}),getLoginUrl:()=>"/auth/login"},$a={list:async()=>(await K("/agents")).agents??[],get:async n=>K(`/agents/${n}`),create:async n=>K("/agents",{method:"POST",body:JSON.stringify(n)}),delete:async n=>K(`/agents/${n}`,{method:"DELETE"}),rotateApiKey:async n=>K(`/agents/${n}/apikey/rotate`,{method:"POST"}),revokeApiKey:async n=>K(`/agents/${n}/apikey`,{method:"DELETE"})},Cs={list:async()=>(await K("/repositories")).repositories??[],get:async n=>K(`/repositories/${n}`),create:async n=>K("/repositories",{method:"POST",body:JSON.stringify(n)}),update:async(n,a)=>K(`/repositories/${n}`,{method:"PUT",body:JSON.stringify(a)}),delete:async n=>K(`/repositories/${n}`,{method:"DELETE"}),test:async n=>K(`/repositories/${n}/test`,{method:"POST"}),testConnection:async n=>K("/repositories/test-connection",{method:"POST",body:JSON.stringify(n)}),recoverKey:async n=>K(`/repositories/${n}/key/recover`)},Ua={list:async n=>{const a=n?`/schedules?agent_id=${n}`:"/schedules";return(await K(a)).schedules??[]},get:async n=>K(`/schedules/${n}`),create:async n=>K("/schedules",{method:"POST",body:JSON.stringify(n)}),update:async(n,a)=>K(`/schedules/${n}`,{method:"PUT",body:JSON.stringify(a)}),delete:async n=>K(`/schedules/${n}`,{method:"DELETE"}),run:async n=>K(`/schedules/${n}/run`,{method:"POST"}),getReplicationStatus:async n=>(await K(`/schedules/${n}/replication`)).replication_status??[]},Ig={list:async n=>{const a=new URLSearchParams;n!=null&&n.agent_id&&a.set("agent_id",n.agent_id),n!=null&&n.schedule_id&&a.set("schedule_id",n.schedule_id),n!=null&&n.status&&a.set("status",n.status);const l=a.toString(),c=l?`/backups?${l}`:"/backups";return(await K(c)).backups??[]},get:async n=>K(`/backups/${n}`)},ip={list:async n=>{const a=new URLSearchParams;n!=null&&n.agent_id&&a.set("agent_id",n.agent_id),n!=null&&n.repository_id&&a.set("repository_id",n.repository_id);const l=a.toString(),c=l?`/snapshots?${l}`:"/snapshots";return(await K(c)).snapshots??[]},get:async n=>K(`/snapshots/${n}`),listFiles:async(n,a)=>{const l=a?`/snapshots/${n}/files?path=${encodeURIComponent(a)}`:`/snapshots/${n}/files`;return K(l)}},lp={list:async n=>{const a=new URLSearchParams;n!=null&&n.agent_id&&a.set("agent_id",n.agent_id),n!=null&&n.status&&a.set("status",n.status);const l=a.toString(),c=l?`/restores?${l}`:"/restores";return(await K(c)).restores??[]},get:async n=>K(`/restores/${n}`),create:async n=>K("/restores",{method:"POST",body:JSON.stringify(n)})},pl={list:async()=>(await K("/alerts")).alerts??[],listActive:async()=>(await K("/alerts/active")).alerts??[],count:async()=>(await K("/alerts/count")).count,get:async n=>K(`/alerts/${n}`),acknowledge:async n=>K(`/alerts/${n}/actions/acknowledge`,{method:"POST"}),resolve:async n=>K(`/alerts/${n}/actions/resolve`,{method:"POST"})},Ot={list:async()=>(await K("/organizations")).organizations??[],get:async n=>K(`/organizations/${n}`),getCurrent:async()=>K("/organizations/current"),create:async n=>K("/organizations",{method:"POST",body:JSON.stringify(n)}),update:async(n,a)=>K(`/organizations/${n}`,{method:"PUT",body:JSON.stringify(a)}),delete:async n=>K(`/organizations/${n}`,{method:"DELETE"}),switch:async n=>K("/organizations/switch",{method:"POST",body:JSON.stringify(n)}),listMembers:async n=>(await K(`/organizations/${n}/members`)).members??[],updateMember:async(n,a,l)=>K(`/organizations/${n}/members/${a}`,{method:"PUT",body:JSON.stringify(l)}),removeMember:async(n,a)=>K(`/organizations/${n}/members/${a}`,{method:"DELETE"}),listInvitations:async n=>(await K(`/organizations/${n}/invitations`)).invitations??[],createInvitation:async(n,a)=>K(`/organizations/${n}/invitations`,{method:"POST",body:JSON.stringify(a)}),deleteInvitation:async(n,a)=>K(`/organizations/${n}/invitations/${a}`,{method:"DELETE"}),acceptInvitation:async n=>K("/invitations/accept",{method:"POST",body:JSON.stringify({token:n})})},rn={listChannels:async()=>(await K("/notifications/channels")).channels??[],getChannel:async n=>K(`/notifications/channels/${n}`),createChannel:async n=>K("/notifications/channels",{method:"POST",body:JSON.stringify(n)}),updateChannel:async(n,a)=>K(`/notifications/channels/${n}`,{method:"PUT",body:JSON.stringify(a)}),deleteChannel:async n=>K(`/notifications/channels/${n}`,{method:"DELETE"}),listPreferences:async()=>(await K("/notifications/preferences")).preferences??[],createPreference:async n=>K("/notifications/preferences",{method:"POST",body:JSON.stringify(n)}),updatePreference:async(n,a)=>K(`/notifications/preferences/${n}`,{method:"PUT",body:JSON.stringify(a)}),deletePreference:async n=>K(`/notifications/preferences/${n}`,{method:"DELETE"}),listLogs:async()=>(await K("/notifications/logs")).logs??[]},Jc={list:async n=>{const a=new URLSearchParams;n!=null&&n.action&&a.set("action",n.action),n!=null&&n.resource_type&&a.set("resource_type",n.resource_type),n!=null&&n.result&&a.set("result",n.result),n!=null&&n.start_date&&a.set("start_date",n.start_date),n!=null&&n.end_date&&a.set("end_date",n.end_date),n!=null&&n.search&&a.set("search",n.search),n!=null&&n.limit&&a.set("limit",n.limit.toString()),n!=null&&n.offset&&a.set("offset",n.offset.toString());const l=a.toString(),c=l?`/audit-logs?${l}`:"/audit-logs";return K(c)},get:async n=>K(`/audit-logs/${n}`),exportCsv:async n=>{const a=new URLSearchParams;n!=null&&n.action&&a.set("action",n.action),n!=null&&n.resource_type&&a.set("resource_type",n.resource_type),n!=null&&n.result&&a.set("result",n.result),n!=null&&n.start_date&&a.set("start_date",n.start_date),n!=null&&n.end_date&&a.set("end_date",n.end_date),n!=null&&n.search&&a.set("search",n.search);const l=a.toString(),c=l?`/audit-logs/export/csv?${l}`:"/audit-logs/export/csv",d=await fetch(`${zc}${c}`,{credentials:"include"});if(!d.ok)throw new ul(d.status,"Failed to export audit logs");return d.blob()},exportJson:async n=>{const a=new URLSearchParams;n!=null&&n.action&&a.set("action",n.action),n!=null&&n.resource_type&&a.set("resource_type",n.resource_type),n!=null&&n.result&&a.set("result",n.result),n!=null&&n.start_date&&a.set("start_date",n.start_date),n!=null&&n.end_date&&a.set("end_date",n.end_date),n!=null&&n.search&&a.set("search",n.search);const l=a.toString(),c=l?`/audit-logs/export/json?${l}`:"/audit-logs/export/json",d=await fetch(`${zc}${c}`,{credentials:"include"});if(!d.ok)throw new ul(d.status,"Failed to export audit logs");return d.blob()}},_s={getSummary:async()=>K("/stats/summary"),getGrowth:async(n=30)=>(await K(`/stats/growth?days=${n}`)).growth??[],listRepositoryStats:async()=>(await K("/stats/repositories")).stats??[],getRepositoryStats:async n=>K(`/stats/repositories/${n}`),getRepositoryGrowth:async(n,a=30)=>K(`/stats/repositories/${n}/growth?days=${a}`),getRepositoryHistory:async(n,a=30)=>K(`/stats/repositories/${n}/history?limit=${a}`)},op={listByRepository:async n=>(await K(`/repositories/${n}/verifications`)).verifications??[],get:async n=>K(`/verifications/${n}`),getStatus:async n=>K(`/repositories/${n}/verification-status`),trigger:async(n,a)=>K(`/repositories/${n}/verifications`,{method:"POST",body:JSON.stringify(a)}),listSchedules:async n=>(await K(`/repositories/${n}/verification-schedules`)).schedules??[],createSchedule:async(n,a)=>K(`/repositories/${n}/verification-schedules`,{method:"POST",body:JSON.stringify(a)}),getSchedule:async n=>K(`/verification-schedules/${n}`),updateSchedule:async(n,a)=>K(`/verification-schedules/${n}`,{method:"PUT",body:JSON.stringify(a)}),deleteSchedule:async n=>K(`/verification-schedules/${n}`,{method:"DELETE"})},nn={list:async()=>(await K("/dr-runbooks")).runbooks??[],get:async n=>K(`/dr-runbooks/${n}`),create:async n=>K("/dr-runbooks",{method:"POST",body:JSON.stringify(n)}),update:async(n,a)=>K(`/dr-runbooks/${n}`,{method:"PUT",body:JSON.stringify(a)}),delete:async n=>K(`/dr-runbooks/${n}`,{method:"DELETE"}),activate:async n=>K(`/dr-runbooks/${n}/activate`,{method:"POST"}),archive:async n=>K(`/dr-runbooks/${n}/archive`,{method:"POST"}),render:async n=>K(`/dr-runbooks/${n}/render`),generateFromSchedule:async n=>K(`/dr-runbooks/${n}/generate`,{method:"POST"}),getStatus:async()=>K("/dr-runbooks/status"),listTestSchedules:async n=>(await K(`/dr-runbooks/${n}/test-schedules`)).schedules??[],createTestSchedule:async(n,a)=>K(`/dr-runbooks/${n}/test-schedules`,{method:"POST",body:JSON.stringify(a)})},cp={list:async n=>{const a=new URLSearchParams;n!=null&&n.runbook_id&&a.set("runbook_id",n.runbook_id),n!=null&&n.status&&a.set("status",n.status);const l=a.toString(),c=l?`/dr-tests?${l}`:"/dr-tests";return(await K(c)).tests??[]},get:async n=>K(`/dr-tests/${n}`),run:async n=>K("/dr-tests",{method:"POST",body:JSON.stringify(n)}),cancel:async(n,a)=>K(`/dr-tests/${n}/cancel`,{method:"POST",body:JSON.stringify({notes:a})})};function $g(){return _e({queryKey:["alerts"],queryFn:pl.list,staleTime:30*1e3})}function Ug(){return _e({queryKey:["alerts","count"],queryFn:pl.count,staleTime:10*1e3,refetchInterval:60*1e3})}function Bg(){const n=ge();return pe({mutationFn:a=>pl.acknowledge(a),onSuccess:()=>{n.invalidateQueries({queryKey:["alerts"]})}})}function Kg(){const n=ge();return pe({mutationFn:a=>pl.resolve(a),onSuccess:()=>{n.invalidateQueries({queryKey:["alerts"]})}})}function Es(){return _e({queryKey:["auth","me"],queryFn:Ac.me,retry:!1,staleTime:300*1e3})}function qg(){const n=ge();return pe({mutationFn:Ac.logout,onSuccess:()=>{n.clear(),window.location.href=Ac.getLoginUrl()}})}function Qg(){return _e({queryKey:["organizations"],queryFn:Ot.list})}function up(){return _e({queryKey:["organizations","current"],queryFn:Ot.getCurrent,retry:!1})}function Wg(){const n=ge();return pe({mutationFn:a=>Ot.create(a),onSuccess:()=>{n.invalidateQueries({queryKey:["organizations"]}),n.invalidateQueries({queryKey:["auth","me"]})}})}function Hg(){const n=ge();return pe({mutationFn:({id:a,data:l})=>Ot.update(a,l),onSuccess:(a,{id:l})=>{n.invalidateQueries({queryKey:["organizations"]}),n.invalidateQueries({queryKey:["organizations",l]}),n.invalidateQueries({queryKey:["organizations","current"]})}})}function Vg(){const n=ge();return pe({mutationFn:a=>Ot.delete(a),onSuccess:()=>{n.invalidateQueries({queryKey:["organizations"]}),n.invalidateQueries({queryKey:["auth","me"]})}})}function Gg(){const n=ge();return pe({mutationFn:a=>Ot.switch({org_id:a}),onSuccess:()=>{n.invalidateQueries({queryKey:["organizations","current"]}),n.invalidateQueries({queryKey:["auth","me"]}),n.invalidateQueries({queryKey:["agents"]}),n.invalidateQueries({queryKey:["repositories"]}),n.invalidateQueries({queryKey:["schedules"]}),n.invalidateQueries({queryKey:["backups"]})}})}function Jg(n){return _e({queryKey:["organizations",n,"members"],queryFn:()=>Ot.listMembers(n),enabled:!!n})}function Yg(){const n=ge();return pe({mutationFn:({orgId:a,userId:l,role:c})=>Ot.updateMember(a,l,{role:c}),onSuccess:(a,{orgId:l})=>{n.invalidateQueries({queryKey:["organizations",l,"members"]})}})}function Xg(){const n=ge();return pe({mutationFn:({orgId:a,userId:l})=>Ot.removeMember(a,l),onSuccess:(a,{orgId:l})=>{n.invalidateQueries({queryKey:["organizations",l,"members"]})}})}function Zg(n){return _e({queryKey:["organizations",n,"invitations"],queryFn:()=>Ot.listInvitations(n),enabled:!!n})}function ey(){const n=ge();return pe({mutationFn:({orgId:a,data:l})=>Ot.createInvitation(a,l),onSuccess:(a,{orgId:l})=>{n.invalidateQueries({queryKey:["organizations",l,"invitations"]})}})}function ty(){const n=ge();return pe({mutationFn:({orgId:a,invitationId:l})=>Ot.deleteInvitation(a,l),onSuccess:(a,{orgId:l})=>{n.invalidateQueries({queryKey:["organizations",l,"invitations"]})}})}const ry=[{path:"/",label:"Dashboard",icon:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{path:"/agents",label:"Agents",icon:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})},{path:"/repositories",label:"Repositories",icon:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})},{path:"/schedules",label:"Schedules",icon:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{path:"/backups",label:"Backups",icon:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})},{path:"/dr-runbooks",label:"DR Runbooks",icon:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{path:"/restore",label:"Restore",icon:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},{path:"/alerts",label:"Alerts",icon:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})},{path:"/notifications",label:"Notifications",icon:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})},{path:"/audit-logs",label:"Audit Logs",icon:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{path:"/stats",label:"Storage Stats",icon:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}];function ny(){const n=tn(),{data:a}=Es(),l=(a==null?void 0:a.current_org_role)==="owner"||(a==null?void 0:a.current_org_role)==="admin";return r.jsxs("aside",{className:"w-64 bg-gray-900 text-white flex flex-col",children:[r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Keldris"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Keeper of your data"})]}),r.jsxs("nav",{className:"flex-1 px-4",children:[r.jsx("ul",{className:"space-y-1",children:ry.map(c=>{const d=n.pathname===c.path||c.path!=="/"&&n.pathname.startsWith(c.path);return r.jsx("li",{children:r.jsxs(zt,{to:c.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${d?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[c.icon,r.jsx("span",{children:c.label})]})},c.path)})}),l&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mt-6 mb-2 px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Organization"}),r.jsxs("ul",{className:"space-y-1",children:[r.jsx("li",{children:r.jsxs(zt,{to:"/organization/members",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${n.pathname==="/organization/members"?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),r.jsx("span",{children:"Members"})]})}),r.jsx("li",{children:r.jsxs(zt,{to:"/organization/settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${n.pathname==="/organization/settings"?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[r.jsxs("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.jsx("span",{children:"Settings"})]})})]})]})]}),r.jsx("div",{className:"p-4 border-t border-gray-800",children:r.jsx("p",{className:"text-xs text-gray-500",children:"v0.0.1"})})]})}function sy(){const[n,a]=y.useState(!1),{data:l,isLoading:c}=Qg(),{data:d}=Es(),h=Gg(),m=l==null?void 0:l.find(f=>f.id===(d==null?void 0:d.current_org_id)),x=f=>{f!==(d==null?void 0:d.current_org_id)&&h.mutate(f),a(!1)};return c||!(l!=null&&l.length)?null:r.jsxs("div",{className:"relative",children:[r.jsxs("button",{type:"button",onClick:()=>a(!n),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),r.jsx("span",{className:"max-w-32 truncate",children:(m==null?void 0:m.name)??"Select org"}),r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&r.jsxs("div",{className:"absolute left-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[r.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase",children:"Organizations"}),l.map(f=>r.jsxs("button",{type:"button",onClick:()=>x(f.id),className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center justify-between ${f.id===(d==null?void 0:d.current_org_id)?"bg-indigo-50 text-indigo-700":"text-gray-700"}`,children:[r.jsx("span",{className:"truncate",children:f.name}),r.jsx("span",{className:"text-xs text-gray-400 capitalize",children:f.role})]},f.id)),r.jsx("div",{className:"border-t border-gray-100 mt-1 pt-1",children:r.jsxs(zt,{to:"/organization/new",onClick:()=>a(!1),className:"w-full text-left px-3 py-2 text-sm text-indigo-600 hover:bg-gray-100 flex items-center gap-2",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create organization"]})})]})]})}function ay(){var m,x;const[n,a]=y.useState(!1),{data:l}=Es(),{data:c}=Ug(),d=qg(),h=((m=l==null?void 0:l.name)==null?void 0:m.charAt(0).toUpperCase())??((x=l==null?void 0:l.email)==null?void 0:x.charAt(0).toUpperCase())??"U";return r.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsx(sy,{})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(zt,{to:"/alerts","aria-label":"Alerts",className:"relative p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),c!==void 0&&c>0&&r.jsx("span",{className:"absolute -top-0.5 -right-0.5 flex h-5 min-w-5 items-center justify-center rounded-full bg-red-500 px-1.5 text-xs font-medium text-white",children:c>99?"99+":c})]}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{type:"button",onClick:()=>a(!n),className:"flex items-center gap-2",children:r.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:h})}),n&&r.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[l&&r.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:l.name}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:l.email})]}),r.jsx("button",{type:"button",onClick:()=>d.mutate(),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign out"})]})]})]})]})}function c0(){return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})})}function iy(){const{isLoading:n,isError:a}=Es();return n?r.jsx(c0,{}):a?r.jsx(c0,{}):r.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[r.jsx(ny,{}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsx(ay,{}),r.jsx("main",{className:"flex-1 p-6",children:r.jsx(ng,{})})]})]})}const hc={baseUrl:"https://releases.keldris.io/agent",version:"latest",platforms:[{os:"Linux",arch:"x86_64",filename:"keldris-agent-linux-amd64",icon:"linux"},{os:"Linux",arch:"ARM64",filename:"keldris-agent-linux-arm64",icon:"linux"},{os:"macOS",arch:"Intel",filename:"keldris-agent-darwin-amd64",icon:"apple"},{os:"macOS",arch:"Apple Silicon",filename:"keldris-agent-darwin-arm64",icon:"apple"},{os:"Windows",arch:"x86_64",filename:"keldris-agent-windows-amd64.exe",icon:"windows"}]},u0={linux:"curl -sSL https://releases.keldris.io/install-linux.sh | sudo bash",macos:"curl -sSL https://releases.keldris.io/install-macos.sh | bash",windows:"irm https://releases.keldris.io/install-windows.ps1 | iex"};function d0({platform:n}){switch(n){case"linux":return r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12.504 0c-.155 0-.315.008-.48.021-4.226.333-3.105 4.807-3.17 6.298-.076 1.092-.3 1.953-1.05 3.02-.885 1.051-2.127 2.75-2.716 4.521-.278.832-.41 1.684-.287 2.489a.424.424 0 00-.11.135c-.26.268-.45.6-.663.839-.199.199-.485.267-.797.4-.313.136-.658.269-.864.68-.09.189-.136.394-.132.602 0 .199.027.4.055.536.058.399.116.728.04.97-.249.68-.28 1.145-.106 1.484.174.334.535.47.94.601.81.2 1.91.135 2.774.6.926.466 1.866.67 2.616.47.526-.116.97-.464 1.208-.946.587-.003 1.23-.269 2.26-.334.699-.058 1.574.267 2.577.2.025.134.063.198.114.333l.003.003c.391.778 1.113 1.132 1.884 1.071.771-.06 1.592-.536 2.257-1.306.631-.765 1.683-1.084 2.378-1.503.348-.199.629-.469.649-.853.023-.4-.2-.811-.714-1.376v-.097l-.003-.003c-.17-.2-.25-.535-.338-.926-.085-.401-.182-.786-.492-1.046h-.003c-.059-.054-.123-.067-.188-.135a.357.357 0 00-.19-.064c.431-1.278.264-2.55-.173-3.694-.533-1.41-1.465-2.638-2.175-3.483-.796-1.005-1.576-1.957-1.56-3.368.026-2.152.236-6.133-3.544-6.139zm.529 3.405h.013c.213 0 .396.062.584.198.19.135.33.332.438.533.105.259.158.459.166.724 0-.02.006-.04.006-.06v.105a.086.086 0 01-.004-.021l-.004-.024a1.807 1.807 0 01-.15.706.953.953 0 01-.213.335.71.71 0 00-.088-.042c-.104-.045-.198-.064-.284-.133a1.312 1.312 0 00-.22-.066c.05-.06.146-.133.183-.198.053-.128.082-.264.088-.402v-.02a1.21 1.21 0 00-.061-.4c-.045-.134-.101-.2-.183-.333-.084-.066-.167-.132-.267-.132h-.016c-.093 0-.176.03-.262.132a.8.8 0 00-.205.334 1.18 1.18 0 00-.09.4v.019c.002.089.008.179.02.267-.193-.067-.438-.135-.607-.202a1.635 1.635 0 01-.018-.2v-.02a1.772 1.772 0 01.15-.768c.082-.22.232-.406.43-.533a.985.985 0 01.594-.2zm-2.962.059h.036c.142 0 .27.048.399.135.146.129.264.288.344.465.09.199.14.4.153.667v.004c.007.134.006.2-.002.266v.08c-.03.007-.056.018-.083.024-.152.055-.274.135-.393.2.012-.09.013-.18.003-.267v-.015c-.012-.133-.04-.2-.082-.333a.613.613 0 00-.166-.267.248.248 0 00-.183-.064h-.021c-.071.006-.13.04-.186.132a.552.552 0 00-.12.27.944.944 0 00-.023.33v.015c.012.135.037.2.08.334.046.134.098.2.166.268.01.009.02.018.034.024-.07.057-.117.07-.176.136a.304.304 0 01-.131.068 2.62 2.62 0 01-.275-.402 1.772 1.772 0 01-.155-.667 1.759 1.759 0 01.08-.668 1.43 1.43 0 01.283-.535c.128-.133.26-.2.418-.2zm1.37 1.706c.332 0 .733.065 1.216.399.293.2.523.269 1.052.468h.003c.255.136.405.266.478.399v-.131a.571.571 0 01.016.47c-.123.31-.516.643-1.063.842v.002c-.268.135-.501.333-.775.465-.276.135-.588.292-1.012.267a1.139 1.139 0 01-.448-.067 3.566 3.566 0 01-.322-.198c-.195-.135-.363-.332-.612-.465v-.005h-.005c-.4-.246-.616-.512-.686-.71-.07-.268-.005-.47.193-.6.224-.135.38-.271.483-.336.104-.074.143-.102.176-.131h.002v-.003c.169-.202.436-.47.839-.601.139-.036.294-.065.466-.065zm2.8 2.142c.358 1.417 1.196 3.475 1.735 4.473.286.534.855 1.659 1.102 3.024.156-.005.33.018.513.064.646-1.671-.546-3.467-1.089-3.966-.22-.2-.232-.335-.123-.335.59.534 1.365 1.572 1.646 2.757.13.535.16 1.104.021 1.67.067.028.135.06.205.067 1.032.534 1.413.938 1.23 1.537v-.043c-.06-.003-.12 0-.18 0h-.016c.151-.467-.182-.825-1.065-1.224-.915-.4-1.646-.336-1.77.465-.008.043-.013.066-.018.135-.068.023-.139.053-.209.064-.43.268-.662.669-.793 1.187-.13.533-.17 1.156-.205 1.869v.003c-.02.334-.17.838-.319 1.35-1.5 1.072-3.58 1.538-5.348.334a2.645 2.645 0 00-.402-.533 1.45 1.45 0 00-.275-.333c.182 0 .338-.03.465-.067a.615.615 0 00.314-.334c.108-.267 0-.697-.345-1.163-.345-.467-.931-.995-1.788-1.521-.63-.4-.986-.87-1.15-1.396-.165-.534-.143-1.085-.015-1.645.245-1.07.873-2.11 1.274-2.763.107-.065.037.135-.408.974-.396.751-1.14 2.497-.122 3.854a8.123 8.123 0 01.647-2.876c.564-1.278 1.743-3.504 1.836-5.268.048.036.217.135.289.202.218.133.38.333.59.465.21.201.477.335.876.335.039.003.075.006.11.006.412 0 .73-.134.997-.268.29-.134.52-.334.74-.4h.005c.467-.135.835-.402 1.044-.7zm2.185 8.958c.037.6.343 1.245.882 1.377.588.134 1.434-.333 1.791-.765l.211-.01c.315-.007.577.01.847.268l.003.003c.208.199.305.53.391.876.085.4.154.78.409 1.066.486.527.645.906.636 1.14l.003-.007v.018l-.003-.012c-.015.262-.185.396-.498.595-.63.401-1.746.712-2.457 1.57-.618.737-1.37 1.14-2.036 1.191-.664.053-1.237-.2-1.574-.898l-.005-.003c-.21-.4-.12-1.025.056-1.69.176-.668.428-1.344.463-1.897.037-.714.076-1.335.195-1.814.117-.468.32-.753.644-.93zm-9.1.422c.018.135.035.27.055.4.15.867.618 1.534 1.144 2.063.608.564 1.337 1.026 2.106 1.46.91.533 1.38.995 1.637 1.396.26.402.326.733.276 1.067-.023.066-.047.133-.082.2-.273.067-.588.135-.929.135-.693 0-1.455-.201-2.16-.733-.545-.4-1.194-.602-1.907-.668-.357-.033-.728-.066-1.075-.2-.345-.133-.655-.334-.858-.667-.146-.245-.193-.533-.078-.87.113-.333.373-.676.68-.998.155-.133.258-.267.373-.4.113-.134.14-.268.173-.467z"})});case"apple":return r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701z"})});case"windows":return r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M0 3.449L9.75 2.1v9.451H0m10.949-9.602L24 0v11.4H10.949M0 12.6h9.75v9.451L0 20.699M10.949 12.6H24V24l-12.9-1.801"})});default:return null}}function ly({text:n,className:a}){const[l,c]=y.useState(!1),d=async()=>{await navigator.clipboard.writeText(n),c(!0),setTimeout(()=>c(!1),2e3)};return r.jsx("button",{type:"button",onClick:d,className:`p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded transition-colors ${a}`,title:l?"Copied!":"Copy to clipboard",children:l?r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})}function oy({showInstallCommands:n=!0}){const[a,l]=y.useState("linux"),c=[{key:"linux",label:"Linux",icon:"linux"},{key:"macos",label:"macOS",icon:"apple"},{key:"windows",label:"Windows",icon:"windows"}],d=m=>`${hc.baseUrl}/${hc.version}/${m}`,h=hc.platforms.filter(m=>a==="linux"?m.os==="Linux":a==="macos"?m.os==="macOS":a==="windows"?m.os==="Windows":!1);return r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Download Agent"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Install the Keldris agent on your systems to enable backups"})]}),r.jsx("div",{className:"flex border-b border-gray-200",children:c.map(m=>r.jsxs("button",{type:"button",onClick:()=>l(m.key),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${a===m.key?"text-indigo-600 border-b-2 border-indigo-600 -mb-px":"text-gray-500 hover:text-gray-700"}`,children:[r.jsx(d0,{platform:m.icon}),m.label]},m.key))}),r.jsxs("div",{className:"p-4 space-y-4",children:[n&&r.jsxs("div",{children:[r.jsx("span",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Install"}),r.jsxs("div",{className:"flex items-center gap-2 bg-gray-900 rounded-lg p-3",children:[r.jsx("code",{className:"text-sm text-green-400 font-mono flex-1 overflow-x-auto whitespace-nowrap",children:u0[a]}),r.jsx(ly,{text:u0[a],className:"text-gray-400 hover:text-gray-200 hover:bg-gray-700"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a==="windows"?"Run in PowerShell as Administrator":a==="linux"?"Requires sudo for installation":"Downloads and installs automatically"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direct Download"}),r.jsx("div",{className:"space-y-2",children:h.map(m=>r.jsxs("a",{href:d(m.filename),className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors group",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(d0,{platform:m.icon}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[m.os," (",m.arch,")"]}),r.jsx("div",{className:"text-sm text-gray-500",children:m.filename})]})]}),r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5 text-gray-400 group-hover:text-indigo-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})]},m.filename))})]}),r.jsx("div",{className:"pt-2 border-t border-gray-200",children:r.jsx("a",{href:"/docs/agent-installation",className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:"View full installation guide"})})]})]})}function Rs(){return _e({queryKey:["agents"],queryFn:$a.list,staleTime:30*1e3})}function cy(){const n=ge();return pe({mutationFn:a=>$a.create(a),onSuccess:()=>{n.invalidateQueries({queryKey:["agents"]})}})}function uy(){const n=ge();return pe({mutationFn:a=>$a.delete(a),onSuccess:()=>{n.invalidateQueries({queryKey:["agents"]})}})}function dy(){const n=ge();return pe({mutationFn:a=>$a.rotateApiKey(a),onSuccess:()=>{n.invalidateQueries({queryKey:["agents"]})}})}function hy(){const n=ge();return pe({mutationFn:a=>$a.revokeApiKey(a),onSuccess:()=>{n.invalidateQueries({queryKey:["agents"]})}})}function h0(n){if(!n)return"Never";const a=new Date(n),l=new Date,c=a.getTime()-l.getTime(),d=c>0,h=Math.abs(c),m=Math.floor(h/1e3),x=Math.floor(m/60),f=Math.floor(x/60),w=Math.floor(f/24);return m<60?d?"In a moment":"Just now":x<60?d?`In ${x}m`:`${x}m ago`:f<24?d?`In ${f}h`:`${f}h ago`:w<7?d?`In ${w}d`:`${w}d ago`:a.toLocaleDateString("en-US",{month:"short",day:"numeric",year:a.getFullYear()!==l.getFullYear()?"numeric":void 0})}function nt(n){if(!n)return"Never";const a=new Date(n),l=new Date,c=l.getTime()-a.getTime(),d=Math.floor(c/1e3),h=Math.floor(d/60),m=Math.floor(h/60),x=Math.floor(m/24);return d<60?"Just now":h<60?`${h}m ago`:m<24?`${m}h ago`:x<7?`${x}d ago`:a.toLocaleDateString("en-US",{month:"short",day:"numeric",year:a.getFullYear()!==l.getFullYear()?"numeric":void 0})}function nr(n){return n?new Date(n).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}):"N/A"}function Te(n){if(n==null)return"N/A";if(n===0)return"0 B";const a=["B","KB","MB","GB","TB"],l=1024,c=Math.floor(Math.log(n)/Math.log(l));return`${(n/l**c).toFixed(c>0?1:0)} ${a[c]}`}function py(n,a){if(!a)return"In progress";const l=new Date(n),d=new Date(a).getTime()-l.getTime(),h=Math.floor(d/1e3),m=Math.floor(h/60),x=Math.floor(m/60);return h<60?`${h}s`:m<60?`${m}m ${h%60}s`:`${x}h ${m%60}m`}function dp(n){return n?n.substring(0,8):"N/A"}function my(n){switch(n){case"active":return{bg:"bg-green-100",text:"text-green-800",dot:"bg-green-500"};case"offline":return{bg:"bg-red-100",text:"text-red-800",dot:"bg-red-500"};case"pending":return{bg:"bg-yellow-100",text:"text-yellow-800",dot:"bg-yellow-500"};case"disabled":return{bg:"bg-gray-100",text:"text-gray-600",dot:"bg-gray-400"};default:return{bg:"bg-gray-100",text:"text-gray-600",dot:"bg-gray-400"}}}function Yc(n){switch(n){case"completed":return{bg:"bg-green-100",text:"text-green-800",dot:"bg-green-500"};case"running":return{bg:"bg-blue-100",text:"text-blue-800",dot:"bg-blue-500"};case"failed":return{bg:"bg-red-100",text:"text-red-800",dot:"bg-red-500"};case"canceled":return{bg:"bg-gray-100",text:"text-gray-600",dot:"bg-gray-400"};default:return{bg:"bg-gray-100",text:"text-gray-600",dot:"bg-gray-400"}}}function fy(n){switch(n){case"local":return{label:"Local",className:"bg-gray-100 text-gray-800"};case"s3":return{label:"S3",className:"bg-orange-100 text-orange-800"};case"b2":return{label:"B2",className:"bg-blue-100 text-blue-800"};case"sftp":return{label:"SFTP",className:"bg-purple-100 text-purple-800"};case"rest":return{label:"REST",className:"bg-indigo-100 text-indigo-800"};case"dropbox":return{label:"Dropbox",className:"bg-sky-100 text-sky-800"};default:return{label:n,className:"bg-gray-100 text-gray-800"}}}function xy(n){switch(n){case"critical":return{bg:"bg-red-50",text:"text-red-800",border:"border-red-200",icon:"text-red-500"};case"warning":return{bg:"bg-yellow-50",text:"text-yellow-800",border:"border-yellow-200",icon:"text-yellow-500"};case"info":return{bg:"bg-blue-50",text:"text-blue-800",border:"border-blue-200",icon:"text-blue-500"};default:return{bg:"bg-gray-50",text:"text-gray-800",border:"border-gray-200",icon:"text-gray-500"}}}function gy(n){switch(n){case"active":return{bg:"bg-red-100",text:"text-red-800",dot:"bg-red-500"};case"acknowledged":return{bg:"bg-yellow-100",text:"text-yellow-800",dot:"bg-yellow-500"};case"resolved":return{bg:"bg-green-100",text:"text-green-800",dot:"bg-green-500"};default:return{bg:"bg-gray-100",text:"text-gray-600",dot:"bg-gray-400"}}}function yy(n){switch(n){case"agent_offline":return"Agent Offline";case"backup_sla":return"Backup SLA";case"storage_usage":return"Storage Usage";default:return n}}function vy(n){switch(n){case"create":return{bg:"bg-green-100",text:"text-green-800"};case"update":return{bg:"bg-blue-100",text:"text-blue-800"};case"delete":return{bg:"bg-red-100",text:"text-red-800"};case"read":return{bg:"bg-gray-100",text:"text-gray-800"};case"login":return{bg:"bg-indigo-100",text:"text-indigo-800"};case"logout":return{bg:"bg-purple-100",text:"text-purple-800"};case"backup":return{bg:"bg-cyan-100",text:"text-cyan-800"};case"restore":return{bg:"bg-orange-100",text:"text-orange-800"};default:return{bg:"bg-gray-100",text:"text-gray-600"}}}function jy(n){switch(n){case"success":return{bg:"bg-green-100",text:"text-green-800",dot:"bg-green-500"};case"failure":return{bg:"bg-red-100",text:"text-red-800",dot:"bg-red-500"};case"denied":return{bg:"bg-yellow-100",text:"text-yellow-800",dot:"bg-yellow-500"};default:return{bg:"bg-gray-100",text:"text-gray-600",dot:"bg-gray-400"}}}function wy(n){return n.charAt(0).toUpperCase()+n.slice(1)}function by(n){return n.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}function Ra(n){return n==null||n===0?"N/A":`${n.toFixed(1)}x`}function us(n){return n==null?"N/A":`${n.toFixed(1)}%`}function La(n){return n>=3?"text-green-600":n>=2?"text-blue-600":n>=1.5?"text-yellow-600":"text-gray-600"}function Pa(n){return n>=70?"text-green-600":n>=50?"text-blue-600":n>=30?"text-yellow-600":"text-gray-600"}function hp(n){return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"})}function pc(){return r.jsxs("tr",{className:"animate-pulse",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded-full"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded inline-block"})})]})}function Ny({isOpen:n,onClose:a,onSuccess:l}){const[c,d]=y.useState(""),h=cy(),m=async x=>{x.preventDefault();try{const f=await h.mutateAsync({hostname:c});l(f.api_key),d("")}catch{}};return n?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Register New Agent"}),r.jsxs("form",{onSubmit:m,children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"hostname",className:"block text-sm font-medium text-gray-700 mb-1",children:"Hostname"}),r.jsx("input",{type:"text",id:"hostname",value:c,onChange:x=>d(x.target.value),placeholder:"e.g., server-01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),h.isError&&r.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Failed to create agent. Please try again."}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:h.isPending,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:h.isPending?"Creating...":"Register"})]})]})]})}):null}function ky({apiKey:n,onClose:a}){const[l,c]=y.useState(!1),d=async()=>{await navigator.clipboard.writeText(n),c(!0),setTimeout(()=>c(!1),2e3)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:r.jsx("svg",{"aria-hidden":"true",className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Agent Registered Successfully"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Save this API key now. You won't be able to see it again!"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("code",{className:"text-sm font-mono text-gray-800 break-all",children:n}),r.jsx("button",{type:"button",onClick:d,className:"flex-shrink-0 p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded transition-colors",children:l?r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[r.jsx("p",{className:"text-sm text-yellow-800",children:"Use this key to configure your agent:"}),r.jsxs("code",{className:"text-xs text-yellow-700 block mt-2",children:["keldris-agent config --api-key ",n.substring(0,20),"..."]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Done"})})]})})}function Sy({agent:n,onDelete:a,onRotateKey:l,onRevokeKey:c,isDeleting:d,isRotating:h,isRevoking:m}){const[x,f]=y.useState(!1),w=my(n.status);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:n.hostname}),n.os_info&&r.jsxs("div",{className:"text-sm text-gray-500",children:[n.os_info.os," ",n.os_info.arch]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${w.bg} ${w.text}`,children:[r.jsx("span",{className:`w-1.5 h-1.5 ${w.dot} rounded-full`}),n.status]})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:nt(n.last_seen)}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:nt(n.created_at)}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"relative inline-block text-left",children:[r.jsxs("button",{type:"button",onClick:()=>f(!x),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:["Actions",r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1),onKeyDown:b=>b.key==="Escape"&&f(!1)}),r.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1",children:[r.jsx("button",{type:"button",onClick:()=>{l(n.id),f(!1)},disabled:h,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:h?"Rotating...":"Rotate API Key"}),r.jsx("button",{type:"button",onClick:()=>{c(n.id),f(!1)},disabled:m||n.status==="pending",className:"w-full text-left px-4 py-2 text-sm text-yellow-700 hover:bg-yellow-50 disabled:opacity-50",children:m?"Revoking...":"Revoke API Key"}),r.jsx("div",{className:"border-t border-gray-100 my-1"}),r.jsx("button",{type:"button",onClick:()=>{a(n.id),f(!1)},disabled:d,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 disabled:opacity-50",children:d?"Deleting...":"Delete Agent"})]})]})]})})]})}function Cy(){const[n,a]=y.useState(""),[l,c]=y.useState("all"),[d,h]=y.useState(!1),[m,x]=y.useState(null),{data:f,isLoading:w,isError:b}=Rs(),g=uy(),j=dy(),_=hy(),P=f==null?void 0:f.filter(E=>{const z=E.hostname.toLowerCase().includes(n.toLowerCase()),Q=l==="all"||E.status===l;return z&&Q}),k=E=>{h(!1),x(E)},L=E=>{confirm("Are you sure you want to delete this agent?")&&g.mutate(E)},O=async E=>{if(confirm("Are you sure you want to rotate this API key? The old key will be invalidated immediately."))try{const z=await j.mutateAsync(E);x(z.api_key)}catch{}},A=E=>{confirm("Are you sure you want to revoke this API key? The agent will no longer be able to authenticate.")&&_.mutate(E)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agents"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage backup agents across your infrastructure"})]}),r.jsxs("button",{type:"button",onClick:()=>h(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Register Agent"]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("input",{type:"text",placeholder:"Search agents...",value:n,onChange:E=>a(E.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsxs("select",{value:l,onChange:E=>c(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"offline",children:"Offline"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"disabled",children:"Disabled"})]})]})}),b?r.jsxs("div",{className:"p-12 text-center text-red-500",children:[r.jsx("p",{className:"font-medium",children:"Failed to load agents"}),r.jsx("p",{className:"text-sm",children:"Please try refreshing the page"})]}):w?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hostname"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Seen"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registered"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r.jsx(pc,{}),r.jsx(pc,{}),r.jsx(pc,{})]})]}):P&&P.length>0?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hostname"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Seen"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registered"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:P.map(E=>r.jsx(Sy,{agent:E,onDelete:L,onRotateKey:O,onRevokeKey:A,isDeleting:g.isPending,isRotating:j.isPending,isRevoking:_.isPending},E.id))})]}):r.jsxs("div",{className:"p-8 text-center text-gray-500",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No agents registered"}),r.jsx("p",{className:"mb-6",children:"Install and register an agent to start backing up your systems"})]})]}),r.jsx(Ny,{isOpen:d,onClose:()=>h(!1),onSuccess:k}),m&&r.jsx(ky,{apiKey:m,onClose:()=>x(null)}),r.jsx(oy,{showInstallCommands:!0})]})}function mc(){return r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 animate-pulse",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-5 w-3/4 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded mb-3"}),r.jsx("div",{className:"h-3 w-1/4 bg-gray-200 rounded"})]})]})})}function _y({alert:n,onAcknowledge:a,onResolve:l,isProcessing:c}){const d=xy(n.severity),h=gy(n.status);return r.jsx("div",{className:`bg-white rounded-lg border ${d.border} p-4 hover:shadow-sm transition-shadow`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`flex-shrink-0 w-10 h-10 ${d.bg} rounded-full flex items-center justify-center`,children:n.severity==="critical"?r.jsx("svg",{"aria-hidden":"true",className:`w-5 h-5 ${d.icon}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):n.severity==="warning"?r.jsx("svg",{"aria-hidden":"true",className:`w-5 h-5 ${d.icon}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):r.jsx("svg",{"aria-hidden":"true",className:`w-5 h-5 ${d.icon}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-medium text-gray-900 truncate",children:n.title}),r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${h.bg} ${h.text}`,children:[r.jsx("span",{className:`w-1.5 h-1.5 ${h.dot} rounded-full`}),n.status]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:n.message}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),yy(n.type)]}),r.jsx("span",{title:nr(n.created_at),children:nt(n.created_at)}),n.acknowledged_at&&r.jsxs("span",{title:`Acknowledged: ${nr(n.acknowledged_at)}`,children:["Ack'd ",nt(n.acknowledged_at)]}),n.resolved_at&&r.jsxs("span",{title:`Resolved: ${nr(n.resolved_at)}`,children:["Resolved ",nt(n.resolved_at)]})]})]}),n.status!=="resolved"&&r.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[n.status==="active"&&r.jsx("button",{type:"button",onClick:()=>a(n.id),disabled:c,className:"px-3 py-1.5 text-sm font-medium text-yellow-700 bg-yellow-100 rounded-lg hover:bg-yellow-200 transition-colors disabled:opacity-50",children:"Acknowledge"}),r.jsx("button",{type:"button",onClick:()=>l(n.id),disabled:c,className:"px-3 py-1.5 text-sm font-medium text-green-700 bg-green-100 rounded-lg hover:bg-green-200 transition-colors disabled:opacity-50",children:"Resolve"})]})]})})}function Ey(){const[n,a]=y.useState("all"),[l,c]=y.useState("all"),{data:d,isLoading:h,isError:m}=$g(),x=Bg(),f=Kg(),w=d==null?void 0:d.filter(k=>{const L=n==="all"||k.status===n,O=l==="all"||k.severity===l;return L&&O}),b=(d==null?void 0:d.filter(k=>k.status==="active").length)??0,g=(d==null?void 0:d.filter(k=>k.status==="acknowledged").length)??0,j=(d==null?void 0:d.filter(k=>k.status==="resolved").length)??0,_=k=>{x.mutate(k)},P=k=>{f.mutate(k)};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Alerts"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor and manage system alerts"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("button",{type:"button",onClick:()=>a(n==="active"?"all":"active"),className:`p-4 rounded-lg border transition-colors ${n==="active"?"bg-red-50 border-red-200":"bg-white border-gray-200 hover:bg-gray-50"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b}),r.jsx("div",{className:"text-sm text-gray-500",children:"Active"})]})]})}),r.jsx("button",{type:"button",onClick:()=>a(n==="acknowledged"?"all":"acknowledged"),className:`p-4 rounded-lg border transition-colors ${n==="acknowledged"?"bg-yellow-50 border-yellow-200":"bg-white border-gray-200 hover:bg-gray-50"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:r.jsxs("svg",{"aria-hidden":"true",className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g}),r.jsx("div",{className:"text-sm text-gray-500",children:"Acknowledged"})]})]})}),r.jsx("button",{type:"button",onClick:()=>a(n==="resolved"?"all":"resolved"),className:`p-4 rounded-lg border transition-colors ${n==="resolved"?"bg-green-50 border-green-200":"bg-white border-gray-200 hover:bg-gray-50"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:j}),r.jsx("div",{className:"text-sm text-gray-500",children:"Resolved"})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("select",{value:n,onChange:k=>a(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"acknowledged",children:"Acknowledged"}),r.jsx("option",{value:"resolved",children:"Resolved"})]}),r.jsxs("select",{value:l,onChange:k=>c(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Severity"}),r.jsx("option",{value:"critical",children:"Critical"}),r.jsx("option",{value:"warning",children:"Warning"}),r.jsx("option",{value:"info",children:"Info"})]})]})}),r.jsx("div",{className:"p-4",children:m?r.jsxs("div",{className:"py-12 text-center text-red-500",children:[r.jsx("p",{className:"font-medium",children:"Failed to load alerts"}),r.jsx("p",{className:"text-sm",children:"Please try refreshing the page"})]}):h?r.jsxs("div",{className:"space-y-4",children:[r.jsx(mc,{}),r.jsx(mc,{}),r.jsx(mc,{})]}):w&&w.length>0?r.jsx("div",{className:"space-y-4",children:w.map(k=>r.jsx(_y,{alert:k,onAcknowledge:_,onResolve:P,isProcessing:x.isPending||f.isPending},k.id))}):r.jsxs("div",{className:"py-12 text-center text-gray-500",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n==="all"&&l==="all"?"No alerts":"No matching alerts"}),r.jsx("p",{children:n==="all"&&l==="all"?"Everything is running smoothly":"Try adjusting your filters"})]})})]})]})}function Ry(n){return _e({queryKey:["audit-logs",n],queryFn:()=>Jc.list(n),staleTime:30*1e3})}function Ly(){return pe({mutationFn:n=>Jc.exportCsv(n),onSuccess:n=>{const a=window.URL.createObjectURL(n),l=document.createElement("a");l.href=a,l.download=`audit_logs_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(a),document.body.removeChild(l)}})}function Py(){return pe({mutationFn:n=>Jc.exportJson(n),onSuccess:n=>{const a=window.URL.createObjectURL(n),l=document.createElement("a");l.href=a,l.download=`audit_logs_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(a),document.body.removeChild(l)}})}function Na(){return r.jsxs("tr",{className:"animate-pulse",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded-full"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded-full"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-28 bg-gray-200 rounded"})})]})}function Ty(){var O,A;const[n,a]=y.useState({limit:50,offset:0}),[l,c]=y.useState(""),{data:d,isLoading:h,isError:m}=Ry(n),x=Ly(),f=Py(),w=()=>{a(E=>({...E,search:l||void 0,offset:0}))},b=E=>{E.key==="Enter"&&w()},g=(E,z)=>{a(Q=>({...Q,[E]:z||void 0,offset:0}))},j=E=>{a(z=>({...z,offset:E}))},_=()=>{x.mutate(n)},P=()=>{f.mutate(n)},k=d?Math.ceil(d.total_count/(n.limit||50)):0,L=d?Math.floor((n.offset||0)/(n.limit||50))+1:1;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Track all user and system actions for compliance"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{type:"button",onClick:_,disabled:x.isPending,className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),x.isPending?"Exporting...":"Export CSV"]}),r.jsxs("button",{type:"button",onClick:P,disabled:f.isPending,className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),f.isPending?"Exporting...":"Export JSON"]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsx("div",{className:"flex-1 min-w-64",children:r.jsx("input",{type:"text",placeholder:"Search logs...",value:l,onChange:E=>c(E.target.value),onKeyDown:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})}),r.jsxs("select",{value:n.action||"",onChange:E=>g("action",E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"All Actions"}),r.jsx("option",{value:"login",children:"Login"}),r.jsx("option",{value:"logout",children:"Logout"}),r.jsx("option",{value:"create",children:"Create"}),r.jsx("option",{value:"read",children:"Read"}),r.jsx("option",{value:"update",children:"Update"}),r.jsx("option",{value:"delete",children:"Delete"}),r.jsx("option",{value:"backup",children:"Backup"}),r.jsx("option",{value:"restore",children:"Restore"})]}),r.jsxs("select",{value:n.resource_type||"",onChange:E=>g("resource_type",E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"All Resources"}),r.jsx("option",{value:"agent",children:"Agent"}),r.jsx("option",{value:"repository",children:"Repository"}),r.jsx("option",{value:"schedule",children:"Schedule"}),r.jsx("option",{value:"backup",children:"Backup"}),r.jsx("option",{value:"session",children:"Session"})]}),r.jsxs("select",{value:n.result||"",onChange:E=>g("result",E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"All Results"}),r.jsx("option",{value:"success",children:"Success"}),r.jsx("option",{value:"failure",children:"Failure"}),r.jsx("option",{value:"denied",children:"Denied"})]}),r.jsx("input",{type:"date",value:((O=n.start_date)==null?void 0:O.split("T")[0])||"",onChange:E=>g("start_date",E.target.value||void 0),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("input",{type:"date",value:((A=n.end_date)==null?void 0:A.split("T")[0])||"",onChange:E=>g("end_date",E.target.value||void 0),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Search"})]})}),m?r.jsxs("div",{className:"p-12 text-center text-red-500",children:[r.jsx("p",{className:"font-medium",children:"Failed to load audit logs"}),r.jsx("p",{className:"text-sm",children:"Please try refreshing the page"})]}):h?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resource"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r.jsx(Na,{}),r.jsx(Na,{}),r.jsx(Na,{}),r.jsx(Na,{}),r.jsx(Na,{})]})]}):d&&d.audit_logs.length>0?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resource"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:d.audit_logs.map(E=>{const z=vy(E.action),Q=jy(E.result);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap",children:nr(E.created_at)}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${z.bg} ${z.text}`,children:wy(E.action)})}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[r.jsx("div",{children:by(E.resource_type)}),E.resource_id&&r.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:[E.resource_id.substring(0,8),"..."]})]}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 font-mono",children:E.ip_address||"-"}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${Q.bg} ${Q.text}`,children:[r.jsx("span",{className:`w-1.5 h-1.5 ${Q.dot} rounded-full`}),E.result]})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:E.details||"-"})]},E.id)})})]})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(n.offset||0)+1," to"," ",Math.min((n.offset||0)+(n.limit||50),d.total_count)," ","of ",d.total_count," results"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>j(Math.max(0,(n.offset||0)-(n.limit||50))),disabled:L===1,className:"px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",L," of ",k]}),r.jsx("button",{type:"button",onClick:()=>j((n.offset||0)+(n.limit||50)),disabled:L>=k,className:"px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}):r.jsxs("div",{className:"p-12 text-center text-gray-500",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No audit logs found"}),r.jsx("p",{children:n.search||n.action||n.resource_type||n.result?"Try adjusting your filters":"Audit logs will appear here as actions are performed"})]})]})]})}function pp(n){return _e({queryKey:["backups",n],queryFn:()=>Ig.list(n),staleTime:30*1e3})}function Ls(){return _e({queryKey:["repositories"],queryFn:Cs.list,staleTime:30*1e3})}function My(){const n=ge();return pe({mutationFn:a=>Cs.create(a),onSuccess:()=>{n.invalidateQueries({queryKey:["repositories"]})}})}function Fy(){const n=ge();return pe({mutationFn:a=>Cs.delete(a),onSuccess:()=>{n.invalidateQueries({queryKey:["repositories"]})}})}function zy(){return pe({mutationFn:n=>Cs.test(n)})}function Ay(){return pe({mutationFn:n=>Cs.testConnection(n)})}function Oy(){return pe({mutationFn:n=>Cs.recoverKey(n)})}function ml(n){return _e({queryKey:["schedules",{agentId:n}],queryFn:()=>Ua.list(n),staleTime:30*1e3})}function Dy(){const n=ge();return pe({mutationFn:a=>Ua.create(a),onSuccess:()=>{n.invalidateQueries({queryKey:["schedules"]})}})}function Iy(){const n=ge();return pe({mutationFn:({id:a,data:l})=>Ua.update(a,l),onSuccess:(a,{id:l})=>{n.invalidateQueries({queryKey:["schedules"]}),n.invalidateQueries({queryKey:["schedules",l]})}})}function $y(){const n=ge();return pe({mutationFn:a=>Ua.delete(a),onSuccess:()=>{n.invalidateQueries({queryKey:["schedules"]})}})}function Uy(){const n=ge();return pe({mutationFn:a=>Ua.run(a),onSuccess:()=>{n.invalidateQueries({queryKey:["backups"]})}})}function ka(){return r.jsxs("tr",{className:"animate-pulse",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded-full"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-28 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("div",{className:"h-4 w-12 bg-gray-200 rounded inline-block"})})]})}function By({backup:n,agentName:a,repoName:l,onClose:c}){const d=Yc(n.status);return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Backup Details"}),r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${d.bg} ${d.text}`,children:[r.jsx("span",{className:`w-1.5 h-1.5 ${d.dot} rounded-full`}),n.status]})]}),r.jsxs("div",{className:"space-y-4",children:[n.snapshot_id&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Snapshot ID"}),r.jsx("p",{className:"font-mono text-gray-900",children:n.snapshot_id})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Agent"}),r.jsx("p",{className:"text-gray-900",children:a??"Unknown"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Repository"}),r.jsx("p",{className:"text-gray-900",children:l??"Unknown"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Started"}),r.jsx("p",{className:"text-gray-900",children:nr(n.started_at)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Duration"}),r.jsx("p",{className:"text-gray-900",children:py(n.started_at,n.completed_at)})]})]}),n.status==="completed"&&r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Size"}),r.jsx("p",{className:"text-gray-900",children:Te(n.size_bytes)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"New Files"}),r.jsx("p",{className:"text-gray-900",children:n.files_new??0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Changed"}),r.jsx("p",{className:"text-gray-900",children:n.files_changed??0})]})]}),n.error_message&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Error"}),r.jsx("p",{className:"text-red-600 bg-red-50 p-3 rounded-lg text-sm",children:n.error_message})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})})}function Ky({backup:n,agentName:a,repoName:l,onViewDetails:c}){const d=Yc(n.status);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("code",{className:"text-sm font-mono text-gray-900",children:dp(n.snapshot_id)})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a??"Unknown"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l??"Unknown"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:Te(n.size_bytes)}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${d.bg} ${d.text}`,children:[r.jsx("span",{className:`w-1.5 h-1.5 ${d.dot} rounded-full`}),n.status]})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:nt(n.started_at)}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("button",{type:"button",onClick:()=>c(n),className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"Details"})})]})}function qy(){const[n,a]=y.useState(""),[l,c]=y.useState("all"),[d,h]=y.useState("all"),[m,x]=y.useState(null),{data:f,isLoading:w,isError:b}=pp(),{data:g}=Rs(),{data:j}=ml(),{data:_}=Ls(),P=new Map(g==null?void 0:g.map(A=>[A.id,A.hostname])),k=new Map(_==null?void 0:_.map(A=>[A.id,A.name])),L=A=>{var Q,B;if(A.repository_id)return k.get(A.repository_id);const E=j==null?void 0:j.find(W=>W.id===A.schedule_id),z=(B=(Q=E==null?void 0:E.repositories)==null?void 0:Q.sort((W,se)=>W.priority-se.priority))==null?void 0:B.find(W=>W.enabled);return z?k.get(z.repository_id):void 0},O=f==null?void 0:f.filter(A=>{var W;const E=((W=A.snapshot_id)==null?void 0:W.toLowerCase().includes(n.toLowerCase()))??!1,z=n===""||E,Q=l==="all"||A.agent_id===l,B=d==="all"||A.status===d;return z&&Q&&B});return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Backups"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage backup snapshots"})]})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("input",{type:"text",placeholder:"Search by snapshot ID...",value:n,onChange:A=>a(A.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsxs("select",{value:l,onChange:A=>c(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Agents"}),g==null?void 0:g.map(A=>r.jsx("option",{value:A.id,children:A.hostname},A.id))]}),r.jsxs("select",{value:d,onChange:A=>h(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"running",children:"Running"}),r.jsx("option",{value:"failed",children:"Failed"}),r.jsx("option",{value:"canceled",children:"Canceled"})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:b?r.jsxs("div",{className:"p-12 text-center text-red-500",children:[r.jsx("p",{className:"font-medium",children:"Failed to load backups"}),r.jsx("p",{className:"text-sm",children:"Please try refreshing the page"})]}):w?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Snapshot ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Repository"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r.jsx(ka,{}),r.jsx(ka,{}),r.jsx(ka,{}),r.jsx(ka,{}),r.jsx(ka,{})]})]}):O&&O.length>0?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Snapshot ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Repository"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:O.map(A=>r.jsx(Ky,{backup:A,agentName:P.get(A.agent_id),repoName:L(A),onViewDetails:x},A.id))})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Snapshot ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Repository"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:r.jsx("tr",{children:r.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),r.jsx("p",{className:"font-medium text-gray-900",children:"No backups found"}),r.jsx("p",{className:"text-sm",children:"Backups will appear here once agents start running"})]})})})]})})]}),m&&r.jsx(By,{backup:m,agentName:P.get(m.agent_id),repoName:L(m),onClose:()=>x(null)})]})}function Qy(){return _e({queryKey:["dr-runbooks"],queryFn:()=>nn.list(),staleTime:30*1e3})}function mp(){return _e({queryKey:["dr-status"],queryFn:()=>nn.getStatus(),staleTime:30*1e3})}function Wy(){const n=ge();return pe({mutationFn:a=>nn.create(a),onSuccess:()=>{n.invalidateQueries({queryKey:["dr-runbooks"]}),n.invalidateQueries({queryKey:["dr-status"]})}})}function Hy(){const n=ge();return pe({mutationFn:a=>nn.delete(a),onSuccess:()=>{n.invalidateQueries({queryKey:["dr-runbooks"]}),n.invalidateQueries({queryKey:["dr-status"]})}})}function Vy(){const n=ge();return pe({mutationFn:a=>nn.activate(a),onSuccess:(a,l)=>{n.invalidateQueries({queryKey:["dr-runbooks"]}),n.invalidateQueries({queryKey:["dr-runbooks",l]}),n.invalidateQueries({queryKey:["dr-status"]})}})}function Gy(){const n=ge();return pe({mutationFn:a=>nn.archive(a),onSuccess:(a,l)=>{n.invalidateQueries({queryKey:["dr-runbooks"]}),n.invalidateQueries({queryKey:["dr-runbooks",l]}),n.invalidateQueries({queryKey:["dr-status"]})}})}function Jy(n){return _e({queryKey:["dr-runbooks",n,"render"],queryFn:()=>nn.render(n),enabled:!!n})}function Yy(){const n=ge();return pe({mutationFn:a=>nn.generateFromSchedule(a),onSuccess:()=>{n.invalidateQueries({queryKey:["dr-runbooks"]}),n.invalidateQueries({queryKey:["dr-status"]})}})}function Xy(n){return _e({queryKey:["dr-tests",n],queryFn:()=>cp.list(n),staleTime:30*1e3})}function Zy(){const n=ge();return pe({mutationFn:a=>cp.run(a),onSuccess:()=>{n.invalidateQueries({queryKey:["dr-tests"]}),n.invalidateQueries({queryKey:["dr-status"]})}})}function fc(){return r.jsxs("tr",{className:"animate-pulse",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded-full"})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded inline-block"})})]})}function ev({isOpen:n,onClose:a}){const[l,c]=y.useState(""),[d,h]=y.useState(""),[m,x]=y.useState(""),[f,w]=y.useState(!1),{data:b}=ml(),g=Wy(),j=Yy(),_=async k=>{k.preventDefault();try{f&&m?await j.mutateAsync(m):await g.mutateAsync({name:l,description:d,schedule_id:m||void 0}),a(),c(""),h(""),x(""),w(!1)}catch{}};if(!n)return null;const P=g.isPending||j.isPending;return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create DR Runbook"}),r.jsxs("form",{onSubmit:_,children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"use-schedule",checked:f,onChange:k=>w(k.target.checked),className:"rounded border-gray-300"}),r.jsx("label",{htmlFor:"use-schedule",className:"text-sm text-gray-700",children:"Generate from existing backup schedule"})]}),f?r.jsxs("div",{children:[r.jsx("label",{htmlFor:"schedule",className:"block text-sm font-medium text-gray-700 mb-1",children:"Backup Schedule"}),r.jsxs("select",{id:"schedule",value:m,onChange:k=>x(k.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[r.jsx("option",{value:"",children:"Select a schedule"}),b==null?void 0:b.map(k=>r.jsx("option",{value:k.id,children:k.name},k.id))]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A runbook will be automatically generated with restore steps"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",id:"name",value:l,onChange:k=>c(k.target.value),placeholder:"e.g., Production Database Recovery",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{id:"description",value:d,onChange:k=>h(k.target.value),placeholder:"Describe the purpose and scope of this runbook",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"schedule-optional",className:"block text-sm font-medium text-gray-700 mb-1",children:"Associated Schedule (optional)"}),r.jsxs("select",{id:"schedule-optional",value:m,onChange:k=>x(k.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"None"}),b==null?void 0:b.map(k=>r.jsx("option",{value:k.id,children:k.name},k.id))]})]})]})]}),(g.isError||j.isError)&&r.jsx("p",{className:"text-sm text-red-600 mt-4",children:"Failed to create runbook. Please try again."}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:P,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:P?"Creating...":"Create Runbook"})]})]})]})})}function tv({isOpen:n,onClose:a,runbookId:l}){const{data:c,isLoading:d}=Jy(n?l:"");return n?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"DR Runbook Document"}),r.jsx("button",{type:"button",onClick:a,"aria-label":"Close",className:"text-gray-500 hover:text-gray-700",children:r.jsx("svg",{"aria-hidden":"true",className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d?r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]}):c?r.jsx("div",{className:"prose max-w-none",children:r.jsx("pre",{className:"whitespace-pre-wrap bg-gray-50 p-4 rounded-lg text-sm font-mono overflow-x-auto",children:c.content})}):r.jsx("p",{className:"text-gray-500",children:"Failed to load runbook content."}),r.jsx("div",{className:"flex justify-end gap-3 mt-6",children:r.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Close"})})]})}):null}function rv(n){switch(n){case"active":return{bg:"bg-green-100",text:"text-green-800",dot:"bg-green-500"};case"draft":return{bg:"bg-yellow-100",text:"text-yellow-800",dot:"bg-yellow-500"};case"archived":return{bg:"bg-gray-100",text:"text-gray-600",dot:"bg-gray-400"};default:return{bg:"bg-gray-100",text:"text-gray-600",dot:"bg-gray-400"}}}function nv({runbook:n,onView:a,onActivate:l,onArchive:c,onDelete:d,onRunTest:h,isUpdating:m,isDeleting:x}){const f=rv(n.status);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:n.name}),n.description&&r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:n.description})]}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500",children:[n.steps.length," steps"]}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:nt(n.updated_at)}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${f.bg} ${f.text}`,children:[r.jsx("span",{className:`w-1.5 h-1.5 ${f.dot} rounded-full`}),n.status]})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>a(n.id),className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"View"}),r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("button",{type:"button",onClick:()=>h(n.id),className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"Test"}),r.jsx("span",{className:"text-gray-300",children:"|"}),n.status==="draft"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onClick:()=>l(n.id),disabled:m,className:"text-green-600 hover:text-green-800 text-sm font-medium disabled:opacity-50",children:"Activate"}),r.jsx("span",{className:"text-gray-300",children:"|"})]}),n.status==="active"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onClick:()=>c(n.id),disabled:m,className:"text-gray-600 hover:text-gray-800 text-sm font-medium disabled:opacity-50",children:"Archive"}),r.jsx("span",{className:"text-gray-300",children:"|"})]}),r.jsx("button",{type:"button",onClick:()=>d(n.id),disabled:x,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50",children:"Delete"})]})})]})}function sv(){const[n,a]=y.useState(""),[l,c]=y.useState("all"),[d,h]=y.useState(!1),[m,x]=y.useState(null),{data:f,isLoading:w,isError:b}=Qy(),{data:g}=mp(),{data:j}=Xy(),_=Vy(),P=Gy(),k=Hy(),L=Zy(),O=f==null?void 0:f.filter(W=>{const se=W.name.toLowerCase().includes(n.toLowerCase()),ve=l==="all"||W.status===l;return se&&ve}),A=W=>{_.mutate(W)},E=W=>{P.mutate(W)},z=W=>{confirm("Are you sure you want to delete this runbook?")&&k.mutate(W)},Q=W=>{confirm("Run a DR test for this runbook?")&&L.mutate({runbook_id:W})},B=(j==null?void 0:j.slice(0,3))??[];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"DR Runbooks"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Disaster recovery procedures and testing"})]}),r.jsxs("button",{type:"button",onClick:()=>h(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Runbook"]})]}),g&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Runbooks"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.total_runbooks})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Runbooks"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.active_runbooks})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Tests (30 days)"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.tests_last_30_days})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[g.pass_rate.toFixed(1),"%"]})]})]}),B.length>0&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Recent Tests"}),r.jsx("div",{className:"space-y-2",children:B.map(W=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:nt(W.created_at)}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${W.status==="completed"?"bg-green-100 text-green-800":W.status==="failed"?"bg-red-100 text-red-800":W.status==="running"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:W.status})]},W.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("input",{type:"text",placeholder:"Search runbooks...",value:n,onChange:W=>a(W.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsxs("select",{value:l,onChange:W=>c(W.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"archived",children:"Archived"})]})]})}),b?r.jsxs("div",{className:"p-12 text-center text-red-500",children:[r.jsx("p",{className:"font-medium",children:"Failed to load runbooks"}),r.jsx("p",{className:"text-sm",children:"Please try refreshing the page"})]}):w?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Runbook"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Steps"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r.jsx(fc,{}),r.jsx(fc,{}),r.jsx(fc,{})]})]}):O&&O.length>0?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Runbook"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Steps"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:O.map(W=>r.jsx(nv,{runbook:W,onView:x,onActivate:A,onArchive:E,onDelete:z,onRunTest:Q,isUpdating:_.isPending||P.isPending,isDeleting:k.isPending},W.id))})]}):r.jsxs("div",{className:"p-12 text-center text-gray-500",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No DR runbooks configured"}),r.jsx("p",{className:"mb-4",children:"Create a runbook to document your recovery procedures"})]})]}),r.jsx(ev,{isOpen:d,onClose:()=>h(!1)}),m&&r.jsx(tv,{isOpen:!!m,onClose:()=>x(null),runbookId:m})]})}function fp(){return _e({queryKey:["storage-stats","summary"],queryFn:_s.getSummary,staleTime:60*1e3})}function av(n=30){return _e({queryKey:["storage-stats","growth",n],queryFn:()=>_s.getGrowth(n),staleTime:60*1e3})}function iv(){return _e({queryKey:["storage-stats","repositories"],queryFn:_s.listRepositoryStats,staleTime:60*1e3})}function lv(n){return _e({queryKey:["storage-stats","repositories",n],queryFn:()=>_s.getRepositoryStats(n),enabled:!!n,staleTime:60*1e3})}function ov(n,a=30){return _e({queryKey:["storage-stats","repositories",n,"growth",a],queryFn:()=>_s.getRepositoryGrowth(n,a),enabled:!!n,staleTime:60*1e3})}function cv(n,a=30){return _e({queryKey:["storage-stats","repositories",n,"history",a],queryFn:()=>_s.getRepositoryHistory(n,a),enabled:!!n,staleTime:60*1e3})}function Sa({title:n,value:a,subtitle:l,icon:c,isLoading:d}){return r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:n}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:d?r.jsx("span",{className:"inline-block w-8 h-7 bg-gray-200 rounded animate-pulse"}):a}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:l})]}),r.jsx("div",{className:"p-3 bg-indigo-50 rounded-lg text-indigo-600",children:c})]})})}function xc(){return r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"}),r.jsx("div",{className:"h-3 w-24 bg-gray-100 rounded animate-pulse"})]}),r.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded-full animate-pulse"})]})}function uv(){const{data:n,isLoading:a}=Rs(),{data:l,isLoading:c}=Ls(),{data:d,isLoading:h}=ml(),{data:m,isLoading:x}=pp(),{data:f,isLoading:w}=mp(),{data:b,isLoading:g}=fp(),j=(n==null?void 0:n.filter(L=>L.status==="active").length)??0,_=(d==null?void 0:d.filter(L=>L.enabled).length)??0,P=(m==null?void 0:m.slice(0,5))??[],k=a||c||h||x;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Overview of your backup system"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:[r.jsx(Sa,{title:"Active Agents",value:String(j),subtitle:"Connected agents",isLoading:a,icon:r.jsx("svg",{"aria-hidden":"true",className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),r.jsx(Sa,{title:"Repositories",value:String((l==null?void 0:l.length)??0),subtitle:"Backup destinations",isLoading:c,icon:r.jsx("svg",{"aria-hidden":"true",className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})}),r.jsx(Sa,{title:"Scheduled Jobs",value:String(_),subtitle:"Active schedules",isLoading:h,icon:r.jsx("svg",{"aria-hidden":"true",className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx(Sa,{title:"Total Backups",value:String((m==null?void 0:m.length)??0),subtitle:"All time",isLoading:x,icon:r.jsx("svg",{"aria-hidden":"true",className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),r.jsx(Sa,{title:"DR Pass Rate",value:f?`${Math.round(f.pass_rate)}%`:"0%",subtitle:`${(f==null?void 0:f.tests_last_30_days)??0} tests (30 days)`,isLoading:w,icon:r.jsx("svg",{"aria-hidden":"true",className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Backups"}),k?r.jsxs("div",{className:"space-y-1",children:[r.jsx(xc,{}),r.jsx(xc,{}),r.jsx(xc,{})]}):P.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),r.jsx("p",{children:"No backups yet"}),r.jsx("p",{className:"text-sm",children:"Configure an agent to start backing up"})]}):r.jsx("div",{className:"space-y-1",children:P.map(L=>{const O=Yc(L.status);return r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:dp(L.snapshot_id)||"Running..."}),r.jsxs("p",{className:"text-xs text-gray-500",children:[nt(L.started_at),L.size_bytes!==void 0&&` - ${Te(L.size_bytes)}`]})]}),r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${O.bg} ${O.text}`,children:[r.jsx("span",{className:`w-1.5 h-1.5 ${O.dot} rounded-full`}),L.status]})]},L.id)})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Status"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Server"}),r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Online"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Database"}),r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Connected"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Scheduler"}),_>0?r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Active (",_," jobs)"]}):r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),"Idle"]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"DR Testing"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600 text-sm",children:"Active Runbooks"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:w?r.jsx("span",{className:"inline-block w-6 h-4 bg-gray-200 rounded animate-pulse"}):`${(f==null?void 0:f.active_runbooks)??0} / ${(f==null?void 0:f.total_runbooks)??0}`})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600 text-sm",children:"Last Test"}),r.jsx("span",{className:"text-sm text-gray-900",children:w?r.jsx("span",{className:"inline-block w-16 h-4 bg-gray-200 rounded animate-pulse"}):f!=null&&f.last_test_at?h0(f.last_test_at):r.jsx("span",{className:"text-gray-400",children:"Never"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600 text-sm",children:"Next Test"}),r.jsx("span",{className:"text-sm text-gray-900",children:w?r.jsx("span",{className:"inline-block w-16 h-4 bg-gray-200 rounded animate-pulse"}):f!=null&&f.next_test_at?h0(f.next_test_at):r.jsx("span",{className:"text-gray-400",children:"Not scheduled"})})]})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Storage Efficiency"}),r.jsx(zt,{to:"/stats",className:"text-sm text-indigo-600 hover:text-indigo-800",children:"View Details"})]}),g?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(L=>r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded"})]},L))}):b?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Dedup Ratio"}),r.jsx("p",{className:`text-2xl font-bold mt-1 ${La(b.avg_dedup_ratio)}`,children:Ra(b.avg_dedup_ratio)}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[b.repository_count," repositories"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Space Saved"}),r.jsx("p",{className:`text-2xl font-bold mt-1 ${Pa(b.total_restore_size>0?b.total_space_saved/b.total_restore_size*100:0)}`,children:Te(b.total_space_saved)}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[us(b.total_restore_size>0?b.total_space_saved/b.total_restore_size*100:0)," ","of original"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Actual Storage"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:Te(b.total_raw_size)}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["From ",Te(b.total_restore_size)," original"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Snapshots"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:b.total_snapshots}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Across all repositories"})]})]}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),r.jsx("p",{children:"No storage stats yet"}),r.jsx("p",{className:"text-sm",children:"Stats will be collected automatically once backups run"})]})]})]})}function dv(){const n=Qc(),a=Wg(),[l,c]=y.useState(""),[d,h]=y.useState(""),[m,x]=y.useState(!0),f=g=>{c(g),m&&h(g.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""))},w=g=>{x(!1),h(g.toLowerCase().replace(/[^a-z0-9-]/g,"-"))},b=async g=>{g.preventDefault();try{await a.mutateAsync({name:l,slug:d}),n("/")}catch{}};return r.jsxs("div",{className:"max-w-lg mx-auto",children:[r.jsx("div",{className:"mb-6",children:r.jsxs(zt,{to:"/",className:"text-sm text-gray-500 hover:text-gray-700 inline-flex items-center gap-1",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Create New Organization"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Organizations help you manage backup resources separately"})]}),r.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),r.jsx("input",{type:"text",id:"name",value:l,onChange:g=>f(g.target.value),placeholder:"My Company",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"URL Slug"}),r.jsx("input",{type:"text",id:"slug",value:d,onChange:g=>w(g.target.value),placeholder:"my-company",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",pattern:"[a-z0-9-]+",required:!0}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Only lowercase letters, numbers, and hyphens. This will be used in URLs."})]}),a.isError&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-red-600",children:"Failed to create organization. The slug may already be taken."})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx(zt,{to:"/",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:a.isPending||!l||!d,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:a.isPending?"Creating...":"Create Organization"})]})]})]}),r.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"What happens next?"}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[r.jsx("li",{children:" You'll be set as the owner of the new organization"}),r.jsx("li",{children:" You can switch between organizations using the dropdown"}),r.jsx("li",{children:" Invite team members from the Members page"}),r.jsx("li",{children:" Each organization has separate agents and backups"})]})]})]})}function hv(){return _e({queryKey:["notification-channels"],queryFn:rn.listChannels,staleTime:30*1e3})}function pv(){const n=ge();return pe({mutationFn:a=>rn.createChannel(a),onSuccess:()=>{n.invalidateQueries({queryKey:["notification-channels"]})}})}function mv(){const n=ge();return pe({mutationFn:({id:a,data:l})=>rn.updateChannel(a,l),onSuccess:()=>{n.invalidateQueries({queryKey:["notification-channels"]})}})}function fv(){const n=ge();return pe({mutationFn:a=>rn.deleteChannel(a),onSuccess:()=>{n.invalidateQueries({queryKey:["notification-channels"]})}})}function xv(){return _e({queryKey:["notification-preferences"],queryFn:rn.listPreferences,staleTime:30*1e3})}function gv(){const n=ge();return pe({mutationFn:a=>rn.createPreference(a),onSuccess:()=>{n.invalidateQueries({queryKey:["notification-preferences"]}),n.invalidateQueries({queryKey:["notification-channels"]})}})}function yv(){const n=ge();return pe({mutationFn:({id:a,data:l})=>rn.updatePreference(a,l),onSuccess:()=>{n.invalidateQueries({queryKey:["notification-preferences"]}),n.invalidateQueries({queryKey:["notification-channels"]})}})}function vv(){return _e({queryKey:["notification-logs"],queryFn:rn.listLogs,staleTime:30*1e3})}function p0(){return r.jsxs("tr",{className:"animate-pulse",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded-full"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded inline-block"})})]})}function jv({isOpen:n,onClose:a}){const[l,c]=y.useState(""),[d,h]=y.useState(""),[m,x]=y.useState("587"),[f,w]=y.useState(""),[b,g]=y.useState(""),[j,_]=y.useState(""),[P,k]=y.useState(!0),L=pv(),O=async E=>{E.preventDefault();try{const z={host:d,port:Number.parseInt(m,10),username:f,password:b,from:j,tls:P};await L.mutateAsync({name:l,type:"email",config:z}),A(),a()}catch{}},A=()=>{c(""),h(""),x("587"),w(""),g(""),_(""),k(!0)};return n?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Email Notification Channel"}),r.jsxs("form",{onSubmit:O,children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Channel Name"}),r.jsx("input",{type:"text",id:"name",value:l,onChange:E=>c(E.target.value),placeholder:"e.g., Primary Email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"host",className:"block text-sm font-medium text-gray-700 mb-1",children:"SMTP Host"}),r.jsx("input",{type:"text",id:"host",value:d,onChange:E=>h(E.target.value),placeholder:"smtp.example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"port",className:"block text-sm font-medium text-gray-700 mb-1",children:"Port"}),r.jsx("input",{type:"number",id:"port",value:m,onChange:E=>x(E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),r.jsx("input",{type:"text",id:"username",value:f,onChange:E=>w(E.target.value),placeholder:"user@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsx("input",{type:"password",id:"password",value:b,onChange:E=>g(E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-700 mb-1",children:"From Address"}),r.jsx("input",{type:"email",id:"from",value:j,onChange:E=>_(E.target.value),placeholder:"notifications@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"tls",checked:P,onChange:E=>k(E.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"tls",className:"ml-2 text-sm text-gray-700",children:"Use TLS"})]})]}),L.isError&&r.jsx("p",{className:"text-sm text-red-600 mt-4",children:"Failed to create channel. Please try again."}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{type:"button",onClick:()=>{A(),a()},className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:L.isPending,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:L.isPending?"Creating...":"Create Channel"})]})]})]})}):null}const wv=[{type:"backup_success",label:"Backup Success"},{type:"backup_failed",label:"Backup Failed"},{type:"agent_offline",label:"Agent Offline"}];function bv({channel:n,preferences:a,onDelete:l,isDeleting:c}){const d=mv(),h=gv(),m=yv(),x=async()=>{await d.mutateAsync({id:n.id,data:{enabled:!n.enabled}})},f=async b=>{const g=a.find(j=>j.event_type===b);g?await m.mutateAsync({id:g.id,data:{enabled:!g.enabled}}):await h.mutateAsync({channel_id:n.id,event_type:b,enabled:!0})},w=b=>{const g=a.find(j=>j.event_type===b);return(g==null?void 0:g.enabled)??!1};return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:r.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:n.name}),r.jsx("p",{className:"text-sm text-gray-500",children:n.type})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("button",{type:"button",onClick:x,disabled:d.isPending,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2 ${n.enabled?"bg-indigo-600":"bg-gray-200"}`,children:r.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${n.enabled?"translate-x-5":"translate-x-0"}`})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:wv.map(({type:b,label:g})=>{const j=w(b);return r.jsx("button",{type:"button",onClick:()=>f(b),disabled:h.isPending||m.isPending,className:`px-2 py-1 text-xs font-medium rounded-full transition-colors ${j?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:g},b)})})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("button",{type:"button",onClick:()=>l(n.id),disabled:c,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50",children:"Delete"})})]})}function Nv(n){switch(n){case"sent":return{bg:"bg-green-100",text:"text-green-800"};case"failed":return{bg:"bg-red-100",text:"text-red-800"};case"queued":return{bg:"bg-yellow-100",text:"text-yellow-800"};default:return{bg:"bg-gray-100",text:"text-gray-800"}}}function kv({log:n}){const a=Nv(n.status);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:n.subject||n.event_type}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.recipient}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.bg} ${a.text}`,children:n.status})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:nt(n.sent_at||n.created_at)}),r.jsx("td",{className:"px-6 py-4 text-sm text-red-500",children:n.error_message||"-"})]})}function Sv(){const[n,a]=y.useState(!1),[l,c]=y.useState("channels"),{data:d,isLoading:h,isError:m}=hv(),{data:x}=xv(),{data:f,isLoading:w,isError:b}=vv(),g=fv(),j=P=>{confirm("Are you sure you want to delete this notification channel?")&&g.mutate(P)},_=P=>(x==null?void 0:x.filter(k=>k.channel_id===P))??[];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Configure email notifications for backup events"})]}),r.jsxs("button",{type:"button",onClick:()=>a(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Channel"]})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsx("button",{type:"button",onClick:()=>c("channels"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="channels"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Channels"}),r.jsx("button",{type:"button",onClick:()=>c("logs"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="logs"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"History"})]})}),l==="channels"&&r.jsx("div",{className:"bg-white rounded-lg border border-gray-200",children:m?r.jsxs("div",{className:"p-12 text-center text-red-500",children:[r.jsx("p",{className:"font-medium",children:"Failed to load notification channels"}),r.jsx("p",{className:"text-sm mt-1",children:"Please try refreshing the page"})]}):h?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Channel"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enabled"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Events"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:[1,2,3].map(P=>r.jsx(p0,{},P))})]}):d&&d.length>0?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Channel"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enabled"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Events"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:d.map(P=>r.jsx(bv,{channel:P,preferences:_(P.id),onDelete:j,isDeleting:g.isPending},P.id))})]}):r.jsxs("div",{className:"p-12 text-center text-gray-500",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gray-100 rounded-full mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),r.jsx("p",{className:"font-medium",children:"No notification channels configured"}),r.jsx("p",{className:"text-sm mt-1",children:"Add an email channel to receive backup notifications"}),r.jsx("button",{type:"button",onClick:()=>a(!0),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Add Channel"})]})}),l==="logs"&&r.jsx("div",{className:"bg-white rounded-lg border border-gray-200",children:b?r.jsxs("div",{className:"p-12 text-center text-red-500",children:[r.jsx("p",{className:"font-medium",children:"Failed to load notification history"}),r.jsx("p",{className:"text-sm mt-1",children:"Please try refreshing the page"})]}):w?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipient"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Error"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:[1,2,3].map(P=>r.jsx(p0,{},P))})]}):f&&f.length>0?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipient"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Error"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:f.map(P=>r.jsx(kv,{log:P},P.id))})]}):r.jsxs("div",{className:"p-12 text-center text-gray-500",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gray-100 rounded-full mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsx("p",{className:"font-medium",children:"No notification history"}),r.jsx("p",{className:"text-sm mt-1",children:"Notifications will appear here once they are sent"})]})}),r.jsx(jv,{isOpen:n,onClose:()=>a(!1)})]})}function m0(){return r.jsxs("tr",{className:"animate-pulse",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-40 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded-full"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded inline-block"})})]})}function Cv({isOpen:n,onClose:a,orgId:l}){const[c,d]=y.useState(""),[h,m]=y.useState("member"),x=ey(),f=async w=>{w.preventDefault();try{await x.mutateAsync({orgId:l,data:{email:c,role:h}}),d(""),m("member"),a()}catch{}};return n?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invite Member"}),r.jsxs("form",{onSubmit:f,children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),r.jsx("input",{type:"email",id:"email",value:c,onChange:w=>d(w.target.value),placeholder:"user@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),r.jsxs("select",{id:"role",value:h,onChange:w=>m(w.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"member",children:"Member"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"readonly",children:"Read Only"})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Admin: Can manage members and resources. Member: Can create and manage resources. Read Only: View-only access."})]}),x.isError&&r.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Failed to send invitation. Please try again."}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:x.isPending,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:x.isPending?"Sending...":"Send Invitation"})]})]})]})}):null}function xp(n){switch(n){case"owner":return"bg-purple-100 text-purple-700";case"admin":return"bg-blue-100 text-blue-700";case"member":return"bg-green-100 text-green-700";case"readonly":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}}function _v({member:n,currentUserId:a,currentUserRole:l,orgId:c}){const[d,h]=y.useState(!1),[m,x]=y.useState(n.role),f=Yg(),w=Xg(),b=(l==="owner"||l==="admin")&&n.user_id!==a&&n.role!=="owner",g=async()=>{m!==n.role&&await f.mutateAsync({orgId:c,userId:n.user_id,role:m}),h(!1)},j=()=>{confirm(`Are you sure you want to remove ${n.name||n.email} from the organization?`)&&w.mutate({orgId:c,userId:n.user_id})};return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"font-medium text-gray-900",children:n.name||"No name"})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.email}),r.jsx("td",{className:"px-6 py-4",children:d?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{value:m,onChange:_=>x(_.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"member",children:"Member"}),r.jsx("option",{value:"readonly",children:"Read Only"})]}),r.jsx("button",{type:"button",onClick:g,disabled:f.isPending,className:"text-sm text-indigo-600 hover:text-indigo-800",children:"Save"}),r.jsx("button",{type:"button",onClick:()=>{h(!1),x(n.role)},className:"text-sm text-gray-600 hover:text-gray-800",children:"Cancel"})]}):r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${xp(n.role)}`,children:n.role})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:nt(n.created_at)}),r.jsxs("td",{className:"px-6 py-4 text-right",children:[b&&!d&&r.jsxs("div",{className:"flex items-center justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"Edit"}),r.jsx("button",{type:"button",onClick:j,disabled:w.isPending,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50",children:"Remove"})]}),n.user_id===a&&r.jsx("span",{className:"text-xs text-gray-400",children:"You"})]})]})}function Ev({invitation:n,orgId:a}){const l=ty(),c=()=>{confirm("Are you sure you want to cancel this invitation?")&&l.mutate({orgId:a,invitationId:n.id})},d=new Date(n.expires_at)<new Date;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.email}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${xp(n.role)}`,children:n.role})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.inviter_name}),r.jsx("td",{className:"px-6 py-4 text-sm",children:d?r.jsx("span",{className:"text-red-600",children:"Expired"}):r.jsxs("span",{className:"text-gray-500",children:["Expires ",nt(n.expires_at)]})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("button",{type:"button",onClick:c,disabled:l.isPending,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50",children:"Cancel"})})]})}function Rv(){const[n,a]=y.useState(!1),{data:l}=Es(),{data:c,isLoading:d}=up(),h=(l==null?void 0:l.current_org_id)??"",m=(l==null?void 0:l.current_org_role)??"member",{data:x,isLoading:f,isError:w}=Jg(h),{data:b,isLoading:g}=Zg(h),j=m==="owner"||m==="admin",_=d||f;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Members"}),r.jsxs("p",{className:"text-gray-600 mt-1",children:["Manage members of"," ",(c==null?void 0:c.organization.name)??"your organization"]})]}),j&&r.jsxs("button",{type:"button",onClick:()=>a(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Invite Member"]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Organization Members"})}),w?r.jsxs("div",{className:"p-12 text-center text-red-500",children:[r.jsx("p",{className:"font-medium",children:"Failed to load members"}),r.jsx("p",{className:"text-sm",children:"Please try refreshing the page"})]}):_?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r.jsx(m0,{}),r.jsx(m0,{})]})]}):x&&x.length>0?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:x.map(P=>r.jsx(_v,{member:P,currentUserId:(l==null?void 0:l.id)??"",currentUserRole:m,orgId:h},P.id))})]}):r.jsx("div",{className:"p-12 text-center text-gray-500",children:r.jsx("p",{children:"No members found"})})]}),j&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pending Invitations"})}),g?r.jsx("div",{className:"p-6 text-center",children:r.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto"})}):b&&b.length>0?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invited By"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:b.map(P=>r.jsx(Ev,{invitation:P,orgId:h},P.id))})]}):r.jsx("div",{className:"p-8 text-center text-gray-500",children:r.jsx("p",{children:"No pending invitations"})})]}),r.jsx(Cv,{isOpen:n,onClose:()=>a(!1),orgId:h})]})}function Lv(){const n=Qc(),{data:a}=Es(),{data:l,isLoading:c}=up(),d=Hg(),h=Vg(),[m,x]=y.useState(""),[f,w]=y.useState(""),[b,g]=y.useState(!1),[j,_]=y.useState(!1),[P,k]=y.useState(""),L=(a==null?void 0:a.current_org_role)??"member",O=L==="owner",A=O||L==="admin",E=(a==null?void 0:a.current_org_id)??"",z=()=>{l&&(x(l.organization.name),w(l.organization.slug),g(!0))},Q=()=>{g(!1),x(""),w("")},B=async se=>{se.preventDefault();try{await d.mutateAsync({id:E,data:{name:m,slug:f}}),g(!1)}catch{}},W=async()=>{if(P===(l==null?void 0:l.organization.name))try{await h.mutateAsync(E),n("/")}catch{}};return c?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse"}),r.jsx("div",{className:"h-4 w-64 bg-gray-200 rounded animate-pulse mt-2"})]}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),r.jsx("div",{className:"h-10 w-full bg-gray-200 rounded animate-pulse"}),r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),r.jsx("div",{className:"h-10 w-full bg-gray-200 rounded animate-pulse"})]})})]}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organization Settings"}),r.jsxs("p",{className:"text-gray-600 mt-1",children:["Manage settings for ",l.organization.name]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"General Settings"}),A&&!b&&r.jsx("button",{type:"button",onClick:z,className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"Edit"})]}),r.jsx("div",{className:"p-6",children:b?r.jsxs("form",{onSubmit:B,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),r.jsx("input",{type:"text",id:"name",value:m,onChange:se=>x(se.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"URL Slug"}),r.jsx("input",{type:"text",id:"slug",value:f,onChange:se=>w(se.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",pattern:"[a-z0-9-]+",required:!0}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Only lowercase letters, numbers, and hyphens"})]}),d.isError&&r.jsx("p",{className:"text-sm text-red-600",children:"Failed to update organization. Please try again."}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:Q,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:d.isPending,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:d.isPending?"Saving...":"Save Changes"})]})]}):r.jsxs("dl",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Organization Name"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:l.organization.name})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"URL Slug"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:l.organization.slug})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Your Role"}),r.jsx("dd",{className:"mt-1",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize bg-indigo-100 text-indigo-700",children:L})})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(l.organization.created_at).toLocaleDateString()})]})]})})]}),O&&r.jsxs("div",{className:"bg-white rounded-lg border border-red-200",children:[r.jsx("div",{className:"px-6 py-4 border-b border-red-200 bg-red-50",children:r.jsx("h2",{className:"text-lg font-semibold text-red-900",children:"Danger Zone"})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Delete this organization"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Once you delete an organization, there is no going back. This will permanently delete all agents, repositories, schedules, and backups associated with this organization."})]}),r.jsx("button",{type:"button",onClick:()=>_(!0),className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors flex-shrink-0",children:"Delete Organization"})]})})]}),j&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:r.jsx("svg",{"aria-hidden":"true",className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Organization"})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["This action cannot be undone. This will permanently delete the"," ",r.jsx("strong",{children:l.organization.name})," organization and all of its data."]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Please type ",r.jsx("strong",{children:l.organization.name})," to confirm."]}),r.jsx("input",{type:"text",value:P,onChange:se=>k(se.target.value),placeholder:"Type organization name to confirm",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 mb-4"}),h.isError&&r.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Failed to delete organization. Please try again."}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{_(!1),k("")},className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"button",onClick:W,disabled:P!==l.organization.name||h.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:h.isPending?"Deleting...":"Delete Organization"})]})]})})]}):r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"Organization not found"})})}function Pv(n){return _e({queryKey:["verification-status",n],queryFn:()=>op.getStatus(n),enabled:!!n,staleTime:30*1e3,refetchInterval:60*1e3})}function Tv(){const n=ge();return pe({mutationFn:({repoId:a,type:l})=>{const c={type:l};return op.trigger(a,c)},onSuccess:(a,{repoId:l})=>{n.invalidateQueries({queryKey:["verifications",l]}),n.invalidateQueries({queryKey:["verification-status",l]})}})}function gc(){return r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-pulse",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"h-5 w-32 bg-gray-200 rounded"}),r.jsx("div",{className:"h-6 w-12 bg-gray-200 rounded-full"})]}),r.jsx("div",{className:"h-4 w-24 bg-gray-100 rounded"})]})}function ze({label:n,id:a,value:l,onChange:c,placeholder:d,required:h=!1,type:m="text",helpText:x}){return r.jsxs("div",{children:[r.jsxs("label",{htmlFor:a,className:"block text-sm font-medium text-gray-700 mb-1",children:[n,h&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("input",{type:m,id:a,value:l,onChange:f=>c(f.target.value),placeholder:d,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:h}),x&&r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:x})]})}function Mv({isOpen:n,onClose:a,repositoryName:l,password:c}){const[d,h]=y.useState(!1),m=async()=>{await navigator.clipboard.writeText(c),h(!0),setTimeout(()=>h(!1),2e3)};return n?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Repository Password"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Save this password - it will only be shown once"})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Repository ",r.jsx("span",{className:"font-medium",children:l})," has been created. Use this password to access your Restic repository:"]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsx("code",{className:"text-sm font-mono break-all flex-1",children:c}),r.jsx("button",{type:"button",onClick:m,className:"flex-shrink-0 px-3 py-1.5 text-sm bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors",children:d?"Copied!":"Copy"})]})}),r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:r.jsxs("p",{className:"text-sm text-amber-800",children:[r.jsx("strong",{children:"Important:"})," This password is required to decrypt your backups. Store it securely - without it, your backup data cannot be recovered."]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"I've saved the password"})})]})}):null}function Fv({isOpen:n,onClose:a,onSuccess:l,initialType:c}){const[d,h]=y.useState(""),[m,x]=y.useState(c??"local"),[f,w]=y.useState(!1),[b,g]=y.useState(""),[j,_]=y.useState(""),[P,k]=y.useState(""),[L,O]=y.useState(""),[A,E]=y.useState(""),[z,Q]=y.useState(""),[B,W]=y.useState(""),[se,ve]=y.useState(!0),[te,fe]=y.useState(""),[ce,je]=y.useState(""),[Re,Be]=y.useState(""),[Ke,Ee]=y.useState(""),[H,ae]=y.useState(""),[G,R]=y.useState("22"),[D,V]=y.useState(""),[oe,de]=y.useState(""),[xe,Se]=y.useState(""),[be,Le]=y.useState(""),[st,sn]=y.useState(""),[Ps,an]=y.useState(""),[Fn,Ts]=y.useState(""),[Ms,zn]=y.useState(""),[Fs,An]=y.useState(""),[Nr,sr]=y.useState(""),[On,zs]=y.useState(""),[As,Os]=y.useState(""),[ln,ar]=y.useState(null),ir=My(),Dn=Ay();y.useEffect(()=>{c&&x(c)},[c]),y.useEffect(()=>{ar(null)},[m]);const kr=()=>{h(""),x("local"),g(""),_(""),k(""),O(""),E(""),Q(""),W(""),ve(!0),fe(""),je(""),Be(""),Ee(""),ae(""),R("22"),V(""),de(""),Se(""),Le(""),sn(""),an(""),Ts(""),zn(""),An(""),sr(""),zs(""),Os(""),ar(null),w(!1)},on=async()=>{ar(null);try{const bt=await Dn.mutateAsync({type:m,config:Ba()});ar(bt)}catch{ar({success:!1,message:"Failed to test connection"})}},Ba=()=>{switch(m){case"local":return{path:b};case"s3":return{endpoint:j||void 0,bucket:P,prefix:L||void 0,region:A||void 0,access_key_id:z,secret_access_key:B,use_ssl:se};case"b2":return{bucket:te,prefix:ce||void 0,account_id:Re,application_key:Ke};case"sftp":return{host:H,port:G?Number.parseInt(G,10):void 0,user:D,path:oe,password:xe||void 0,private_key:be||void 0};case"rest":return{url:st,username:Ps||void 0,password:Fn||void 0};case"dropbox":return{remote_name:Ms,path:Fs||void 0,token:Nr||void 0,app_key:On||void 0,app_secret:As||void 0};default:return{path:b}}},Ka=async bt=>{bt.preventDefault();try{const Ds=await ir.mutateAsync({name:d,type:m,config:Ba(),escrow_enabled:f});l(Ds),kr()}catch{}};if(!n)return null;const qa=()=>{switch(m){case"local":return r.jsx(ze,{label:"Path",id:"local-path",value:b,onChange:g,placeholder:"/var/backups/restic",required:!0,helpText:"Absolute path to the backup directory"});case"s3":return r.jsxs(r.Fragment,{children:[r.jsx(ze,{label:"Bucket",id:"s3-bucket",value:P,onChange:k,placeholder:"my-backup-bucket",required:!0}),r.jsx(ze,{label:"Access Key ID",id:"s3-access-key",value:z,onChange:Q,placeholder:"AKIAIOSFODNN7EXAMPLE",required:!0}),r.jsx(ze,{label:"Secret Access Key",id:"s3-secret-key",value:B,onChange:W,type:"password",required:!0}),r.jsx(ze,{label:"Region",id:"s3-region",value:A,onChange:E,placeholder:"us-east-1",helpText:"Required for AWS S3"}),r.jsx(ze,{label:"Endpoint",id:"s3-endpoint",value:j,onChange:_,placeholder:"minio.example.com:9000",helpText:"For MinIO, Wasabi, or other S3-compatible services"}),r.jsx(ze,{label:"Prefix",id:"s3-prefix",value:L,onChange:O,placeholder:"backups/server1",helpText:"Optional path prefix within the bucket"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"s3-use-ssl",checked:se,onChange:bt=>ve(bt.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),r.jsx("label",{htmlFor:"s3-use-ssl",className:"text-sm text-gray-700",children:"Use SSL/TLS"})]})]});case"b2":return r.jsxs(r.Fragment,{children:[r.jsx(ze,{label:"Bucket",id:"b2-bucket",value:te,onChange:fe,placeholder:"my-backup-bucket",required:!0}),r.jsx(ze,{label:"Account ID",id:"b2-account-id",value:Re,onChange:Be,placeholder:"0012345678abcdef",required:!0}),r.jsx(ze,{label:"Application Key",id:"b2-app-key",value:Ke,onChange:Ee,type:"password",required:!0}),r.jsx(ze,{label:"Prefix",id:"b2-prefix",value:ce,onChange:je,placeholder:"backups/server1",helpText:"Optional path prefix within the bucket"})]});case"sftp":return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx("div",{className:"col-span-2",children:r.jsx(ze,{label:"Host",id:"sftp-host",value:H,onChange:ae,placeholder:"backup.example.com",required:!0})}),r.jsx(ze,{label:"Port",id:"sftp-port",value:G,onChange:R,placeholder:"22",type:"number"})]}),r.jsx(ze,{label:"Username",id:"sftp-user",value:D,onChange:V,placeholder:"backup",required:!0}),r.jsx(ze,{label:"Remote Path",id:"sftp-path",value:oe,onChange:de,placeholder:"/var/backups/restic",required:!0,helpText:"Absolute path on the remote server"}),r.jsx(ze,{label:"Password",id:"sftp-password",value:xe,onChange:Se,type:"password",helpText:"Password or private key required"}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"sftp-private-key",className:"block text-sm font-medium text-gray-700 mb-1",children:"Private Key"}),r.jsx("textarea",{id:"sftp-private-key",value:be,onChange:bt=>Le(bt.target.value),placeholder:"-----BEGIN OPENSSH PRIVATE KEY-----",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-xs",rows:4}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Paste your SSH private key (PEM format)"})]})]});case"rest":return r.jsxs(r.Fragment,{children:[r.jsx(ze,{label:"URL",id:"rest-url",value:st,onChange:sn,placeholder:"https://backup.example.com:8000",required:!0,helpText:"URL of the Restic REST server"}),r.jsx(ze,{label:"Username",id:"rest-username",value:Ps,onChange:an,placeholder:"backup",helpText:"Optional authentication"}),r.jsx(ze,{label:"Password",id:"rest-password",value:Fn,onChange:Ts,type:"password"})]});case"dropbox":return r.jsxs(r.Fragment,{children:[r.jsx(ze,{label:"Remote Name",id:"dropbox-remote-name",value:Ms,onChange:zn,placeholder:"dropbox",required:!0,helpText:"Name for the rclone remote configuration"}),r.jsx(ze,{label:"Path",id:"dropbox-path",value:Fs,onChange:An,placeholder:"/Backups/server1",helpText:"Path within your Dropbox"}),r.jsx(ze,{label:"Token",id:"dropbox-token",value:Nr,onChange:sr,type:"password",helpText:"OAuth token from rclone config (optional if rclone is pre-configured)"}),r.jsx(ze,{label:"App Key",id:"dropbox-app-key",value:On,onChange:zs,helpText:"Your Dropbox App Key (optional)"}),r.jsx(ze,{label:"App Secret",id:"dropbox-app-secret",value:As,onChange:Os,type:"password",helpText:"Your Dropbox App Secret (optional)"}),r.jsx("p",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded-lg",children:"Dropbox backend requires rclone to be installed on the agent. You can either pre-configure rclone with `rclone config` or provide the OAuth token here."})]});default:return null}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Repository"}),r.jsxs("form",{onSubmit:Ka,children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(ze,{label:"Name",id:"repo-name",value:d,onChange:h,placeholder:"e.g., primary-backup",required:!0}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"repo-type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{id:"repo-type",value:m,onChange:bt=>x(bt.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"local",children:"Local Filesystem"}),r.jsx("option",{value:"s3",children:"Amazon S3 / MinIO / Wasabi"}),r.jsx("option",{value:"b2",children:"Backblaze B2"}),r.jsx("option",{value:"sftp",children:"SFTP"}),r.jsx("option",{value:"rest",children:"Restic REST Server"}),r.jsx("option",{value:"dropbox",children:"Dropbox (via rclone)"})]})]}),r.jsx("hr",{className:"my-4"}),qa(),r.jsxs("div",{className:"flex items-start gap-3 pt-4",children:[r.jsx("input",{type:"checkbox",id:"escrow-enabled",checked:f,onChange:bt=>w(bt.target.checked),className:"mt-1 h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"escrow-enabled",className:"block text-sm font-medium text-gray-700",children:"Enable key escrow"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Store an encrypted copy of the password server-side for recovery by administrators"})]})]})]}),ln&&r.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm ${ln.success?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[ln.success?r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),r.jsx("span",{children:ln.message})]})}),ir.isError&&r.jsx("p",{className:"text-sm text-red-600 mt-4",children:"Failed to create repository. Please try again."}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsx("button",{type:"button",onClick:on,disabled:Dn.isPending,className:"px-4 py-2 text-indigo-600 border border-indigo-300 rounded-lg hover:bg-indigo-50 transition-colors disabled:opacity-50",children:Dn.isPending?"Testing...":"Test Connection"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{a(),kr()},className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:ir.isPending,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:ir.isPending?"Creating...":"Add Repository"})]})]})]})]})})}function zv(n){switch(n){case"passed":return{label:"Verified",className:"bg-green-100 text-green-800"};case"failed":return{label:"Failed",className:"bg-red-100 text-red-800"};case"running":return{label:"Running",className:"bg-blue-100 text-blue-800"};case"pending":return{label:"Pending",className:"bg-yellow-100 text-yellow-800"};default:return{label:"Not verified",className:"bg-gray-100 text-gray-600"}}}function f0(n){const a=new Date(n),c=new Date().getTime()-a.getTime(),d=Math.floor(c/6e4),h=Math.floor(d/60),m=Math.floor(h/24);return d<1?"just now":d<60?`${d}m ago`:h<24?`${h}h ago`:m<7?`${m}d ago`:nt(n)}function Av({repository:n,onDelete:a,onTest:l,onVerify:c,onRecoverKey:d,isDeleting:h,isTesting:m,isVerifying:x,isRecovering:f,testResult:w}){const b=fy(n.type),{data:g}=Pv(n.id),j=g==null?void 0:g.last_verification,_=zv(j==null?void 0:j.status),P=(g==null?void 0:g.consecutive_fails)??0;return r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:n.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",nt(n.created_at)]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[n.escrow_enabled&&r.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Escrow"}),r.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${b.className}`,children:b.label})]})]}),r.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Integrity"}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${_.className}`,children:_.label})]}),j&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Last checked: ",f0(j.started_at),j.status==="failed"&&j.error_message&&r.jsx("span",{className:"block text-red-600 mt-1 truncate",title:j.error_message,children:j.error_message})]}),P>0&&r.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[P," consecutive failure",P>1?"s":""]}),(g==null?void 0:g.next_scheduled_at)&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Next: ",f0(g.next_scheduled_at)]})]}),w&&r.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm ${w.success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:w.message}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("button",{type:"button",onClick:()=>c(n.id,"check"),disabled:x,className:"text-sm text-green-600 hover:text-green-800 font-medium disabled:opacity-50",children:x?"Verifying...":"Verify"}),r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("button",{type:"button",onClick:()=>l(n.id),disabled:m,className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium disabled:opacity-50",children:m?"Testing...":"Test"}),n.escrow_enabled&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("button",{type:"button",onClick:()=>d(n.id),disabled:f,className:"text-sm text-amber-600 hover:text-amber-800 font-medium disabled:opacity-50",children:f?"Recovering...":"Recover Key"})]}),r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("button",{type:"button",onClick:()=>a(n.id),disabled:h,className:"text-sm text-red-600 hover:text-red-800 font-medium disabled:opacity-50",children:"Delete"})]})]})}function Ov({isOpen:n,onClose:a,repositoryName:l,password:c}){const[d,h]=y.useState(!1),m=async()=>{await navigator.clipboard.writeText(c),h(!0),setTimeout(()=>h(!1),2e3)};return n?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recovered Password"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Password for repository: ",l]})]})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsx("code",{className:"text-sm font-mono break-all flex-1",children:c}),r.jsx("button",{type:"button",onClick:m,className:"flex-shrink-0 px-3 py-1.5 text-sm bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors",children:d?"Copied!":"Copy"})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Close"})})]})}):null}function Dv(){const[n,a]=y.useState(""),[l,c]=y.useState("all"),[d,h]=y.useState(!1),[m,x]=y.useState(void 0),[f,w]=y.useState({}),[b,g]=y.useState({isOpen:!1,repositoryName:"",password:""}),[j,_]=y.useState({isOpen:!1,repositoryName:"",password:""}),{data:P,isLoading:k,isError:L}=Ls(),O=Fy(),A=zy(),E=Tv(),z=Oy(),Q=P==null?void 0:P.filter(ce=>{const je=ce.name.toLowerCase().includes(n.toLowerCase()),Re=l==="all"||ce.type===l;return je&&Re}),B=ce=>{confirm("Are you sure you want to delete this repository?")&&O.mutate(ce)},W=async ce=>{try{const je=await A.mutateAsync(ce);w(Re=>({...Re,[ce]:je}))}catch{w(je=>({...je,[ce]:{success:!1,message:"Connection test failed"}}))}},se=(ce,je)=>{E.mutate({repoId:ce,type:je})},ve=async ce=>{try{const je=await z.mutateAsync(ce);_({isOpen:!0,repositoryName:je.repository_name,password:je.password})}catch{alert("Failed to recover key. You may not have permission.")}},te=ce=>{x(ce),h(!0)},fe=ce=>{h(!1),x(void 0),g({isOpen:!0,repositoryName:ce.repository.name,password:ce.password})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Repositories"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Configure backup storage destinations"})]}),r.jsxs("button",{type:"button",onClick:()=>{x(void 0),h(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Repository"]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("input",{type:"text",placeholder:"Search repositories...",value:n,onChange:ce=>a(ce.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsxs("select",{value:l,onChange:ce=>c(ce.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"local",children:"Local"}),r.jsx("option",{value:"s3",children:"Amazon S3"}),r.jsx("option",{value:"b2",children:"Backblaze B2"}),r.jsx("option",{value:"sftp",children:"SFTP"}),r.jsx("option",{value:"rest",children:"REST Server"}),r.jsx("option",{value:"dropbox",children:"Dropbox"})]})]})}),L?r.jsxs("div",{className:"p-12 text-center text-red-500",children:[r.jsx("p",{className:"font-medium",children:"Failed to load repositories"}),r.jsx("p",{className:"text-sm",children:"Please try refreshing the page"})]}):k?r.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsx(gc,{}),r.jsx(gc,{}),r.jsx(gc,{})]}):Q&&Q.length>0?r.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Q.map(ce=>r.jsx(Av,{repository:ce,onDelete:B,onTest:W,onVerify:se,onRecoverKey:ve,isDeleting:O.isPending,isTesting:A.isPending,isVerifying:E.isPending,isRecovering:z.isPending,testResult:f[ce.id]},ce.id))}):r.jsxs("div",{className:"p-12 text-center text-gray-500",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No repositories configured"}),r.jsx("p",{className:"mb-4",children:"Add a repository to store your backup data"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[r.jsxs("button",{type:"button",onClick:()=>te("local"),className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 cursor-pointer transition-colors text-left",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Local"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Filesystem path"})]}),r.jsxs("button",{type:"button",onClick:()=>te("s3"),className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 cursor-pointer transition-colors text-left",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"S3"}),r.jsx("p",{className:"text-xs text-gray-500",children:"AWS / MinIO / Wasabi"})]}),r.jsxs("button",{type:"button",onClick:()=>te("b2"),className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 cursor-pointer transition-colors text-left",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"B2"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Backblaze"})]}),r.jsxs("button",{type:"button",onClick:()=>te("sftp"),className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 cursor-pointer transition-colors text-left",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"SFTP"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Remote server"})]}),r.jsxs("button",{type:"button",onClick:()=>te("rest"),className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 cursor-pointer transition-colors text-left",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"REST"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Restic REST server"})]}),r.jsxs("button",{type:"button",onClick:()=>te("dropbox"),className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 cursor-pointer transition-colors text-left",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Dropbox"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Via rclone"})]})]})]})]}),r.jsx(Fv,{isOpen:d,onClose:()=>{h(!1),x(void 0)},onSuccess:fe,initialType:m}),r.jsx(Mv,{isOpen:b.isOpen,onClose:()=>g({isOpen:!1,repositoryName:"",password:""}),repositoryName:b.repositoryName,password:b.password}),r.jsx(Ov,{isOpen:j.isOpen,onClose:()=>_({isOpen:!1,repositoryName:"",password:""}),repositoryName:j.repositoryName,password:j.password})]})}function rl(){return r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-pulse",children:[r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded mb-1"}),r.jsx("div",{className:"h-3 w-20 bg-gray-100 rounded"})]})}function Iv(){const{id:n}=Kx(),[a,l]=y.useState(30),[c,d]=y.useState(30),{data:h,isLoading:m}=lv(n??""),{data:x,isLoading:f}=ov(n??"",a),{data:w,isLoading:b}=cv(n??"",c),g=h==null?void 0:h.stats,j=h==null?void 0:h.repository_name,_=(x==null?void 0:x.growth)??[],P=(w==null?void 0:w.history)??[];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(zt,{to:"/stats",className:"text-gray-500 hover:text-gray-700 transition-colors",children:r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:j??"Repository Statistics"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Detailed storage efficiency metrics"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m?r.jsxs(r.Fragment,{children:[r.jsx(rl,{}),r.jsx(rl,{}),r.jsx(rl,{}),r.jsx(rl,{})]}):g?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dedup Ratio"}),r.jsx("p",{className:`text-3xl font-bold mt-1 ${La(g.dedup_ratio)}`,children:Ra(g.dedup_ratio)}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Compression factor"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Space Saved"}),r.jsx("p",{className:`text-3xl font-bold mt-1 ${Pa(g.space_saved_pct)}`,children:Te(g.space_saved)}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[us(g.space_saved_pct)," of original"]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Actual Storage"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Te(g.raw_data_size)}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"On disk"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Original Size"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Te(g.restore_size)}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[g.snapshot_count," snapshots"]})]})]}):r.jsx("div",{className:"col-span-4 text-center py-8 text-gray-500",children:"No statistics available for this repository"})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Storage Growth"}),r.jsxs("select",{value:a,onChange:k=>l(Number(k.target.value)),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:7,children:"Last 7 days"}),r.jsx("option",{value:30,children:"Last 30 days"}),r.jsx("option",{value:90,children:"Last 90 days"}),r.jsx("option",{value:365,children:"Last year"})]})]}),f?r.jsx("div",{className:"h-48 bg-gray-100 rounded animate-pulse"}):_.length>0?r.jsxs("div",{className:"h-48",children:[r.jsx("div",{className:"flex items-end justify-between h-full gap-1",children:_.map(k=>{const L=Math.max(..._.map(E=>E.restore_size)),O=L>0?k.raw_data_size/L*100:0,A=L>0?k.restore_size/L*100:0;return r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end h-full",children:[r.jsxs("div",{className:"w-full flex flex-col items-center justify-end relative h-36",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-t absolute bottom-0",style:{height:`${A}%`},title:`Original: ${Te(k.restore_size)}`}),r.jsx("div",{className:"w-full bg-indigo-500 rounded-t absolute bottom-0",style:{height:`${O}%`},title:`Stored: ${Te(k.raw_data_size)}`})]}),r.jsx("span",{className:"text-xs text-gray-500 mt-2 whitespace-nowrap",children:hp(k.date)})]},k.date)})}),r.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Stored"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-200 rounded"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Original"})]})]})]}):r.jsx("div",{className:"h-48 flex items-center justify-center text-gray-500",children:r.jsx("p",{className:"text-sm",children:"No growth data available"})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Dedup Efficiency"})}),g?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Storage used"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:us(g.restore_size>0?g.raw_data_size/g.restore_size*100:0)})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-indigo-500 h-3 rounded-full transition-all",style:{width:`${g.restore_size>0?Math.min(g.raw_data_size/g.restore_size*100,100):0}%`}})}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:[Te(g.raw_data_size)," stored"]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[Te(g.restore_size)," original"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Files"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:g.total_file_count.toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Snapshots"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:g.snapshot_count})]})]})]}):r.jsx("div",{className:"h-48 flex items-center justify-center text-gray-500",children:r.jsx("p",{className:"text-sm",children:"No data available"})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Collection History"}),r.jsxs("select",{value:c,onChange:k=>d(Number(k.target.value)),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:10,children:"Last 10"}),r.jsx("option",{value:30,children:"Last 30"}),r.jsx("option",{value:90,children:"Last 90"}),r.jsx("option",{value:365,children:"Last year"})]})]}),b?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(k=>r.jsx("div",{className:"h-12 bg-gray-100 rounded"},k))})}):P.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collected At"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dedup Ratio"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Space Saved"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actual Size"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Size"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Snapshots"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(k=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:nr(k.collected_at)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`text-sm font-medium ${La(k.dedup_ratio)}`,children:Ra(k.dedup_ratio)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:Te(k.space_saved)}),r.jsxs("span",{className:`ml-2 text-xs ${Pa(k.space_saved_pct)}`,children:["(",us(k.space_saved_pct),")"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Te(k.raw_data_size)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Te(k.restore_size)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.snapshot_count})]},k.id))})]})}):r.jsx("div",{className:"p-12 text-center text-gray-500",children:r.jsx("p",{children:"No collection history available"})})]})]})}function $v(n){return _e({queryKey:["restores",n],queryFn:()=>lp.list(n),staleTime:30*1e3})}function Uv(){const n=ge();return pe({mutationFn:a=>lp.create(a),onSuccess:()=>{n.invalidateQueries({queryKey:["restores"]})}})}function Bv(n){return _e({queryKey:["snapshots",n],queryFn:()=>ip.list(n),staleTime:30*1e3})}function Kv(n,a){return _e({queryKey:["snapshots",n,"files",""],queryFn:()=>ip.listFiles(n,a),enabled:!!n,staleTime:60*1e3})}function cs(){return r.jsxs("tr",{className:"animate-pulse",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-28 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded inline-block"})})]})}function gp(n){switch(n){case"completed":return{bg:"bg-green-100",text:"text-green-800",dot:"bg-green-500"};case"running":return{bg:"bg-blue-100",text:"text-blue-800",dot:"bg-blue-500"};case"pending":return{bg:"bg-yellow-100",text:"text-yellow-800",dot:"bg-yellow-500"};case"failed":return{bg:"bg-red-100",text:"text-red-800",dot:"bg-red-500"};case"canceled":return{bg:"bg-gray-100",text:"text-gray-600",dot:"bg-gray-400"};default:return{bg:"bg-gray-100",text:"text-gray-600",dot:"bg-gray-400"}}}function qv({snapshot:n,agentName:a,repoName:l,onSelect:c}){return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("code",{className:"text-sm font-mono text-gray-900",children:n.short_id})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a??"Unknown"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l??"Unknown"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:Te(n.size_bytes)}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:nt(n.time)}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("button",{type:"button",onClick:()=>c(n),className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"Restore"})})]})}function Qv({restore:n,agentName:a,onViewDetails:l}){const c=gp(n.status);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("code",{className:"text-sm font-mono text-gray-900",children:n.snapshot_id.substring(0,8)})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a??"Unknown"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:n.target_path}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${c.bg} ${c.text}`,children:[r.jsx("span",{className:`w-1.5 h-1.5 ${c.dot} rounded-full`}),n.status]})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:nt(n.created_at)}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("button",{type:"button",onClick:()=>l(n),className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"Details"})})]})}function Wv({restore:n,agentName:a,onClose:l}){const c=gp(n.status);return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Restore Details"}),r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${c.bg} ${c.text}`,children:[r.jsx("span",{className:`w-1.5 h-1.5 ${c.dot} rounded-full`}),n.status]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Snapshot ID"}),r.jsx("p",{className:"font-mono text-gray-900",children:n.snapshot_id})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Agent"}),r.jsx("p",{className:"text-gray-900",children:a??"Unknown"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Created"}),r.jsx("p",{className:"text-gray-900",children:nr(n.created_at)})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Target Path"}),r.jsx("p",{className:"font-mono text-gray-900 break-all",children:n.target_path})]}),n.include_paths&&n.include_paths.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Included Paths"}),r.jsx("ul",{className:"list-disc list-inside text-sm text-gray-900",children:n.include_paths.map(d=>r.jsx("li",{className:"font-mono truncate",children:d},d))})]}),n.started_at&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Started"}),r.jsx("p",{className:"text-gray-900",children:nr(n.started_at)})]}),n.completed_at&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed"}),r.jsx("p",{className:"text-gray-900",children:nr(n.completed_at)})]})]}),n.error_message&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Error"}),r.jsx("p",{className:"text-red-600 bg-red-50 p-3 rounded-lg text-sm",children:n.error_message})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})})}function Hv({file:n,selectedPaths:a,onToggle:l,depth:c}){const d=a.has(n.path);return r.jsxs("div",{className:"flex items-center py-1 hover:bg-gray-50 rounded",style:{paddingLeft:`${c*16+8}px`},children:[r.jsx("input",{type:"checkbox",checked:d,onChange:()=>l(n.path),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),r.jsxs("span",{className:"ml-2 flex items-center",children:[n.type==="dir"?r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4 text-yellow-500 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}):r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4 text-gray-400 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("span",{className:"text-sm text-gray-900",children:n.name})]}),r.jsx("span",{className:"ml-auto text-xs text-gray-500",children:n.type==="file"?Te(n.size):""})]})}function Vv({snapshot:n,agentName:a,repoName:l,onClose:c,onSubmit:d,isSubmitting:h}){const[m,x]=y.useState(""),[f,w]=y.useState(!0),[b,g]=y.useState(new Set),{data:j}=Kv(n.id),_=k=>{const L=new Set(b);L.has(k)?L.delete(k):L.add(k),g(L)},P=k=>{k.preventDefault();const L=f?"/":m,O=Array.from(b);d(L,O)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Restore Snapshot"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Snapshot ",n.short_id," from ",nr(n.time)]})]}),r.jsxs("form",{onSubmit:P,className:"flex flex-col flex-1 overflow-hidden",children:[r.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Agent"}),r.jsx("p",{className:"text-gray-900",children:a??"Unknown"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Repository"}),r.jsx("p",{className:"text-gray-900",children:l??"Unknown"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Backed up paths"}),r.jsx("ul",{className:"list-disc list-inside text-sm text-gray-900",children:n.paths.map(k=>r.jsx("li",{className:"font-mono",children:k},k))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Restore Destination"}),r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",checked:f,onChange:()=>w(!0),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),r.jsx("span",{className:"ml-2 text-sm text-gray-900",children:"Original location"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",checked:!f,onChange:()=>w(!1),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),r.jsx("span",{className:"ml-2 text-sm text-gray-900",children:"Custom location"})]}),!f&&r.jsx("input",{type:"text",value:m,onChange:k=>x(k.target.value),placeholder:"/path/to/restore",className:"mt-2 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Select files to restore (optional)"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1 mb-2",children:"Leave empty to restore all files"}),r.jsx("div",{className:"border border-gray-200 rounded-lg p-2 max-h-48 overflow-y-auto bg-gray-50",children:j!=null&&j.files&&j.files.length>0?j.files.map(k=>r.jsx(Hv,{file:k,selectedPaths:b,onToggle:_,depth:0},k.path)):r.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:(j==null?void 0:j.message)||"File listing not available. All files will be restored."})}),b.size>0&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[b.size," item(s) selected"]})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:c,disabled:h,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:h||!f&&!m,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:h?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{"aria-hidden":"true",className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Starting..."]}):"Start Restore"})]})]})]})})}function Gv(){const[n,a]=y.useState("snapshots"),[l,c]=y.useState("all"),[d,h]=y.useState("all"),[m,x]=y.useState(null),[f,w]=y.useState(null),{data:b}=Rs(),{data:g}=Ls(),{data:j,isLoading:_,isError:P}=Bv({agent_id:l!=="all"?l:void 0,repository_id:d!=="all"?d:void 0}),{data:k,isLoading:L,isError:O}=$v({agent_id:l!=="all"?l:void 0}),A=Uv(),E=new Map(b==null?void 0:b.map(B=>[B.id,B.hostname])),z=new Map(g==null?void 0:g.map(B=>[B.id,B.name])),Q=(B,W)=>{m&&A.mutate({snapshot_id:m.id,agent_id:m.agent_id,repository_id:m.repository_id,target_path:B,include_paths:W.length>0?W:void 0},{onSuccess:()=>{x(null),a("restores")}})};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Restore"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Browse snapshots and restore files"})]})}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsx("button",{type:"button",onClick:()=>a("snapshots"),className:`py-4 px-1 border-b-2 font-medium text-sm ${n==="snapshots"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Snapshots"}),r.jsx("button",{type:"button",onClick:()=>a("restores"),className:`py-4 px-1 border-b-2 font-medium text-sm ${n==="restores"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Restore Jobs"})]})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("select",{value:l,onChange:B=>c(B.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Agents"}),b==null?void 0:b.map(B=>r.jsx("option",{value:B.id,children:B.hostname},B.id))]}),n==="snapshots"&&r.jsxs("select",{value:d,onChange:B=>h(B.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Repositories"}),g==null?void 0:g.map(B=>r.jsx("option",{value:B.id,children:B.name},B.id))]})]})}),r.jsx("div",{className:"overflow-x-auto",children:n==="snapshots"?P?r.jsxs("div",{className:"p-12 text-center text-red-500",children:[r.jsx("p",{className:"font-medium",children:"Failed to load snapshots"}),r.jsx("p",{className:"text-sm",children:"Please try refreshing the page"})]}):_?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Snapshot ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Repository"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r.jsx(cs,{}),r.jsx(cs,{}),r.jsx(cs,{})]})]}):j&&j.length>0?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Snapshot ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Repository"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:j.map(B=>r.jsx(qv,{snapshot:B,agentName:E.get(B.agent_id),repoName:z.get(B.repository_id),onSelect:x},B.id))})]}):r.jsxs("div",{className:"p-12 text-center text-gray-500",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),r.jsx("p",{className:"font-medium text-gray-900",children:"No snapshots found"}),r.jsx("p",{className:"text-sm",children:"Snapshots will appear here once backups complete"})]}):O?r.jsxs("div",{className:"p-12 text-center text-red-500",children:[r.jsx("p",{className:"font-medium",children:"Failed to load restore jobs"}),r.jsx("p",{className:"text-sm",children:"Please try refreshing the page"})]}):L?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Snapshot ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target Path"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r.jsx(cs,{}),r.jsx(cs,{}),r.jsx(cs,{})]})]}):k&&k.length>0?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Snapshot ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target Path"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:k.map(B=>r.jsx(Qv,{restore:B,agentName:E.get(B.agent_id),onViewDetails:w},B.id))})]}):r.jsxs("div",{className:"p-12 text-center text-gray-500",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r.jsx("p",{className:"font-medium text-gray-900",children:"No restore jobs"}),r.jsx("p",{className:"text-sm",children:"Select a snapshot to start a restore operation"})]})})]}),m&&r.jsx(Vv,{snapshot:m,agentName:E.get(m.agent_id),repoName:z.get(m.repository_id),onClose:()=>x(null),onSubmit:Q,isSubmitting:A.isPending}),f&&r.jsx(Wv,{restore:f,agentName:E.get(f.agent_id),onClose:()=>w(null)})]})}function Jv({repositories:n,selectedRepos:a,onChange:l}){const[c,d]=y.useState(""),h=()=>{if(!c)return;if(a.some(_=>_.repository_id===c)){d("");return}const j={repository_id:c,priority:a.length,enabled:!0};l([...a,j]),d("")},m=j=>{const _=a.filter(P=>P.repository_id!==j).map((P,k)=>({...P,priority:k}));l(_)},x=j=>{if(j===0)return;const _=[...a];[_[j-1],_[j]]=[_[j],_[j-1]],l(_.map((P,k)=>({...P,priority:k})))},f=j=>{if(j===a.length-1)return;const _=[...a];[_[j],_[j+1]]=[_[j+1],_[j]],l(_.map((P,k)=>({...P,priority:k})))},w=j=>{const _=a.map(P=>P.repository_id===j?{...P,enabled:!P.enabled}:P);l(_)},b=j=>{const _=n.find(P=>P.id===j);return _?`${_.name} (${_.type})`:"Unknown"},g=n.filter(j=>!a.some(_=>_.repository_id===j.id));return r.jsxs("div",{className:"space-y-3",children:[r.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Repositories (ordered by priority)"}),a.length>0&&r.jsxs("div",{className:"space-y-2 border border-gray-200 rounded-lg p-3 bg-gray-50",children:[a.map((j,_)=>r.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg px-3 py-2 border border-gray-200",children:[r.jsx("span",{className:`flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-full text-xs font-medium ${_===0?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600"}`,children:_===0?"P":_}),r.jsx("span",{className:`flex-1 text-sm ${j.enabled?"text-gray-900":"text-gray-400 line-through"}`,children:b(j.repository_id)}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{type:"button",onClick:()=>w(j.repository_id),className:`p-1 rounded ${j.enabled?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:j.enabled?"Disable":"Enable",children:j.enabled?r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})}),r.jsx("button",{type:"button",onClick:()=>x(_),disabled:_===0,className:"p-1 rounded text-gray-400 hover:text-gray-600 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),r.jsx("button",{type:"button",onClick:()=>f(_),disabled:_===a.length-1,className:"p-1 rounded text-gray-400 hover:text-gray-600 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),r.jsx("button",{type:"button",onClick:()=>m(j.repository_id),className:"p-1 rounded text-red-400 hover:text-red-600 hover:bg-red-50",title:"Remove",children:r.jsx("svg",{"aria-hidden":"true",className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]},j.repository_id)),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"P = Primary repository. Backups go to primary first, then replicate to secondaries."})]}),g.length>0&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:c,onChange:j=>d(j.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"",children:"Select a repository to add..."}),g.map(j=>r.jsxs("option",{value:j.id,children:[j.name," (",j.type,")"]},j.id))]}),r.jsx("button",{type:"button",onClick:h,disabled:!c,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"})]}),a.length===0&&r.jsx("p",{className:"text-sm text-amber-600",children:"Please add at least one repository for backups."})]})}function yc(){return r.jsxs("tr",{className:"animate-pulse",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded-full"})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded inline-block"})})]})}function Yv({isOpen:n,onClose:a}){const[l,c]=y.useState(""),[d,h]=y.useState(""),[m,x]=y.useState([]),[f,w]=y.useState("0 2 * * *"),[b,g]=y.useState("/home"),[j,_]=y.useState(!1),[P,k]=y.useState(5),[L,O]=y.useState(7),[A,E]=y.useState(4),[z,Q]=y.useState(6),[B,W]=y.useState(0),[se,ve]=y.useState(""),[te,fe]=y.useState(""),[ce,je]=y.useState(""),[Re,Be]=y.useState([]),[Ke,Ee]=y.useState(!1),{data:H}=Rs(),{data:ae}=Ls(),G=Dy(),R=V=>{Be(oe=>oe.includes(V)?oe.filter(de=>de!==V):[...oe,V])},D=async V=>{if(V.preventDefault(),m.length!==0)try{const oe=j?{keep_last:P>0?P:void 0,keep_daily:L>0?L:void 0,keep_weekly:A>0?A:void 0,keep_monthly:z>0?z:void 0,keep_yearly:B>0?B:void 0}:void 0,de={name:l,agent_id:d,repositories:m,cron_expression:f,paths:b.split(`
`).filter(xe=>xe.trim()),retention_policy:oe,enabled:!0};se&&Number.parseInt(se,10)>0&&(de.bandwidth_limit_kb=Number.parseInt(se,10)),(te||ce)&&(de.backup_window={start:te||void 0,end:ce||void 0}),Re.length>0&&(de.excluded_hours=Re),await G.mutateAsync(de),a(),c(""),h(""),x([]),w("0 2 * * *"),g("/home"),_(!1),k(5),O(7),E(4),Q(6),W(0),ve(""),fe(""),je(""),Be([]),Ee(!1)}catch{}};return n?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Schedule"}),r.jsxs("form",{onSubmit:D,children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"schedule-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("input",{type:"text",id:"schedule-name",value:l,onChange:V=>c(V.target.value),placeholder:"e.g., Daily Home Backup",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"schedule-agent",className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent"}),r.jsxs("select",{id:"schedule-agent",value:d,onChange:V=>h(V.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[r.jsx("option",{value:"",children:"Select an agent"}),H==null?void 0:H.map(V=>r.jsx("option",{value:V.id,children:V.hostname},V.id))]})]}),r.jsx("div",{children:r.jsx(Jv,{repositories:ae??[],selectedRepos:m,onChange:x})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"schedule-cron",className:"block text-sm font-medium text-gray-700 mb-1",children:"Schedule (Cron Expression)"}),r.jsx("input",{type:"text",id:"schedule-cron",value:f,onChange:V=>w(V.target.value),placeholder:"0 2 * * *",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono",required:!0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Examples: 0 2 * * * (daily at 2 AM), 0 */6 * * * (every 6 hours)"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"schedule-paths",className:"block text-sm font-medium text-gray-700 mb-1",children:"Paths to Backup (one per line)"}),r.jsx("textarea",{id:"schedule-paths",value:b,onChange:V=>g(V.target.value),placeholder:`/home
/etc
/var/www`,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono",required:!0})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Retention Policy"}),r.jsx("button",{type:"button",onClick:()=>_(!j),className:"text-sm text-indigo-600 hover:text-indigo-800",children:j?"Use defaults":"Customize"})]}),j?r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"keep-last",className:"block text-xs font-medium text-gray-600 mb-1",children:"Keep Last"}),r.jsx("input",{type:"number",id:"keep-last",min:"0",value:P,onChange:V=>k(Number.parseInt(V.target.value,10)||0),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"keep-daily",className:"block text-xs font-medium text-gray-600 mb-1",children:"Keep Daily"}),r.jsx("input",{type:"number",id:"keep-daily",min:"0",value:L,onChange:V=>O(Number.parseInt(V.target.value,10)||0),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"keep-weekly",className:"block text-xs font-medium text-gray-600 mb-1",children:"Keep Weekly"}),r.jsx("input",{type:"number",id:"keep-weekly",min:"0",value:A,onChange:V=>E(Number.parseInt(V.target.value,10)||0),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"keep-monthly",className:"block text-xs font-medium text-gray-600 mb-1",children:"Keep Monthly"}),r.jsx("input",{type:"number",id:"keep-monthly",min:"0",value:z,onChange:V=>Q(Number.parseInt(V.target.value,10)||0),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"keep-yearly",className:"block text-xs font-medium text-gray-600 mb-1",children:"Keep Yearly"}),r.jsx("input",{type:"number",id:"keep-yearly",min:"0",value:B,onChange:V=>W(Number.parseInt(V.target.value,10)||0),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}):r.jsx("p",{className:"text-sm text-gray-500",children:"Using default policy: Keep last 5, 7 daily, 4 weekly, 6 monthly"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Retention policy automatically removes old backups to save storage space."})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsxs("button",{type:"button",onClick:()=>Ee(!Ke),className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:[r.jsx("svg",{className:`w-4 h-4 transition-transform ${Ke?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Advanced Settings"]}),Ke&&r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"bandwidth-limit",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bandwidth Limit (KB/s)"}),r.jsx("input",{type:"number",id:"bandwidth-limit",value:se,onChange:V=>ve(V.target.value),placeholder:"e.g., 1024 (leave empty for unlimited)",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Limit upload speed during backups. Leave empty for unlimited."})]}),r.jsxs("fieldset",{children:[r.jsx("legend",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Backup Window"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"time",value:te,onChange:V=>fe(V.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500","aria-label":"Window start time"}),r.jsx("span",{className:"text-gray-500",children:"to"}),r.jsx("input",{type:"time",value:ce,onChange:V=>je(V.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500","aria-label":"Window end time"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only run backups within this time window. Leave empty to allow any time."})]}),r.jsxs("fieldset",{children:[r.jsx("legend",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excluded Hours"}),r.jsx("div",{className:"grid grid-cols-6 gap-1",children:Array.from({length:24},(V,oe)=>r.jsx("button",{type:"button",onClick:()=>R(oe),className:`px-2 py-1 text-xs rounded transition-colors ${Re.includes(oe)?"bg-red-100 text-red-800 border border-red-300":"bg-gray-100 text-gray-600 border border-gray-200 hover:bg-gray-200"}`,children:oe.toString().padStart(2,"0")},oe))}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to exclude hours when backups should not run."})]})]})]})]}),G.isError&&r.jsx("p",{className:"text-sm text-red-600 mt-4",children:"Failed to create schedule. Please try again."}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:G.isPending,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:G.isPending?"Creating...":"Create Schedule"})]})]})]})}):null}function Xv(n){return n?n>=1024?`${(n/1024).toFixed(1)} MB/s`:`${n} KB/s`:"Unlimited"}function x0(n){if(!n||!n.start&&!n.end)return null;const a=n.start||"00:00",l=n.end||"23:59";return`${a} - ${l}`}function Zv({schedule:n,agentName:a,repoNames:l,onToggle:c,onDelete:d,onRun:h,isUpdating:m,isDeleting:x,isRunning:f}){const w=n.bandwidth_limit_kb||n.backup_window||n.excluded_hours&&n.excluded_hours.length>0;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:n.name}),r.jsxs("div",{className:"text-sm text-gray-500",children:[a??"Unknown Agent"," "," ",l.length>0?l.join(", "):"No repos"]}),w&&r.jsxs("div",{className:"mt-1 flex flex-wrap gap-1.5",children:[n.bandwidth_limit_kb&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-blue-50 text-blue-700 rounded",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),Xv(n.bandwidth_limit_kb)]}),x0(n.backup_window)&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-purple-50 text-purple-700 rounded",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),x0(n.backup_window)]}),n.excluded_hours&&n.excluded_hours.length>0&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-amber-50 text-amber-700 rounded",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636"})}),n.excluded_hours.length," excluded hour",n.excluded_hours.length!==1?"s":""]})]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded font-mono",children:n.cron_expression})}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500",children:[n.paths.length," path",n.paths.length!==1?"s":""]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("button",{type:"button",onClick:()=>c(n.id,!n.enabled),disabled:m,className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors ${n.enabled?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[r.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${n.enabled?"bg-green-500":"bg-gray-400"}`}),n.enabled?"Active":"Paused"]})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>h(n.id),disabled:f,className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium disabled:opacity-50",children:f?"Running...":"Run Now"}),r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("button",{type:"button",onClick:()=>d(n.id),disabled:x,className:"text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50",children:"Delete"})]})})]})}function e1(){const[n,a]=y.useState(""),[l,c]=y.useState("all"),[d,h]=y.useState(!1),{data:m,isLoading:x,isError:f}=ml(),{data:w}=Rs(),{data:b}=Ls(),g=Iy(),j=$y(),_=Uy(),P=new Map(w==null?void 0:w.map(z=>[z.id,z.hostname])),k=new Map(b==null?void 0:b.map(z=>[z.id,z.name])),L=m==null?void 0:m.filter(z=>{const Q=z.name.toLowerCase().includes(n.toLowerCase()),B=l==="all"||l==="active"&&z.enabled||l==="paused"&&!z.enabled;return Q&&B}),O=(z,Q)=>{g.mutate({id:z,data:{enabled:Q}})},A=z=>{confirm("Are you sure you want to delete this schedule?")&&j.mutate(z)},E=z=>{_.mutate(z)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Schedules"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Configure automated backup jobs"})]}),r.jsxs("button",{type:"button",onClick:()=>h(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Schedule"]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("input",{type:"text",placeholder:"Search schedules...",value:n,onChange:z=>a(z.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),r.jsxs("select",{value:l,onChange:z=>c(z.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"paused",children:"Paused"})]})]})}),f?r.jsxs("div",{className:"p-12 text-center text-red-500",children:[r.jsx("p",{className:"font-medium",children:"Failed to load schedules"}),r.jsx("p",{className:"text-sm",children:"Please try refreshing the page"})]}):x?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schedule"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cron"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paths"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r.jsx(yc,{}),r.jsx(yc,{}),r.jsx(yc,{})]})]}):L&&L.length>0?r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schedule"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cron"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paths"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:L.map(z=>{const Q=(z.repositories??[]).sort((B,W)=>B.priority-W.priority).map(B=>k.get(B.repository_id)??"Unknown");return r.jsx(Zv,{schedule:z,agentName:P.get(z.agent_id),repoNames:Q,onToggle:O,onDelete:A,onRun:E,isUpdating:g.isPending,isDeleting:j.isPending,isRunning:_.isPending},z.id)})})]}):r.jsxs("div",{className:"p-12 text-center text-gray-500",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No schedules configured"}),r.jsx("p",{className:"mb-4",children:"Create a schedule to automate your backups"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-w-md mx-auto text-left space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Common schedules:"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-mono bg-gray-200 px-1 rounded",children:"0 2 * * *"})," "," Daily at 2 AM"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-mono bg-gray-200 px-1 rounded",children:"0 */6 * * *"})," "," Every 6 hours"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-mono bg-gray-200 px-1 rounded",children:"0 3 * * 0"})," "," Weekly on Sunday"]})]})]})]})]}),r.jsx(Yv,{isOpen:d,onClose:()=>h(!1)})]})}function nl(){return r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-pulse",children:[r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded mb-1"}),r.jsx("div",{className:"h-3 w-20 bg-gray-100 rounded"})]})}function t1(){return r.jsx("div",{className:"animate-pulse",children:[1,2,3].map(n=>r.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[r.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})]},n))})}function r1(){const[n,a]=y.useState(30),{data:l,isLoading:c}=fp(),{data:d,isLoading:h}=iv(),{data:m,isLoading:x}=av(n);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Storage Statistics"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor storage efficiency and deduplication across your repositories"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c?r.jsxs(r.Fragment,{children:[r.jsx(nl,{}),r.jsx(nl,{}),r.jsx(nl,{}),r.jsx(nl,{})]}):l?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Dedup Ratio"}),r.jsx("p",{className:`text-3xl font-bold mt-1 ${La(l.avg_dedup_ratio)}`,children:Ra(l.avg_dedup_ratio)}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Across ",l.repository_count," repositories"]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Space Saved"}),r.jsx("p",{className:`text-3xl font-bold mt-1 ${Pa(l.total_restore_size>0?l.total_space_saved/l.total_restore_size*100:0)}`,children:Te(l.total_space_saved)}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[us(l.total_restore_size>0?l.total_space_saved/l.total_restore_size*100:0)," ","savings"]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Actual Storage Used"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Te(l.total_raw_size)}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["From ",Te(l.total_restore_size)," original"]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Snapshots"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:l.total_snapshots}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.repository_count," repositories"]})]})]}):r.jsx("div",{className:"col-span-4 text-center py-8 text-gray-500",children:"No storage statistics available yet"})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Storage Growth"}),r.jsxs("select",{value:n,onChange:f=>a(Number(f.target.value)),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:7,children:"Last 7 days"}),r.jsx("option",{value:30,children:"Last 30 days"}),r.jsx("option",{value:90,children:"Last 90 days"}),r.jsx("option",{value:365,children:"Last year"})]})]}),x?r.jsx("div",{className:"h-64 bg-gray-100 rounded animate-pulse"}):m&&m.length>0?r.jsxs("div",{className:"h-64",children:[r.jsx("div",{className:"flex items-end justify-between h-full gap-1",children:m.map(f=>{const w=Math.max(...m.map(j=>j.restore_size)),b=w>0?f.raw_data_size/w*100:0,g=w>0?f.restore_size/w*100:0;return r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end h-full",children:[r.jsxs("div",{className:"w-full flex flex-col items-center justify-end relative h-52",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-t absolute bottom-0",style:{height:`${g}%`},title:`Original: ${Te(f.restore_size)}`}),r.jsx("div",{className:"w-full bg-indigo-500 rounded-t absolute bottom-0",style:{height:`${b}%`},title:`Stored: ${Te(f.raw_data_size)}`})]}),r.jsx("span",{className:"text-xs text-gray-500 mt-2 whitespace-nowrap",children:hp(f.date)})]},f.date)})}),r.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Actual storage"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-200 rounded"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Original data"})]})]})]}):r.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),r.jsx("p",{children:"No growth data available"}),r.jsx("p",{className:"text-sm",children:"Data will appear after stats are collected"})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Repository Statistics"})}),h?r.jsx("div",{className:"p-6",children:r.jsx(t1,{})}):d&&d.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Repository"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dedup Ratio"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Space Saved"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actual Size"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Size"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Snapshots"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(f=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(zt,{to:`/stats/${f.repository_id}`,className:"text-sm font-medium text-indigo-600 hover:text-indigo-800",children:f.repository_name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`text-sm font-medium ${La(f.dedup_ratio)}`,children:Ra(f.dedup_ratio)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:Te(f.space_saved)}),r.jsxs("span",{className:`ml-2 text-xs ${Pa(f.space_saved_pct)}`,children:["(",us(f.space_saved_pct),")"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Te(f.raw_data_size)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Te(f.restore_size)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.snapshot_count}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:nt(f.collected_at)})]},f.id))})]})}):r.jsxs("div",{className:"p-12 text-center text-gray-500",children:[r.jsx("svg",{"aria-hidden":"true",className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),r.jsx("p",{children:"No repository statistics yet"}),r.jsx("p",{className:"text-sm",children:"Statistics will be collected automatically once backups run"})]})]})]})}const n1=new Wf({defaultOptions:{queries:{retry:(n,a)=>{if(a instanceof Error&&"status"in a){const l=a.status;if(l>=400&&l<500)return!1}return n<3},refetchOnWindowFocus:!1}}});function s1(){return r.jsx(Hf,{client:n1,children:r.jsx(Rg,{children:r.jsx(ag,{children:r.jsxs(rt,{path:"/",element:r.jsx(iy,{}),children:[r.jsx(rt,{index:!0,element:r.jsx(uv,{})}),r.jsx(rt,{path:"agents",element:r.jsx(Cy,{})}),r.jsx(rt,{path:"repositories",element:r.jsx(Dv,{})}),r.jsx(rt,{path:"schedules",element:r.jsx(e1,{})}),r.jsx(rt,{path:"backups",element:r.jsx(qy,{})}),r.jsx(rt,{path:"dr-runbooks",element:r.jsx(sv,{})}),r.jsx(rt,{path:"restore",element:r.jsx(Gv,{})}),r.jsx(rt,{path:"alerts",element:r.jsx(Ey,{})}),r.jsx(rt,{path:"notifications",element:r.jsx(Sv,{})}),r.jsx(rt,{path:"audit-logs",element:r.jsx(Ty,{})}),r.jsx(rt,{path:"stats",element:r.jsx(r1,{})}),r.jsx(rt,{path:"stats/:id",element:r.jsx(Iv,{})}),r.jsx(rt,{path:"organization/members",element:r.jsx(Rv,{})}),r.jsx(rt,{path:"organization/settings",element:r.jsx(Lv,{})}),r.jsx(rt,{path:"organization/new",element:r.jsx(dv,{})})]})})})})}const yp=document.getElementById("root");if(!yp)throw new Error("Root element not found");bf.createRoot(yp).render(r.jsx(y.StrictMode,{children:r.jsx(s1,{})}));
